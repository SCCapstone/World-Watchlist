{"version":3,"sources":["firebase.js","pages/Landing.tsx","components/SubscriptionParent.tsx","components/WeatherSubChild.tsx","components/WeatherSubChildren.tsx","pages/Weather.tsx","config/config.js","components/Article.tsx","components/ArticleList.tsx","components/SubscriptionChild.tsx","components/SubscriptionChildren.tsx","components/FeedList.tsx","components/FeedToolbar.tsx","pages/Feed.tsx","pages/GroupView.tsx","pages/AddFriends.tsx","pages/PendingRequests.tsx","pages/Social.tsx","pages/Settings.tsx","pages/Tabs.tsx","App.tsx","serviceWorker.ts","index.tsx","images/placeholder.png","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","Landing","props","state","loginEmail","loginPassword","registerEmail","registerPassword","registerConfirmPassword","shouldLoginShow","username","btnText","login","bind","register","guard","this","setPersistence","Auth","Persistence","LOCAL","then","signInWithEmailAndPassword","console","log","currentUser","history","push","catch","error","message","createUserWithEmailAndPassword","uploadDataToFirebase","result","a","createProfile","collection","doc","uid","set","blockedSources","groups","displayName","createEmail","userid","createOutgoingFriendRequests","outgoingFriendRequests","createIncomingFriendRequests","incomingFriendRequests","createFriends","friendsList","Promise","all","className","class","id","lines","position","value","type","placeholder","onIonChange","e","setState","target","onClick","React","Component","ParentComponent","children","WeatherSubChild","location","temp","weather_code","expand","fill","color","func","index","WeatherSubChildren","subs","map","item","Weather","lat","long","name","req","showLoading","subscription","isUnsubscribing","CurrentUser","isweatherOpen","ChildComponent","unsubscribe","onAuthStateChanged","get","data","exists","subscriptionField","splice","update","axios","response","new_location","some","el","main","weather","description","lon","display_name","err","isOpen","slot","toggleWeatherModal","icon","closeCircleOutline","onIonInput","animated","size","shape","geocode","onDidDismiss","subscribe","duration","handleUnsub","secondaryApp","settings","cacheSizeBytes","CACHE_SIZE_UNLIMITED","enablePersistence","code","NewsDB","Article","httpEquiv","content","theArticle","title","href","link","ArticleList","articles","theArticleList","x","key","ChildrenComponent","length","toString","FeedList","headerName","articleList","FeedToolbar","openWeather","cloud","showSubs","bookmarks","showModal","search","Storage","Plugins","Feed","articlesSearched","subscribedArticles","undefined","topicSearched","showSubscription","allArticles","locationBased","isWeatherModalOpen","isSearchingModal","showSearchAlert","showSubscribeAlert","isChanging","aList","onSnapshot","sub_list","subList","i","checkCollection","articlesLocal","JSON","parse","snapshot","forEach","articleItem","html","Description","document","createElement","innerHTML","text","textContent","innerText","Title","Link","source","metadata","fromCache","stringify","getId","where","querySnapshot","docChanges","change","clear","LocalNotifications","requestPermission","granted","schedule","notifications","body","at","Date","getTime","sub","FieldValue","arrayUnion","arrayRemove","topic","toggleNewsModal","toLowerCase","empty","apiSearch","addSubscription","removeSubscription","replace","rssurl","method","url","items","newsItem","searchTopic","addCircle","GroupView","groupViewPopoverEvent","isGroupViewPopoverOpen","isSettingsModalOpen","isMembersModalOpen","isFriendsListModalOpen","isNicknameReadOnly","tempNickname","groupDetails","nickname","members","owner","photo","pullImage","memberUid","member","prevProps","storage","storageRef","ref","pathName","child","getDownloadURL","img","getElementById","setAttribute","selectorFiles","file","newPicRef","put","r","setTimeout","profilePicture","swipeToClose","chevronDownOutline","onChange","uploadImage","files","cloudUploadOutline","readonly","pencilOutline","checkmarkOutline","deleteGroup","friendList","FriendObj","addFriendToGroup","includes","addOutline","cssClass","event","button","peopleOutline","settingsOutline","leaveGroup","exitOutline","isGroupModalOpen","toggleGroupModal","persist","src","Placeholder","AddFriends","targetUserId","isAddFriendModalOpen","toggleAddFriendModal","addFriend","addCircleOutline","PendingRequests","incomingFriends","outgoingFriends","incomingRequests","IncomingFriend","outgoingRequests","OutgoingFriend","isPendingRequestsModalOpen","togglePendingRequestsModal","acceptFriend","declineFriend","cancelOutgingRequest","Social","realtime_db","database","targetUsername","blockedUsers","isMessengerModalOpen","messageRef","isSocialPopoverOpen","socialPopoverEvent","isCreateGroupModalOpen","groupNickname","groupArray","numGroups","unsubscribeGroupArray","unsubscribeFriendsList","unsubscribeBlockedUsers","unsubscribeIncomingRequests","unsubscribeOutgoingRequests","unsubscribeIndiviudalFriends","segmentSelected","unsubscribeGroups","removeFriend","blockUser","generateUniqueFriendId","generateUniqueGroupId","createGroup","generateRandomString","friendsListSnapshot","friend","profileSnapshot","uuidDoc","stateFriendsList","friendObj","uuid","sentinel","stateFriend","blocked","unsubscribeIndividualGroup","group","email","possible","charAt","Math","floor","random","generateUniqueFriendIdPromise","resolve","reject","inUse","generateUniqueGroupIdPromise","uniqueFriendId","sender","delete","targetUid","personAddOutline","sendOutline","listOutline","detail","displayGroup","PushNotifications","Toast","isPushAvailable","Capacitor","isPluginAvailable","FCMPlugin","Settings","isBlockSourceModalOpen","isChangePasswordModalOpen","isChangeUsernameModalOpen","isNotificationsModalOpen","topics","currentUserName","sourceToBlock","sourceToUnBlock","localList","newPassword","newUsername","handleChange","handleSubmit","blockSource","show","subscribeTo","addListener","token","alert","notification","notif","sourceName","addToList","isValidSite","anEmail","newEmail","isEmailAddress","updateEmail","signOut","password","updatePassword","newName","createRef","addEventListener","evt","list","entry","appendChild","createTextNode","siteName","substring","domainType","populate","arrowBackOutline","unBlockSource","Blocked","changePassword","arrowForwardOutline","changeUsername","newspaperOutline","mailOutline","personCircleOutline","Tabs","path","exact","render","to","component","tab","INITIAL_STATE","App","Boolean","window","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister","module","exports","webpackAsyncContext","__webpack_require__","o","Error","ids","keys","Object"],"mappings":"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D,kBAAC,IAAD,CAAOA,OAAK,EAACD,KAAK,IAAIE,OAAQ,kBAAM,kBAAC,IAAD,CAAUC,GAAG,qBChCvCK,QACW,cAA7BC,OAAOjX,SAASkX,UAEe,UAA7BD,OAAOjX,SAASkX,UAEhBD,OAAOjX,SAASkX,SAASC,MACvB,2DCbNC,IAASV,OAAO,kBAAC,GAAD,MAASrP,SAASsE,eAAe,SDsI3C,kBAAmB0L,WACrBA,UAAUC,cAAcC,MAAMza,MAAK,SAAA0a,GACjCA,EAAaC,iB,iBE7InBC,EAAOC,QAAU,swP,6ECAjB,IAAIjX,EAAM,CACT,8BAA+B,CAC9B,IACA,GAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,GAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,sBAAuB,CACtB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,qBAAsB,CACrB,IACA,IAED,mCAAoC,CACnC,IACA,IAED,uBAAwB,CACvB,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,IAED,yBAA0B,CACzB,IACA,GAED,8BAA+B,CAC9B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,gCAAiC,CAChC,IACA,KAGF,SAASkX,EAAoB5W,GAC5B,IAAI6W,EAAoBC,EAAEpX,EAAKM,GAC9B,OAAOpC,QAAQmT,UAAUjV,MAAK,WAC7B,IAAIyC,EAAI,IAAIwY,MAAM,uBAAyB/W,EAAM,KAEjD,MADAzB,EAAEsE,KAAO,mBACHtE,KAIR,IAAIyY,EAAMtX,EAAIM,GAAMhC,EAAKgZ,EAAI,GAC7B,OAAOH,EAAoBtY,EAAEyY,EAAI,IAAIlb,MAAK,WACzC,OAAO+a,EAAoB7Y,MAG7B4Y,EAAoBK,KAAO,WAC1B,OAAOC,OAAOD,KAAKvX,IAEpBkX,EAAoB5Y,GAAK,GACzB0Y,EAAOC,QAAUC,G,mBChMjB,IAAIlX,EAAM,CACT,sBAAuB,CACtB,IACA,KAGF,SAASkX,EAAoB5W,GAC5B,IAAI6W,EAAoBC,EAAEpX,EAAKM,GAC9B,OAAOpC,QAAQmT,UAAUjV,MAAK,WAC7B,IAAIyC,EAAI,IAAIwY,MAAM,uBAAyB/W,EAAM,KAEjD,MADAzB,EAAEsE,KAAO,mBACHtE,KAIR,IAAIyY,EAAMtX,EAAIM,GAAMhC,EAAKgZ,EAAI,GAC7B,OAAOH,EAAoBtY,EAAEyY,EAAI,IAAIlb,MAAK,WACzC,OAAO+a,EAAoB7Y,MAG7B4Y,EAAoBK,KAAO,WAC1B,OAAOC,OAAOD,KAAKvX,IAEpBkX,EAAoB5Y,GAAK,GACzB0Y,EAAOC,QAAUC,G","file":"static/js/main.66080022.chunk.js","sourcesContent":["\r\nimport firebase from 'firebase';\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyCAmbJVaYRk_N6RBcg_VnH865_9FzstE_I\",\r\n  authDomain: \"worldwatchlist.firebaseapp.com\",\r\n  databaseURL: \"https://worldwatchlist.firebaseio.com\",\r\n  projectId: \"worldwatchlist\",\r\n  storageBucket: \"worldwatchlist.appspot.com\",\r\n  messagingSenderId: \"106343909885\",\r\n  appId: \"1:106343909885:web:5cd924b3087d5e5b483194\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.firestore();\r\nexport default firebase;\r\n","import React from 'react';\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonItemDivider,\r\n  IonList,\r\n  IonItem,\r\n  IonContent,\r\n  IonInput,\r\n  IonTitle,\r\n  IonButton,\r\n  IonLabel\r\n} from '@ionic/react'\r\n\r\nimport './Landing.css'\r\nimport firebase, {auth, db} from '../firebase.js'\r\n\r\ntype MyState = {\r\n  loginEmail: string;\r\n  loginPassword: string;\r\n  registerEmail: string;\r\n  registerPassword: string;\r\n  registerConfirmPassword: string;\r\n  shouldLoginShow: boolean;\r\n  username: string;\r\n  btnText: string;\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\n\r\n\r\nclass Landing extends React.Component<MyProps, MyState> {\r\n\r\n  state: MyState = {\r\n    loginEmail: '',\r\n    loginPassword: '',\r\n    registerEmail: '',\r\n    registerPassword: '',\r\n    registerConfirmPassword: '',\r\n    shouldLoginShow: true,\r\n    username: '',\r\n    btnText: ''\r\n  };\r\n\r\n\r\n\r\n  constructor(props: MyProps) {\r\n    super(props)\r\n\r\n    this.login = this.login.bind(this);\r\n    this.register = this.register.bind(this);\r\n    this.state.btnText = 'Create an Account';\r\n  }\r\n\r\n  login() {\r\n    //attempts to sign a user into the app\r\n    //field checks\r\n    let guard = true\r\n    if(this.state.loginEmail === '') {\r\n      guard = false\r\n    }\r\n    if(this.state.loginPassword === '') {\r\n      guard = false\r\n    }\r\n    if(guard) {\r\n      firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(() => {\r\n        auth.signInWithEmailAndPassword(this.state.loginEmail, this.state.loginPassword).then(() => {\r\n          //user successfully logs in\r\n          //reroute here\r\n          console.log(auth.currentUser)\r\n          if(auth.currentUser) {\r\n            this.props.history.push(\"/main\")\r\n          }\r\n        }).catch((error) => {\r\n          //error handling\r\n          console.log(error.message)\r\n\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  register() {\r\n    let guard = true\r\n    if(this.state.registerEmail ==='') {\r\n      guard = false\r\n    }\r\n    if(this.state.registerPassword === '') {\r\n      guard = false\r\n    }\r\n    if(this.state.registerConfirmPassword !== this.state.registerPassword) {\r\n      guard = false\r\n    }\r\n    //attempts to register a user\r\n    //field checks\r\n\r\n    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(() => {\r\n      auth.createUserWithEmailAndPassword(this.state.registerEmail, this.state.registerPassword).then(() => {\r\n        //user successfully registers\r\n        //reroute here\r\n        this.uploadDataToFirebase().then((result) => {\r\n          this.props.history.push(\"/main\")\r\n        })\r\n       //admin.storage.ref().child(this.state.username+'#'+this.state.usernameIdentifier.toString() + '/new.jpg').put('../images/placeholder.png')\r\n       //firebase.put('asdf');\r\n\r\n      }).catch((error) => {\r\n        //error handling\r\n        console.log(error.message)\r\n      })\r\n    })\r\n  }\r\n\r\n  async uploadDataToFirebase() {\r\n    const createProfile : Promise<void> = db.collection('profiles').doc(auth.currentUser?.uid).set({\r\n      blockedSources:[],\r\n      groups: [],\r\n      displayName: this.state.username\r\n    })\r\n    const createEmail : Promise<void> = db.collection('emails').doc(this.state.registerEmail).set({\r\n      userid: auth.currentUser?.uid\r\n    })\r\n    const createOutgoingFriendRequests : Promise<void> = db.collection(\"outgoingFriendRequests\").doc(auth.currentUser?.uid).set({\r\n      outgoingFriendRequests: []\r\n    })\r\n    const createIncomingFriendRequests : Promise<void> = db.collection(\"incomingFriendRequests\").doc(auth.currentUser?.uid).set({\r\n      incomingFriendRequests: []\r\n    })\r\n    const createFriends : Promise<void> = db.collection(\"friends\").doc(auth.currentUser?.uid).set({\r\n      friendsList: []\r\n    })\r\n\r\n    return await Promise.all([createProfile, createEmail, createOutgoingFriendRequests, createIncomingFriendRequests, createFriends])\r\n  }\r\n\r\n    render() {\r\n      return (\r\n      <IonPage>\r\n        <IonHeader>\r\n          <IonToolbar className='landingToolbar'>\r\n            <IonTitle class='loginTitle'>\r\n              {this.state.shouldLoginShow ? 'Login' : 'Create an Account'}\r\n            </IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent className='landingContent'>\r\n        {\r\n          this.state.shouldLoginShow ?\r\n            <div className='loginContainer'>\r\n              <div id='loginInputContainer'>\r\n                <h1 id='header'>Enter your login info here</h1>\r\n                <IonItem lines='none' className='loginItem'>\r\n                <IonLabel class='loginLabel' position='floating'></IonLabel>\r\n                  <IonInput value={this.state.loginEmail} className='loginInput' type='email' placeholder = 'Email Address' onIonChange={(e) => {this.setState({loginEmail: (e.target as HTMLInputElement).value})}} />\r\n                </IonItem>\r\n\r\n                <IonItem lines='none' className='loginItem'>\r\n                  <IonLabel className='loginLabel' position='floating'></IonLabel>\r\n                  <IonInput value={this.state.loginPassword}  className='loginInput' type='password' placeholder = 'Password' onIonChange={(e) => {this.setState({loginPassword: (e.target as HTMLInputElement).value})}}/>\r\n                </IonItem>\r\n              </div>\r\n              <IonButton onClick={() => {this.login()}} className='loginButton'>Submit</IonButton>\r\n            </div>\r\n          :\r\n            <div className='registerContainer'>\r\n              <div id='registerInputContainer'>\r\n              <h1 id='header'>Register for an account</h1>\r\n                <IonItem lines='none' className='registerItem'>\r\n                <IonLabel className='registerLabel' position='floating' id = 'email'></IonLabel>\r\n                  <IonInput value={this.state.registerEmail} className='registerInput' type='email' placeholder = 'Email Address' onIonChange={(e) => {this.setState({registerEmail: (e.target as HTMLInputElement).value})}} />\r\n                </IonItem>\r\n\r\n                <IonItem lines='none' className='registerItem'>\r\n                  <IonLabel className='registerLabel' position='floating'></IonLabel>\r\n                  <IonInput value={this.state.registerPassword} className='registerInput' type='password' placeholder = 'Password' onIonChange={(e) => {this.setState({registerPassword: (e.target as HTMLInputElement).value})}}/>\r\n                </IonItem>\r\n\r\n                <IonItem lines='none' className='registerItem'>\r\n                  <IonLabel className='registerLabel' position='floating'></IonLabel>\r\n                  <IonInput value={this.state.registerConfirmPassword}  className='registerInput' type='password' placeholder = 'Confirm Password' onIonChange={(e) => {this.setState({registerConfirmPassword: (e.target as HTMLInputElement).value})}}/>\r\n                </IonItem>\r\n\r\n                <IonItem lines='none' className='registerItem'>\r\n                  <IonLabel className='registerLabel' position='floating'></IonLabel>\r\n                  <IonInput value={this.state.username} className='registerInput' type='text' placeholder = 'Username' onIonChange={(e) => {this.setState({username: (e.target as HTMLInputElement).value})}}/>\r\n                </IonItem>\r\n              </div>\r\n              <IonButton onClick={() => {this.register()}} className='registerButton'>Submit</IonButton>\r\n            </div>\r\n        }\r\n\r\n          <IonButton className = 'landingSwitch' onClick={() => {if(this.state.btnText=='Create an Account') this.state.btnText='Log In'; else this.state.btnText='Create an Account';this.setState({shouldLoginShow: !this.state.shouldLoginShow})}} >{this.state.btnText}</IonButton>\r\n        </IonContent>\r\n      </IonPage>\r\n      )\r\n    }\r\n\r\n}\r\n\r\nexport default Landing\r\n","import React from \"react\";\r\n\r\nconst ParentComponent = (props:any) => (\r\n    <div>\r\n      <div id=\"children-pane\">\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\nexport default ParentComponent;","import { IonButton, IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCardTitle } from '@ionic/react';\r\nimport React from 'react';\r\n\r\n\r\nfunction WeatherSubChild (props: {weather_code:any, temp:any, location: any, index:any, func: any}) {\r\n    function unsubClick(e: any) {\r\n        props.func(props.index);\r\n    }\r\n    return (\r\n    <IonCard>\r\n        <IonCardHeader >\r\n          <IonCardSubtitle>{props.location}</IonCardSubtitle>\r\n          <IonCardTitle >{props.temp}</IonCardTitle>\r\n        </IonCardHeader>\r\n        <IonCardContent>\r\n        {props.weather_code}\r\n        <IonButton expand=\"block\" fill=\"outline\" color=\"secondary\" type=\"submit\" onClick={unsubClick}>unsub</IonButton>\r\n        </IonCardContent>\r\n      </IonCard>);}\r\n\r\nexport default WeatherSubChild;","import React from 'react';\r\nimport ParentComponent from './SubscriptionParent';\r\nimport WeatherSubChild from './WeatherSubChild';\r\n\r\nfunction WeatherSubChildren(props: {subs: Array<any>, func: any}) {\r\n    let subs = props.subs.map((item, index) => {return <WeatherSubChild \r\n        weather_code={item.weather_code}\r\n        temp={item.temp} location={item.location}\r\n        index={index} func={props.func}></WeatherSubChild>})\r\n    return <ParentComponent>{subs}</ParentComponent>;\r\n} \r\nexport default WeatherSubChildren;","import React from 'react';\r\nimport axios from 'axios'\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonContent,\r\n  IonTitle,\r\n  IonSearchbar,\r\n  IonInput,\r\n  IonButton,\r\n  IonLoading,\r\n  IonRouterOutlet,\r\n  IonIcon,\r\n  IonCard,\r\n  IonCardContent,\r\n  IonCardHeader,\r\n  IonCardSubtitle,\r\n  IonCardTitle,\r\n  IonModal,\r\n  IonButtons,\r\n\r\n} from '@ionic/react'\r\nimport './Weather.css'\r\nimport firebase, {db, auth} from '../firebase'\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { arrowBack, closeCircleOutline } from 'ionicons/icons';\r\nimport Tabs from './Tabs'\r\nimport ParentComponent from '../components/SubscriptionParent';\r\nimport { WeatherProps, WeatherState } from '../components/WeatherTypes';\r\nimport WeatherSubChildren from '../components/WeatherSubChildren';\r\n\r\n\r\nclass Weather extends React.Component<WeatherProps,WeatherState> {\r\n  state: WeatherState = {\r\n      lat: null,\r\n      long: null,\r\n      name: null,\r\n      req: null,\r\n      temp: null,\r\n      weather_code: null,\r\n      showLoading: false,\r\n      location: null,\r\n      subscription: [],\r\n      isUnsubscribing: false,\r\n      CurrentUser:null,\r\n      isweatherOpen:false\r\n  };\r\n\r\n\r\n  constructor(props: WeatherProps) {\r\n    super(props)\r\n    auth.onAuthStateChanged(async () => {\r\n      console.log(this.state.subscription)\r\n      if(auth.currentUser) {\r\n        //gets the username of our user\r\n        db.collection(\"users\").doc(auth.currentUser.uid).get().then(doc => {\r\n          if(doc.data()) {\r\n            this.setState({CurrentUser:doc.data()!.username})\r\n          }\r\n          // go into weatherSubscription collection\r\n          const dbSubscription = db.collection('weatherSubscription').doc(auth.currentUser?.uid)\r\n          // Check weather subscription array exist for user\r\n          dbSubscription.get().then((doc) => {\r\n            // use existing array\r\n            if (doc.exists) {\r\n              var subscriptionField = doc.data()\r\n              if (subscriptionField) {\r\n                this.setState({subscription:subscriptionField.subscription})\r\n              }\r\n            }\r\n            // create an array for the user.\r\n              else {\r\n                db.collection(\"weatherSubscription\").doc(auth.currentUser?.uid).set({\r\n                  subscription:[]\r\n            })\r\n            }\r\n        }).catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n\r\n        })\r\n      }\r\n  })\r\n\r\n  }\r\n  // ParentComponent = (props:any) => (\r\n  //   <div className=\"card calculator\">\r\n  //     <div id=\"children-pane\">\r\n  //       {props.children}\r\n  //     </div>\r\n  //   </div>\r\n  // );\r\n\r\n  ChildComponent = (props: {weather_code:any, temp:any, location: any, index:any}) =>\r\n  <IonCard>\r\n        <IonCardHeader >\r\n          <IonCardSubtitle>{props.location}</IonCardSubtitle>\r\n          <IonCardTitle >{props.temp}</IonCardTitle>\r\n        </IonCardHeader>\r\n        <IonCardContent>\r\n        {props.weather_code}\r\n        <IonButton expand=\"block\" fill=\"outline\" color=\"secondary\" type=\"submit\" onClick={()=> this.unsubscribe(props.index) && this.setState({isUnsubscribing:true})}>unsub</IonButton>\r\n        </IonCardContent>\r\n      </IonCard>\r\n\r\n\r\n  /* remove item from subscribed based on index */\r\n  async unsubscribe(index:any) {\r\n    console.log(index)\r\n    this.state.subscription.splice(index,1)\r\n    db.collection('weatherSubscription').doc(auth.currentUser?.uid).update({\r\n      subscription: this.state.subscription\r\n    })\r\n  }\r\n\r\n  /* add new current weather location to subscribed array */\r\n  async subscribe(lat: any, long: any) {\r\n    await axios.get(\"http://api.openweathermap.org/data/2.5/weather?lat=\"+lat+\"&lon=\"+long+\"&APPID=853ea8c8d782be685ad81ace7b65291a&units=imperial\")\r\n    .then((response) => {\r\n      const data = response.data\r\n      console.log(data)\r\n      const new_location = this.state.name\r\n      const found = this.state.subscription.some(el => el.location === new_location);\r\n      if (found === true) {\r\n        console.log(\"already subscribed\")\r\n      } else {\r\n        console.log(\"adding to subscription\")\r\n        this.state.subscription.push({location: this.state.name, temp:data.main.temp+' F', weather_code: data.weather[0].description})\r\n      }\r\n      this.setState({temp:data.main.temp+'F',weather_code: data.weather[0].description, location: this.state.name})\r\n      /* Add data to firebase firestore */\r\n      db.collection('weatherSubscription').doc(auth.currentUser?.uid).update({\r\n        subscription: this.state.subscription\r\n      })\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    });\r\n  }\r\n\r\n  /* get latitude and longitude of location */\r\n  async geocode(location: any) {\r\n    if (location === null) {\r\n      console.log(\"Please enter a valid location\")\r\n    } else {\r\n      await axios.get('https://us1.locationiq.com/v1/search.php?key=pk.180fdf6168d1230db0cc5c937b7eaa98&q&q='+location+'&limit=1&countrycodes=US&namedetails=1&format=json')\r\n    .then((response) => {\r\n      let data = response.data[0]\r\n      console.log(data)\r\n      let lat = data.lat\r\n      let long = data.lon\r\n      let display_name = data.display_name\r\n      this.setState({lat: lat, long: long, name: display_name})\r\n    }).catch(err => {\r\n      console.error(err);\r\n    });\r\n    }\r\n  }\r\n\r\n  handleUnsub(index: number) {\r\n    this.unsubscribe(index);\r\n    this.setState({isUnsubscribing:true})\r\n  }\r\n  /* ClimaCell API (currently not in used because ran out of request) */\r\n  // async getWeatherData(lat: any, long: any) {\r\n  //   await fetch(\"https://api.climacell.co/v3/weather/forecast/daily?lat=\"+ lat + \"&lon=\"+ long +\"&unit_system=us&start_time=now&fields=feels_like&fields=\"+\r\n  //   \"wind_speed&fields=precipitation_probability&fields=weather_code&fields=humidity&apikey=YSpFrL7B389Ssy8msuqnPT3oY7keeAXf\", {\r\n  //     \"method\": \"GET\",\r\n  //     \"headers\": {}\r\n  //   })\r\n  //     .then(response => {\r\n  //       response.json().then((data) => {\r\n  //         var wlist = []\r\n  //         wlist.push({location: this.state.name, temp:data[0].feels_like[0].min.value +' '+data[0].feels_like[0].min.units, weather_code: data[0].weather_code.value})\r\n  //         this.state.subscription.push(wlist)\r\n  //         // console.log(this.state.subscription)\r\n  //         this.setState({temp:data[0].feels_like[0].min.value+data[0].feels_like[0].min.units+' ',weather_code: data[0].weather_code.value, location: this.state.name})\r\n  //         });\r\n  //     })\r\n  //     .catch(err => {\r\n  //       console.error(err);\r\n  //     });\r\n  // }\r\n\r\n    render() {\r\n\r\n      // const weatherDisplay = [];\r\n      // for (var i = 0; i < this.state.subscription.length; i+=1) {\r\n      //   weatherDisplay.push(<this.ChildComponent key={i} weather_code={this.state.subscription[i].weather_code}\r\n      //     temp={this.state.subscription[i].temp} location={this.state.subscription[i].location} index={i} />);\r\n      // };\r\n      return (\r\n      <IonModal isOpen={this.props.isOpen}>\r\n        <IonHeader>\r\n          <IonToolbar className='weatherToolbar'>\r\n            <IonTitle className='weatherTitle'>\r\n              Weather\r\n            </IonTitle>\r\n            <IonButtons slot='start'>\r\n                <IonButton onClick={() => {this.props.toggleWeatherModal()}} fill='clear'>\r\n                  <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n            </IonButtons>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        <IonSearchbar placeholder=\"State, City, address...\" onIonInput={(e: any) => this.setState({req:e.target.value})} animated></IonSearchbar>\r\n        <IonButton id=\"searchButton\" size=\"default\" color=\"dark\" type=\"submit\" expand=\"full\" shape=\"round\" onClick={() => this.geocode(this.state.req)\r\n          && this.setState({showLoading: true })}>\r\n          search\r\n        </IonButton>\r\n        <IonLoading\r\n        isOpen={this.state.showLoading}\r\n        onDidDismiss={() =>  this.subscribe(this.state.lat, this.state.long) && this.setState({showLoading: false})}\r\n        message={'Getting data from API'}\r\n        duration={750}\r\n        />\r\n\r\n      {/* <ParentComponent>\r\n       {weatherDisplay}\r\n      </ParentComponent> */}\r\n      <WeatherSubChildren subs={this.state.subscription} func={this.handleUnsub.bind(this)}></WeatherSubChildren>\r\n\r\n          </IonContent>\r\n        </IonModal>\r\n      )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Weather\r\n","import firebase from 'firebase';\r\n\r\nvar config = {\r\n  apiKey: \"AIzaSyCiQa3wPMFOp_PidtF-8arljaCT3XFMLhc\",\r\n  authDomain: \"world-watchlist-server-8f86e.firebaseapp.com\",\r\n  databaseURL: \"https://world-watchlist-server-8f862.firebaseio.com\",\r\n  projectId: \"world-watchlist-server-8f86e\",\r\n  storageBucket: \"world-watchlist-server-8f86e.appspot.com\",\r\n  messagingSenderId: \"252689618671\",\r\n  appId: \"1:252689618671:web:3ac355cc3bbad710d02d1a\",\r\n};\r\n\r\nvar secondaryApp = firebase.initializeApp(config, \"Secondary\");\r\n/* Allow caching with unlimited size for accessing data offline */\r\nsecondaryApp.firestore().settings({\r\n  cacheSizeBytes: firebase.firestore.CACHE_SIZE_UNLIMITED\r\n});\r\nsecondaryApp.firestore().enablePersistence()\r\n  .catch((err) => {\r\n      if (err.code == 'failed-precondition') {\r\n          // Multiple tabs open, persistence can only be enabled\r\n          // in one tab at a a time.\r\n          // ...\r\n      } else if (err.code == 'unimplemented') {\r\n          // The current browser does not support all of the\r\n          // features required to enable persistence\r\n          // ...\r\n      }\r\n  });\r\n\r\n  \r\nexport const NewsDB = secondaryApp.firestore();\r\nexport default secondaryApp;","import React from 'react';\r\nimport { article } from './ArticleTypes';\r\nimport './Article.css'\r\nimport { IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCardTitle } from '@ionic/react';\r\n\r\nfunction Article(props: {theArticle: article}) {\r\n    //console.log(props.theArticle);\r\n    return <IonCard>\r\n      <meta httpEquiv=\"Cache-control\" content=\"no-cache\"></meta>\r\n          <IonCardHeader>\r\n            <IonCardTitle>{props.theArticle.title}</IonCardTitle>\r\n          </IonCardHeader>\r\n          <IonCardContent>\r\n              {props.theArticle.description}\r\n            </IonCardContent>\r\n            <IonCardContent><a href={props.theArticle.link}>source</a></IonCardContent>\r\n        </IonCard>\r\n}\r\nexport default Article;","import React from 'react';\r\nimport Article from './Article';\r\nimport { article, articleList } from './ArticleTypes';\r\n\r\nfunction ArticleList(props: {theArticleList: articleList}) {\r\n    //console.log(props.theArticleList);\r\n    let articles = props.theArticleList.map((x: article) =><div key={x.title}> <Article theArticle={x}></Article> </div>);\r\nreturn <div>{articles}</div>;\r\n}\r\nexport default ArticleList;","import { IonButton, IonCard, IonCardContent, IonCardHeader, IonCardTitle } from '@ionic/react';\r\nimport React from 'react';\r\n\r\n\r\nfunction ChildComponent (props: {subscription:any, index:any, func: any }) {\r\n    function unsubClick(e: any) {\r\n        props.func(props.subscription, props.index);\r\n    }\r\n    return (<IonCard>\r\n      <IonCardHeader >\r\n        <IonCardTitle>{props.subscription}</IonCardTitle>\r\n        </IonCardHeader>\r\n        <IonCardContent>\r\n        <IonButton expand=\"block\" fill=\"outline\" color=\"secondary\" type=\"submit\" onClick={unsubClick}>unsubscribe</IonButton>\r\n        </IonCardContent>\r\n    </IonCard>);}\r\n\r\nexport default ChildComponent;","import { IonItem } from '@ionic/react';\r\nimport React from 'react';\r\nimport ChildComponent from './SubscriptionChild'\r\nimport ParentComponent from './SubscriptionParent';\r\n\r\nfunction ChildrenComponent(props: {subs: Array<String>, func: any}) {\r\n    console.log(\"Child list: \"+props.subs.length+\" in list\");\r\n    let subs = props.subs.map((item, index)=> {return <ChildComponent key={item.toString()} subscription={item}\r\n     index={index} func={props.func}></ChildComponent>});\r\n  return <ParentComponent>{subs}</ParentComponent>;\r\n} \r\nexport default ChildrenComponent;","import { IonList, IonListHeader } from \"@ionic/react\";\r\nimport React from \"react\";\r\nimport ArticleList from \"./ArticleList\";\r\nimport { article } from \"./ArticleTypes\";\r\n\r\nfunction FeedList( props: {headerName: string, articleList: Array<article>}) {\r\n    return (\r\n    <IonList>\r\n        <IonListHeader>\r\n          {props.headerName}\r\n        </IonListHeader>\r\n        <ArticleList theArticleList={props.articleList}></ArticleList>\r\n    </IonList>)\r\n}\r\nexport default FeedList;","import { IonButton, IonButtons, IonIcon, IonTitle, IonToolbar } from '@ionic/react';\r\nimport { cloud, bookmarks, search } from 'ionicons/icons';\r\nimport React from 'react';\r\n\r\n\r\nfunction FeedToolbar (props: { openWeather: any, showSubs: any, showModal: any}) {\r\n    \r\n    // let openWeather = () => props.openWeather();\r\n    // let showSubs = () => props.showSubs();\r\n    // let showModal = () => props.showModal();\r\n    return (<IonToolbar class ='feedToolbar'>\r\n    <IonTitle class='feedTitle'>\r\n      Feed\r\n    </IonTitle>\r\n    \r\n<IonButtons slot=\"start\">\r\n    <IonButton onClick={props.openWeather}  fill='clear'>\r\n        <IonIcon icon={cloud} />\r\n    </IonButton>\r\n    </IonButtons>\r\n    <IonButtons slot=\"end\">\r\n    <IonButton onClick={props.showSubs}  fill='clear'>\r\n        <IonIcon icon={bookmarks} />\r\n    </IonButton>\r\n    </IonButtons>\r\n    <IonButtons slot=\"end\">\r\n    <IonButton onClick={props.showModal}  fill='clear'>\r\n        <IonIcon icon={search} />\r\n    </IonButton>\r\n    </IonButtons>\r\n  </IonToolbar>);\r\n}\r\n\r\nexport default FeedToolbar;","import React, { useState } from 'react';\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonContent,\r\n  IonTitle,\r\n  IonRouterOutlet,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonButton,\r\n  IonButtons,\r\n  IonSearchbar,\r\n  IonLoading,\r\n  IonModal,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonFabButton,\r\n  IonCardContent,\r\n  IonCardSubtitle,\r\n  IonItem,\r\n  IonCheckbox,\r\n  IonList, IonListHeader, IonAlert, IonToast\r\n} from '@ionic/react'\r\nimport './Feed.css'\r\nimport { NewsDB } from '../config/config';\r\nimport firebase, {db,auth} from '../firebase'\r\nimport ArticleList from '../components/ArticleList';\r\nimport { article, articleList } from '../components/ArticleTypes';\r\nimport Weather from './Weather'\r\nimport { add, addCircle, archive, bookmarks, closeCircleOutline, cloud, notificationsCircleOutline, search } from 'ionicons/icons';\r\nimport { LocalNotifications, Plugins } from '@capacitor/core';\r\nimport axios from 'axios';\r\nimport ParentComponent from '../components/SubscriptionParent';\r\nimport ChildrenComponent from '../components/SubscriptionChildren';\r\nimport { FeedProps, FeedState } from '../components/FeedTypes';\r\nimport FeedList from '../components/FeedList';\r\nimport FeedToolbar from '../components/FeedToolbar';\r\nconst { Storage } = Plugins;\r\n\r\n\r\n\r\nclass Feed extends React.Component<FeedProps, FeedState> {\r\n  state: FeedState = {\r\n    articles: [],\r\n    subs: [],\r\n    articlesSearched:[],\r\n    subscribedArticles: undefined,\r\n    CurrentUser: null,\r\n    topicSearched:null,\r\n    showLoading:false,\r\n    showModal:false,\r\n    showSubscription:false,\r\n    allArticles:[],\r\n    locationBased:false,\r\n    isWeatherModalOpen:false,\r\n    isSearchingModal:false,\r\n    showSearchAlert:false,\r\n    showSubscribeAlert:false,\r\n    isChanging:false\r\n  };\r\n\r\n  constructor(props: FeedProps) {\r\n    super(props)\r\n    this.toggleWeatherModal = this.toggleWeatherModal.bind(this);\r\n    let aList : any[] = [];\r\n    auth.onAuthStateChanged(async () => {\r\n      if(auth.currentUser) {\r\n        //gets the username of our user\r\n        await db.collection(\"users\").doc(auth.currentUser.uid).get().then(async doc => {\r\n          // everytime there is a new subscription, update news onto main feed\r\n          db.collection(\"topicSubscription\").doc(auth.currentUser?.uid)\r\n          .onSnapshot(async (sub_list) => {\r\n            this.setState({articles:[]})\r\n            if (sub_list.exists) {\r\n            \r\n              this.setState({subs: await sub_list.data()!.subList});\r\n              console.log(\"subs\",this.state.subs)\r\n              for (var i = 0; i < this.state.subs.length; i++) {\r\n                /* Observe any changes in firestore and send a notification*/\r\n                await this.checkCollection(this.state.subs[i])\r\n                aList = []\r\n                var articlesLocal = await Storage.get({key:this.state.subs[i]})\r\n                // check local storage if collection exist take from cache, if collection changes, get from server\r\n                if ((articlesLocal.value)?.length === undefined || JSON.parse((articlesLocal.value)).length === 0 || this.state.isChanging===true) {\r\n                  console.log(\"local storage empty for\", this.state.subs[i])\r\n                  await NewsDB.collection(this.state.subs[i]).get()\r\n                .then(async (snapshot) => {\r\n                  snapshot.forEach(async doc => {\r\n                    if (doc.exists) {\r\n                      let articleItem = doc.data();\r\n                      var html = articleItem.Description;\r\n                      var a = document.createElement(\"a\");\r\n                      a.innerHTML = html;\r\n                      var text = a.textContent || a.innerText || \"\";\r\n                      aList.push({title: articleItem.Title, link: articleItem.Link, description: text})\r\n                    } else {\r\n                      console.log(\"Cannot find anything in database.\")\r\n                    }\r\n                  })\r\n                  \r\n                  var source = snapshot.metadata.fromCache ? \"local cache\" : \"server\";\r\n                  console.log(\"Sub Articles came from \" + source);\r\n                  await Storage.set({ key: this.state.subs[i], value: JSON.stringify(aList)});\r\n                  this.setState({articles: [...this.state.articles, ...aList]})\r\n                })\r\n                } else {\r\n                  this.setState({articles:[...this.state.articles, ...JSON.parse(articlesLocal.value)]})\r\n                  // console.log(\"taking from capacitor cache\")\r\n                }\r\n              }\r\n              // console.log(\"articles\",this.state.articles)\r\n            } else {\r\n              db.collection(\"topicSubscription\").doc(this.getId()).set({subList: []});\r\n            }\r\n          })\r\n        }).catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n        // end of getting data from server\r\n        \r\n      }\r\n     \r\n    })\r\n    \r\n    \r\n  }\r\n  \r\n  getId() {\r\n    // return user_id if current user else null\r\n    return auth.currentUser?.uid;\r\n  }\r\n  \r\n  toggleWeatherModal() {\r\n    this.setState({isWeatherModalOpen: !this.state.isWeatherModalOpen})\r\n  }\r\n\r\n  async checkCollection(collection:string){\r\n    var observer = NewsDB.collection(collection).where('Title', '!=', '')\r\n    .onSnapshot(querySnapshot => {\r\n      querySnapshot.docChanges().forEach( async change => {\r\n        // if there are changes to the metadata, clear cache and add new docs to the \r\n        if (change.doc.metadata.fromCache === false) {\r\n          this.clear()\r\n          this.setState({isChanging:!this.state.isChanging})\r\n          console.log(\"test\",this.state.isChanging)\r\n          // send notification for every changes in collection\r\n        if ((await LocalNotifications.requestPermission()).granted) {\r\n          await LocalNotifications.schedule({\r\n            notifications: [{\r\n              title: 'New articles in your feed!',\r\n              body: \"Check them out!\",\r\n              id: 1,\r\n              schedule: {\r\n                at:new Date(new Date().getTime() + 1000)\r\n              }\r\n            }]\r\n          });\r\n        }\r\n      }\r\n      });\r\n    });\r\n  }\r\n\r\n  \r\n\r\n  /*clear capacitor local storage */\r\n  async clear() {\r\n    await Storage.clear();\r\n  }\r\n\r\n  /* can currently subscribe to: gaming, health, politics, sports, technology, world */\r\n  async addSubscription(sub: string) {\r\n    if (sub!== \"\") {\r\n      await db.collection(\"topicSubscription\").doc(this.getId()).update({subList: firebase.firestore.FieldValue.arrayUnion(sub)})\r\n    }\r\n  }\r\n\r\n  async removeSubscription(index:any) {\r\n    if (this.state.subs[index] !== \"\") {\r\n      await db.collection(\"topicSubscription\").doc(this.getId()).update({subList: firebase.firestore.FieldValue.arrayRemove(this.state.subs[index])})\r\n    }\r\n  }\r\n\r\n\r\n  toggleNewsModal(){\r\n    this.setState({isSearchingModal: true})\r\n\r\n  }\r\n\r\n  /* search firebase database for topic*/\r\n  async searchTopic(topic:any) {\r\n    this.setState({showLoading: true})\r\n    this.setState({articlesSearched:[]})\r\n      if (topic === null || topic === undefined || topic === '') {\r\n        console.log(\"Enter a valid topic\");\r\n        this.setState({showSearchAlert:true})\r\n      } else {\r\n        this.toggleNewsModal()\r\n        let aList : articleList = [];\r\n        /* cache data on topic search */\r\n        await NewsDB.collection(topic.toLowerCase()).get()\r\n        .then(async (snapshot) => {\r\n        if (snapshot.empty) {\r\n          // searching through api and sending to firestore instead of searching in main collection\r\n          await this.apiSearch(topic, 'search')\r\n       \r\n        } else {\r\n        console.log(\"collection exist, will pull data from that collection\")\r\n\r\n        aList = [];\r\n        snapshot.docChanges().forEach((change) => {\r\n          if (change.doc.exists) {\r\n            let articleItem = change.doc.data();\r\n            var html = articleItem.Description;\r\n            var a = document.createElement(\"a\");\r\n            a.innerHTML = html;\r\n            var text = a.textContent || a.innerText || \"\";\r\n            aList.push({title: articleItem.Title, link: articleItem.Link, description: text})\r\n          }\r\n          this.setState({articlesSearched: aList})\r\n        })\r\n        }\r\n      })\r\n    }\r\n    this.setState({showLoading: false})\r\n    return 0\r\n  }\r\n\r\n  async subscribe(topic:any) {\r\n    if (topic === null || topic === undefined || topic === '') {\r\n      console.log(\"Enter a valid topic\");\r\n    } else {\r\n      /* cache data on subscribe */\r\n      await NewsDB.collection(topic.toLowerCase()).get()\r\n        .then(async (snapshot) => {\r\n       /* Creating a new collection if topic collection doesn't exist and subscribing to it */\r\n      if (snapshot.empty) {\r\n        await this.apiSearch(topic, 'subscribe')\r\n       \r\n      }\r\n      else {\r\n        console.log(\"News about \"+ topic +\" has been found and will be subscribed.\")\r\n        await this.addSubscription(topic.toLowerCase());\r\n      }\r\n      var source = snapshot.metadata.fromCache ? \"local cache\" : \"server\";\r\n          console.log(\"Data came from \" + source);\r\n    })\r\n  }\r\n  }\r\n\r\n  async unsubscribe(topic:any,index:any) {\r\n    console.log(\"News about \"+ topic +\" has been found and will be unsubscribed.\")\r\n    await this.removeSubscription(index);\r\n  }\r\n\r\n  /* using an api to turn rss feeds into json to avoid cors policy errors */\r\n  async apiSearch(topic: any, type:string) {\r\n    let aList : articleList = [];\r\n    /* needed for the api.rss2json to work */\r\n    let temp = topic.replace(/\\ /g,\"%2520\")\r\n    let rssurl = \"https%3A%2F%2Fnews.google.com%2Frss%2Fsearch%3Fq%3D\"+temp+\"%26hl%3Den-US%26gl%3DUS%26ceid%3DUS%3Aen\"\r\n    await axios({\r\n      method: 'GET',\r\n      url:'https://api.rss2json.com/v1/api.json?rss_url='+rssurl\r\n    // url: \"https://send-rss-get-json.herokuapp.com/convert/?u=\"+\"https://news.google.com/rss/search?q=\"+topic+\"&hl=en-US&gl=US&ceid=US:en\"\r\n    // https://api.rss2json.com/v1/api.json?rss_url=\r\n  })\r\n    .then(async (response) => {\r\n      const data = await response.data\r\n      console.log(data)\r\n      await data.items.forEach((articleItem: any) => {\r\n        /* remove <a> html tag from description */\r\n        var html = articleItem.description;\r\n        var a = document.createElement(\"a\");\r\n        a.innerHTML = html;\r\n        var text = a.textContent || a.innerText || \"\";\r\n        aList.push({title: articleItem.title, link: articleItem.link, description: text})\r\n      })\r\n      if (type==='search') {\r\n        this.setState({articlesSearched: aList})\r\n      } else {\r\n        aList.forEach(async newsItem => {\r\n          var html = newsItem.description;\r\n          var a = document.createElement(\"a\");\r\n          a.innerHTML = html;\r\n          var text = a.textContent || a.innerText || \"\";\r\n          await NewsDB.collection(topic.toLowerCase()).doc(newsItem.title).set({Title:newsItem.title, Link: newsItem.link, Description: text});\r\n        })\r\n        await this.addSubscription(topic.toLowerCase());\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    });\r\n  }\r\n\r\n\r\n\r\n  // async componentDidMount() {\r\n  //     setInterval(() => {    \r\n  //       this.clear()\r\n  //     },180000000)\r\n  // }\r\n\r\n  // async scheduleLocalNotifications() {\r\n  //   try {\r\n  //     // Request/ check permissions\r\n  //     if ((await LocalNotifications.requestPermission()).granted) {\r\n  //       await LocalNotifications.schedule({\r\n  //         notifications: [{\r\n  //           title: 'New articles in your feed!',\r\n  //           body: \"new news on \" + this.state.subs.pop(),\r\n  //           id: 1,\r\n  //           schedule: {\r\n  //             at:new Date(new Date().getTime() + 1000)\r\n  //           }\r\n  //         }]\r\n  //       });\r\n  //     }\r\n  //     // Clear old notifications in prep for refresh (OPTIONAL)\r\n  //   } catch (error) {\r\n  //     console.error(error);\r\n  //   }\r\n  // }\r\n\r\n\r\n\r\n  render() {\r\n    \r\n    return (\r\n    <IonPage>\r\n      <IonHeader>\r\n        {/* <IonToolbar class ='feedToolbar'>\r\n          <IonTitle class='feedTitle'>\r\n            Feed\r\n          </IonTitle>\r\n          \r\n      <IonButtons slot=\"start\">\r\n          <IonButton onClick={() => {this.setState({isWeatherModalOpen: true})}}  fill='clear'>\r\n              <IonIcon icon={cloud} />\r\n          </IonButton>\r\n          </IonButtons>\r\n          <IonButtons slot=\"end\">\r\n          <IonButton onClick={() => {this.setState({showSubscription: true})}}  fill='clear'>\r\n              <IonIcon icon={bookmarks} />\r\n          </IonButton>\r\n          </IonButtons>\r\n          <IonButtons slot=\"end\">\r\n          <IonButton onClick={() => {this.setState({showModal: true})}}  fill='clear'>\r\n              <IonIcon icon={search} />\r\n          </IonButton>\r\n          </IonButtons>\r\n        </IonToolbar> */}\r\n        <FeedToolbar \r\n         openWeather={() => this.setState({isWeatherModalOpen: true})} \r\n         showSubs={() => {this.setState({showSubscription: true})}}\r\n         showModal={() => {this.setState({showModal: true})}}></FeedToolbar>\r\n      </IonHeader>\r\n      <IonContent>\r\n\r\n        <Weather toggleWeatherModal={this.toggleWeatherModal} isOpen={this.state.isWeatherModalOpen}/>\r\n        {/* Modal for searching topics */}\r\n    <IonModal isOpen={this.state.showModal}>\r\n        <IonHeader>\r\n            <IonToolbar class='feedToolbar2'>\r\n        <IonButtons slot='start'>\r\n                <IonButton onClick={() => {this.setState({showModal: false})}} fill='clear'>\r\n                  <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n        </IonButtons>\r\n\r\n        <IonTitle class='feedTitle2'>\r\n          Search Topics\r\n\r\n        </IonTitle>\r\n        </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        <IonSearchbar placeholder=\"Enter a Topic or Location\" value={this.state.topicSearched} onIonInput={(e: any) => this.setState({topicSearched:e.target.value} )} animated>\r\n      </IonSearchbar>\r\n\r\n      <IonButton expand=\"block\" fill=\"outline\" color=\"secondary\" type=\"submit\" onClick={async () => await this.searchTopic(this.state.topicSearched)}>\r\n          search\r\n      </IonButton>\r\n\r\n      <IonAlert\r\n          isOpen={this.state.showSearchAlert}\r\n          onDidDismiss={() => this.setState({showSearchAlert:false})}\r\n          message=\"Enter a valid topic or location\"\r\n       />\r\n      <IonLoading\r\n        isOpen={this.state.showLoading}\r\n        onDidDismiss={() => this.setState({showLoading: false})}\r\n        message={'Loading...'}\r\n        duration={5000}\r\n      />\r\n\r\n\r\n      {/* <IonItem> */}\r\n         {/* check if person wants to search location */}\r\n  {/* <IonLabel>Location based search</IonLabel> */}\r\n  {/* <IonCheckbox onIonChange={e=> this.setState({locationBased:e.detail.checked}) }></IonCheckbox> */}\r\n  {/* </IonItem> */}\r\n      <IonModal isOpen={this.state.isSearchingModal}>\r\n      <IonHeader>\r\n      <IonToolbar>\r\n      <IonButtons slot='start'>\r\n                <IonButton onClick={() => this.setState({isSearchingModal: false})} fill='clear'>\r\n                  <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n        </IonButtons>\r\n        <IonButtons slot='end'>\r\n        <IonButton color=\"secondary\" onClick={()=> this.subscribe(this.state.topicSearched) && this.setState({showSubscribeAlert:true})} fill='clear'>\r\n        <IonIcon icon={addCircle}/>\r\n        </IonButton>\r\n      </IonButtons>\r\n      <IonTitle>\r\n          News\r\n        </IonTitle>\r\n      </IonToolbar>\r\n      </IonHeader>\r\n      <IonContent>\r\n\r\n      <ArticleList theArticleList={this.state.articlesSearched}></ArticleList>\r\n      <IonAlert\r\n          isOpen={this.state.showSubscribeAlert}\r\n          onDidDismiss={() => this.setState({showSubscribeAlert:false,isSearchingModal:false})}\r\n          message={\"Subscribed to \" + this.state.topicSearched}\r\n       />\r\n      </IonContent>\r\n      </IonModal>\r\n        </IonContent>\r\n    </IonModal>\r\n    <IonModal isOpen={this.state.showSubscription}>\r\n        <IonHeader>\r\n          <IonToolbar class='feedToolbar2'>\r\n            <IonButtons slot='start'>\r\n              <IonButton onClick={() => {this.setState({showSubscription: false})}} fill='clear'>\r\n                <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n\r\n          <IonTitle class='feedTitle2'>Subscriptions</IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n          <IonCard>\r\n        {/* <ParentComponent>\r\n       {subs}\r\n      </ParentComponent> */}\r\n            <ChildrenComponent subs={this.state.subs} func={this.unsubscribe.bind(this)}></ChildrenComponent>\r\n          </IonCard>\r\n        </IonContent>\r\n    </IonModal>\r\n    <FeedList headerName=\"Recent News\" articleList={this.state.articles}></FeedList>\r\n    {/* <IonList>\r\n        <IonListHeader>\r\n          Recent News\r\n        </IonListHeader>\r\n      <ArticleList theArticleList={this.state.articles}></ArticleList>\r\n    </IonList> */}\r\n      </IonContent>\r\n\r\n    </IonPage>\r\n    )\r\n  }\r\n}\r\nexport default Feed;\r\n","import React from 'react';\r\nimport {\r\n  IonModal,\r\n  IonContent,\r\n  IonHeader,\r\n  IonButtons,\r\n  IonButton,\r\n  IonToolbar,\r\n  IonIcon,\r\n  IonTitle,\r\n  IonAvatar,\r\n  IonPopover,\r\n  IonList,\r\n  IonListHeader,\r\n  IonLabel,\r\n  IonItem,\r\n  IonInput\r\n} from '@ionic/react'\r\n\r\nimport './GroupView.css'\r\n\r\nimport firebase, {db, auth} from '../firebase'\r\nimport Placeholder from '../images/placeholder.png'\r\nimport {\r\n  closeCircleOutline,\r\n  exitOutline,\r\n  peopleOutline,\r\n  settingsOutline,\r\n  chevronDownOutline,\r\n  pencilOutline,\r\n  checkmarkOutline,\r\n  cloudUploadOutline,\r\n  addOutline\r\n} from 'ionicons/icons'\r\n\r\ntype MyState = {\r\n  articles: any,\r\n  groupViewPopoverEvent: any,\r\n  isGroupViewPopoverOpen: boolean,\r\n  isSettingsModalOpen: boolean,\r\n  isMembersModalOpen: boolean,\r\n  isFriendsListModalOpen: boolean,\r\n  isNicknameReadOnly: boolean,\r\n  tempNickname: string,\r\n  members: Member[],\r\n  owner: Member | undefined\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n  groupDetails: GroupType;\r\n  isGroupModalOpen: boolean;\r\n  toggleGroupModal: any;\r\n  leaveGroup: () => void,\r\n  deleteGroup: () => void,\r\n  friendList: Friend[],\r\n  addFriendToGroup: (friend : string, group: string) => void\r\n}\r\n\r\ntype GroupType = {\r\n  nickname: string;\r\n  members: string[];\r\n  id: string;\r\n  profilePicture: string;\r\n  owner: string;\r\n}\r\n\r\ntype Friend = {\r\n  uuid: string;\r\n  uid: string;\r\n  displayName: string;\r\n  photo: string;\r\n}\r\n\r\ntype Member = {\r\n  uid: string;\r\n  displayName: string;\r\n  photo: string;\r\n}\r\n\r\nclass GroupView extends React.Component<MyProps, MyState> {\r\n\r\n  state: MyState = {\r\n    articles: [],\r\n    groupViewPopoverEvent: undefined,\r\n    isGroupViewPopoverOpen: false,\r\n    isSettingsModalOpen: false,\r\n    isMembersModalOpen: false,\r\n    isFriendsListModalOpen: false,\r\n    isNicknameReadOnly: true,\r\n    tempNickname: this.props.groupDetails.nickname,\r\n    members: [],\r\n    owner: {uid: '', displayName: '', photo: ''}\r\n  };\r\n\r\n  constructor(props: MyProps) {\r\n    super(props)\r\n    this.pullImage()\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    let members : Member[] = []\r\n    this.props.groupDetails.members.forEach(memberUid => {\r\n      db.collection('profiles').doc(memberUid).get().then((document) => {\r\n        let member : Member = {\r\n          photo: document.data()?.photo,\r\n          displayName: document.data()!.displayName,\r\n          uid: memberUid\r\n        }\r\n        members.push(member)\r\n        if(memberUid === this.props.groupDetails.owner) {\r\n          this.setState({\r\n            owner: member\r\n          })\r\n        }\r\n      })\r\n    })\r\n    this.setState({\r\n      members: members\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps: MyProps) {\r\n    if(prevProps.groupDetails.members.length !== this.props.groupDetails.members.length) {\r\n      let members : Member[] = []\r\n      this.props.groupDetails.members.forEach(memberUid => {\r\n        db.collection('profiles').doc(memberUid).get().then((document) => {\r\n          let member : Member = {\r\n            photo: document.data()?.photo,\r\n            displayName: document.data()!.displayName,\r\n            uid: memberUid\r\n          }\r\n          members.push(member)\r\n          if(memberUid === this.props.groupDetails.owner) {\r\n            this.setState({\r\n              owner: member\r\n            })\r\n          }\r\n        })\r\n      })\r\n      this.setState({\r\n        members: members\r\n      })\r\n    }\r\n  }\r\n\r\n   async pullImage() {\r\n      if(auth.currentUser) {\r\n      var storage = firebase.storage();\r\n      var storageRef = firebase.storage().ref();\r\n      var pathReference;\r\n      var pathName = 'groupImages/' +this.props.groupDetails!.id+'.jpg';\r\n      pathReference = storageRef.child(pathName);\r\n\r\n        pathReference.getDownloadURL().then((url)=> {\r\n         var img = document.getElementById('groupImage');\r\n         if(img!=null)\r\n          img.setAttribute('src', url);\r\n\r\n      })\r\n      .catch((error) => {\r\n  // A full list of error codes is available at\r\n  // https://firebase.google.com/docs/storage/web/handle-errors\r\n  switch (error.code) {\r\n    case 'storage/object-not-found':\r\n    firebase.storage().ref().child('placeholder.png').getDownloadURL().then((url)=> {\r\n         var img = document.getElementById('groupImg');\r\n         if(img!=null)\r\n          img.setAttribute('src', url);\r\n      })\r\n\r\n      break;\r\n    case 'storage/unauthorized':\r\n      // User doesn't have permission to access the object\r\n      break;\r\n    case 'storage/canceled':\r\n      // User canceled the upload\r\n      break;\r\n    case 'storage/unknown':\r\n      // Unknown error occurred, inspect the server response\r\n      break;\r\n  }\r\n});\r\n\r\n\r\n  }\r\n}\r\n\r\n  async uploadImage(selectorFiles: FileList)\r\n    {\r\n        if(selectorFiles[0]!=null) {\r\n        var storageRef = firebase.storage().ref();\r\n        var file = selectorFiles[0];\r\n        var uid = this.props.groupDetails!.id;\r\n        var newPicRef = storageRef.child('groupImages/' + uid+ '.jpg');\r\n        newPicRef.put(file);\r\n        await new Promise(r => setTimeout(r, 1000));\r\n        var url = await newPicRef.getDownloadURL();\r\n\r\n\r\n          db.collection('groups').doc(this.props.groupDetails.id).update({\r\n          profilePicture: url\r\n        })\r\n\r\n\r\n        this.pullImage();\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n      <IonModal swipeToClose={false} isOpen={this.state.isMembersModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonButtons slot = 'start'>\r\n              <IonButton fill='clear' onClick={() => {this.setState({isMembersModalOpen: false})}}>\r\n                <IonIcon className='groupViewIcon' icon={chevronDownOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonTitle>Members</IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n          <IonListHeader>Owner</IonListHeader>\r\n          <IonList>\r\n            <IonItem>\r\n              <IonTitle>\r\n                {this.state.owner!.displayName}\r\n              </IonTitle>\r\n            </IonItem>\r\n          </IonList>\r\n          <IonListHeader>Members ({this.props.groupDetails.members.length - 1}) </IonListHeader>\r\n          <IonList>\r\n            {\r\n              this.state.members.map((member) => {\r\n                return member.uid !== this.props.groupDetails!.owner ?\r\n                  <IonItem key={member.uid}>\r\n                    <IonTitle>\r\n                      {member.displayName}\r\n                    </IonTitle>\r\n                  </IonItem>\r\n                 : undefined\r\n              })\r\n            }\r\n          </IonList>\r\n        </IonContent>\r\n      </IonModal>\r\n\r\n      <IonModal swipeToClose={false} isOpen={this.state.isSettingsModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonButtons slot = 'start'>\r\n              <IonButton fill='clear' onClick={() => {this.setState({isSettingsModalOpen: false})}}>\r\n                <IonIcon className='groupViewIcon' icon={chevronDownOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonTitle>Group Settings</IonTitle>\r\n\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        {\r\n          this.props.groupDetails.owner === auth.currentUser?.uid ?\r\n            <div>\r\n              <IonItem>\r\n                Change Profile Picture\r\n               <IonButtons slot = 'end'>\r\n\r\n                  <IonButton id = 'submit'>\r\n\r\n<input type=\"file\" id = 'fileSelect' onChange={ (e) => (this.uploadImage(e.target.files!)) } />\r\n\r\n <IonIcon id = 'cloudUploadOutline' icon={cloudUploadOutline}/>\r\n</IonButton>\r\n\r\n\r\n\r\n        </IonButtons>\r\n              </IonItem>\r\n              <IonItem>\r\n                <IonInput onIonChange={(e) => {this.setState({tempNickname: (e.target as HTMLInputElement).value})}} placeholder={this.props.groupDetails.nickname} readonly={this.state.isNicknameReadOnly} value={this.state.tempNickname}/>\r\n                <IonButton onClick={\r\n                  () => {this.setState({\r\n                    isNicknameReadOnly: !this.state.isNicknameReadOnly\r\n                  });\r\n                  db.collection('groups').doc(this.props.groupDetails.id).update({\r\n                    nickname: this.state.tempNickname\r\n                  })\r\n                }\r\n                } slot='end' fill='clear'>\r\n                  <IonIcon icon={this.state.isNicknameReadOnly ? pencilOutline : checkmarkOutline} />\r\n                </IonButton>\r\n              </IonItem>\r\n              <IonItem onClick={() => {this.setState({isSettingsModalOpen: false}); this.props.deleteGroup()}}>\r\n                Delete Group\r\n              </IonItem>\r\n            </div> : undefined\r\n        }\r\n\r\n        </IonContent>\r\n      </IonModal>\r\n\r\n      <IonModal swipeToClose={false} isOpen={this.state.isFriendsListModalOpen}>\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonButtons slot = 'start'>\r\n            <IonButton fill='clear' onClick={() => {this.setState({isFriendsListModalOpen: false})}}>\r\n              <IonIcon className='groupViewIcon' icon={chevronDownOutline}/>\r\n            </IonButton>\r\n          </IonButtons>\r\n          <IonTitle>Add Member</IonTitle>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n      <IonContent>\r\n        <IonListHeader>Friends ({this.props.friendList.length})</IonListHeader>\r\n        <IonList>\r\n          {\r\n            this.props.friendList.map((FriendObj) => {\r\n              return (\r\n                <IonItem key={FriendObj.uid}>\r\n                  <IonLabel>\r\n                    {FriendObj.displayName}\r\n                  </IonLabel>\r\n                  <IonButton onClick={() => {this.props.addFriendToGroup(FriendObj.uid, this.props.groupDetails.id)}} fill='clear'>\r\n                    <IonIcon slot='end' icon={this.props.groupDetails.members.includes(FriendObj.uid) ? checkmarkOutline : addOutline}/>\r\n                  </IonButton>\r\n                </IonItem>\r\n              )\r\n            })\r\n          }\r\n        </IonList>\r\n      </IonContent>\r\n      </IonModal>\r\n\r\n        <IonPopover\r\n          cssClass='groupViewPopover'\r\n          event={this.state.groupViewPopoverEvent}\r\n          isOpen={this.state.isGroupViewPopoverOpen}\r\n          onDidDismiss={() => {this.setState({isGroupViewPopoverOpen: false, groupViewPopoverEvent: undefined})}}\r\n        >\r\n          <IonContent>\r\n            <IonList>\r\n              <IonListHeader id='groupViewPopoverListHeader'><b>Group Options</b></IonListHeader>\r\n              <IonItem button={true} onClick={() => {this.setState({isGroupViewPopoverOpen: false, isMembersModalOpen: true})}}>\r\n                <IonLabel>Members</IonLabel>\r\n                <IonIcon className='groupViewPopoverIcon' slot='end' icon={peopleOutline}/>\r\n              </IonItem>\r\n              <IonItem button={true}  onClick={() => {this.setState({isGroupViewPopoverOpen: false, isFriendsListModalOpen: true})}}>\r\n                <IonLabel>Add Member</IonLabel>\r\n                <IonIcon className='groupViewPopoverIcon' slot='end' icon={addOutline}/>\r\n              </IonItem>\r\n              <IonItem button={true}  onClick={() => {this.setState({isGroupViewPopoverOpen: false, isSettingsModalOpen: true})}}>\r\n                <IonLabel>Settings</IonLabel>\r\n                <IonIcon className='groupViewPopoverIcon' slot='end' icon={settingsOutline}/>\r\n              </IonItem>\r\n              <IonItem onClick={() => {this.setState({isGroupViewPopoverOpen: false}); this.props.leaveGroup()}} button={true}>\r\n                <IonLabel id='leaveGroup'>Leave Group</IonLabel>\r\n                <IonIcon id='groupViewPopoverLeave' slot='end' icon={exitOutline}/>\r\n              </IonItem>\r\n\r\n            </IonList>\r\n          </IonContent>\r\n        </IonPopover>\r\n\r\n        <IonModal swipeToClose={true} isOpen={this.props.isGroupModalOpen}>\r\n          <IonHeader>\r\n            <IonToolbar>\r\n              <IonButtons slot = 'start'>\r\n                <IonButton fill='clear' onClick={() => {this.props.toggleGroupModal()}}>\r\n                  <IonIcon className='groupViewIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n              </IonButtons>\r\n              <IonButtons slot='end'>\r\n\r\n              <IonAvatar onClick={(event : any) => {event.persist(); this.setState({isGroupViewPopoverOpen: true, groupViewPopoverEvent: event})}} className='groupViewProfilePicture'>\r\n                <img src = {this.props.groupDetails.profilePicture !== \"\" ? this.props.groupDetails.profilePicture : Placeholder}/>\r\n              </IonAvatar>\r\n\r\n\r\n              </IonButtons>\r\n\r\n              <IonTitle>{this.props.groupDetails ? this.props.groupDetails.nickname : undefined}</IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n        </IonModal>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default GroupView;\r\n","import React from 'react';\r\nimport {\r\n  IonModal,\r\n  IonContent,\r\n  IonHeader,\r\n  IonButtons,\r\n  IonButton,\r\n  IonToolbar,\r\n  IonIcon,\r\n  IonTitle,\r\n  IonAvatar,\r\n  IonPopover,\r\n  IonList,\r\n  IonListHeader,\r\n  IonLabel,\r\n  IonItem,\r\n  IonInput\r\n} from '@ionic/react'\r\n\r\nimport './GroupView.css'\r\n\r\nimport firebase, {db, auth} from '../firebase'\r\nimport Placeholder from '../images/placeholder.png'\r\nimport {\r\n  closeCircleOutline,\r\n  addCircleOutline\r\n} from 'ionicons/icons'\r\n\r\ntype MyState = {\r\n  targetUserId: string;\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n  isAddFriendModalOpen: boolean;\r\n  addFriend: (targetUserId: string) => void;\r\n  toggleAddFriendModal: () => void;\r\n}\r\n\r\n\r\nclass AddFriends extends React.Component<MyProps, MyState> {\r\n\r\n  state: MyState = {\r\n    targetUserId: ''\r\n  };\r\n\r\n  constructor(props: MyProps) {\r\n    super(props)\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <IonModal isOpen={this.props.isAddFriendModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar class='socialToolbar2'>\r\n            <IonButtons slot='start'>\r\n              <IonButton onClick={() => {this.props.toggleAddFriendModal()}} id='addFriendModalCloseButton' fill='clear'>\r\n                <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonTitle class='socialTitle2'>\r\n              Add Friend\r\n            </IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n          <IonItem lines='none' id='searchFriendItem'>\r\n            <IonInput id='addFriendSearch' onIonChange={(e) => {this.setState({targetUserId: (e.target as HTMLInputElement).value})}} />\r\n\r\n            <IonButton onClick={() => {this.props.addFriend(this.state.targetUserId)}} slot='end' id='addFriendButton' fill='clear'>\r\n              <IonIcon id='addFriendButtonIcon' icon={addCircleOutline} />\r\n            </IonButton>\r\n          </IonItem>\r\n\r\n        </IonContent>\r\n      </IonModal>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default AddFriends;\r\n","import React from 'react';\r\nimport {\r\n  IonModal,\r\n  IonContent,\r\n  IonHeader,\r\n  IonButtons,\r\n  IonButton,\r\n  IonToolbar,\r\n  IonIcon,\r\n  IonTitle,\r\n  IonAvatar,\r\n  IonPopover,\r\n  IonList,\r\n  IonListHeader,\r\n  IonLabel,\r\n  IonItem,\r\n  IonInput\r\n} from '@ionic/react'\r\n\r\nimport './GroupView.css'\r\n\r\nimport firebase, {db, auth} from '../firebase'\r\nimport Placeholder from '../images/placeholder.png'\r\nimport {\r\n  closeCircleOutline,\r\n  addCircleOutline\r\n} from 'ionicons/icons'\r\n\r\ntype MyState = {\r\n  incomingFriends: Friend[];\r\n  outgoingFriends: Friend[];\r\n}\r\n\r\ntype Friend = {\r\n  displayName: string;\r\n  photo: string;\r\n  uid: string;\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n  isPendingRequestsModalOpen: boolean;\r\n  togglePendingRequestsModal: () => void;\r\n  incomingRequests: string[];\r\n  outgoingRequests: string[];\r\n  acceptFriend: (targetUserId: string) => void;\r\n  declineFriend: (targetUserId: string) => void;\r\n  cancelOutgingRequest: (targetUserId: string) => void;\r\n}\r\n\r\n\r\nclass PendingRequests extends React.Component<MyProps, MyState> {\r\n\r\n  state: MyState = {\r\n    incomingFriends: [],\r\n    outgoingFriends: []\r\n  };\r\n\r\n  constructor(props: MyProps) {\r\n    super(props)\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.props.incomingRequests.map(IncomingFriend => {\r\n      return db.collection(\"profiles\").doc(IncomingFriend).get().then((document) => {\r\n        if(document.data()) {\r\n          this.setState({\r\n            incomingFriends: [...this.state.incomingFriends, {displayName: document.data()!.displayName, uid: IncomingFriend, photo: document.data()!.photo}]\r\n          })\r\n        }\r\n      })\r\n    })\r\n    this.props.outgoingRequests.map(OutgoingFriend => {\r\n      return db.collection(\"profiles\").doc(OutgoingFriend).get().then((document) => {\r\n        if(document.data()) {\r\n          this.setState({\r\n            outgoingFriends: [...this.state.outgoingFriends, {displayName: document.data()!.displayName, uid: OutgoingFriend, photo: document.data()!.photo}]\r\n          })\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps: MyProps) {\r\n\r\n    if(this.props.incomingRequests !== prevProps.incomingRequests) {\r\n      this.setState({\r\n        incomingFriends: []\r\n      })\r\n        this.props.incomingRequests.map(IncomingFriend => {\r\n          return db.collection(\"profiles\").doc(IncomingFriend).get().then((document) => {\r\n            if(document.data()) {\r\n              this.setState({\r\n                incomingFriends: [...this.state.incomingFriends, {displayName: document.data()!.displayName, uid: IncomingFriend, photo: document.data()!.photo}]\r\n              })\r\n            }\r\n          })\r\n        })\r\n    }\r\n    if(this.props.outgoingRequests !== prevProps.outgoingRequests) {\r\n      this.setState({\r\n        outgoingFriends: []\r\n      })\r\n      this.props.outgoingRequests.map(async OutgoingFriend => {\r\n        const document = await db.collection(\"profiles\").doc(OutgoingFriend).get();\r\n        if (document.data()) {\r\n          this.setState({\r\n            outgoingFriends: [...this.state.outgoingFriends, { displayName: document.data()!.displayName, uid: OutgoingFriend, photo: document.data()!.photo }]\r\n          });\r\n        }\r\n    })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <IonModal isOpen={this.props.isPendingRequestsModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar class='socialToolbar2'>\r\n            <IonButtons slot='start'>\r\n              <IonButton onClick={() => {this.props.togglePendingRequestsModal()}} id='addFriendModalCloseButton' fill='clear'>\r\n                <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonTitle class=\"socialTitle2\">\r\n              Pending Requests\r\n            </IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n          <h2 id='incomingFriendRequestHeader'>Incoming Friend Requests</h2>\r\n          {this.state.incomingFriends.map(IncomingFriend =>\r\n            <IonItem key={IncomingFriend.uid}>\r\n              <IonLabel>{IncomingFriend.displayName}</IonLabel>\r\n              <IonButton onClick={() => {this.props.acceptFriend(IncomingFriend.uid)}} className='acceptButton' slot='end' fill='clear'>\r\n                <IonIcon className='addIcon' icon={addCircleOutline} />\r\n              </IonButton>\r\n              <IonButton onClick={() => {this.props.declineFriend(IncomingFriend.uid)}} className='denyButton' slot='end' fill='clear'>\r\n                <IonIcon className='denyIcon' icon={closeCircleOutline} />\r\n              </IonButton>\r\n            </IonItem>)}\r\n\r\n          <h2 id='outgoingFriendRequestHeader'>Outgoing Friend Requests</h2>\r\n          {this.state.outgoingFriends.map(OutgoingFriend =>\r\n            <IonItem key={OutgoingFriend.uid}>\r\n              <IonLabel>{OutgoingFriend.displayName}</IonLabel>\r\n              <IonButton onClick={() => {this.props.cancelOutgingRequest(OutgoingFriend.uid)}} className='denyButton' slot='end' fill='clear'>\r\n                <IonIcon className='denyIcon' icon={closeCircleOutline} />\r\n              </IonButton>\r\n            </IonItem>)}\r\n        </IonContent>\r\n      </IonModal>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default PendingRequests;\r\n","import React from 'react';\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonContent,\r\n  IonTitle,\r\n  IonButtons,\r\n  IonButton,\r\n  IonIcon,\r\n  IonModal,\r\n  IonInput,\r\n  IonItem,\r\n  IonLabel,\r\n  IonPopover,\r\n  IonList,\r\n  IonListHeader,\r\n  IonAvatar,\r\n  IonSegment,\r\n  IonSegmentButton\r\n} from '@ionic/react'\r\n\r\nimport GroupView from './GroupView'\r\nimport Placeholder from '../images/placeholder.png'\r\n\r\nimport firebase, {db, auth} from '../firebase'\r\nimport {\r\n  personAddOutline,\r\n  closeCircleOutline,\r\n  listOutline,\r\n  addOutline,\r\n  addCircleOutline,\r\n  sendOutline\r\n} from 'ionicons/icons'\r\n\r\nimport './Social.css'\r\nimport Messenger from './Messenger'\r\nimport AddFriends from './AddFriends';\r\nimport PendingRequests from './PendingRequests';\r\n\r\n\r\ntype MyState = {\r\n  isAddFriendModalOpen: boolean;\r\n  targetUsername: string;\r\n  friendsList: Friend[];\r\n  blockedUsers: [];\r\n  isPendingRequestsModalOpen: boolean;\r\n  isMessengerModalOpen: boolean;\r\n  incomingRequests: string[];\r\n  outgoingRequests: string[];\r\n  messageRef: string;\r\n  isSocialPopoverOpen: boolean;\r\n  socialPopoverEvent: any;\r\n  isCreateGroupModalOpen: boolean;\r\n  groupNickname: string;\r\n  groupArray: Group[];\r\n  numGroups: number;\r\n  unsubscribeGroupArray: any[];\r\n  groupDetails: Group;\r\n  isGroupModalOpen: boolean;\r\n  unsubscribeFriendsList: any;\r\n  unsubscribeBlockedUsers: any;\r\n  unsubscribeIncomingRequests: any;\r\n  unsubscribeOutgoingRequests: any;\r\n  segmentSelected: string | undefined;\r\n  unsubscribeIndiviudalFriends: any[];\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\ntype Group = {\r\n  nickname: string;\r\n  members: string[];\r\n  id: string;\r\n  profilePicture: string;\r\n  owner: string;\r\n}\r\n\r\ntype Friend = {\r\n  uuid: string;\r\n  uid: string;\r\n  displayName: string;\r\n  photo: string;\r\n}\r\n\r\nclass Social extends React.Component<MyProps, MyState> {\r\n  realtime_db = firebase.database();\r\n  state: MyState = {\r\n    isAddFriendModalOpen: false,\r\n    targetUsername: '',\r\n    friendsList: [],\r\n    blockedUsers: [],\r\n    isPendingRequestsModalOpen: false,\r\n    isMessengerModalOpen: false,\r\n    incomingRequests: [],\r\n    outgoingRequests: [],\r\n    messageRef: '',\r\n    isSocialPopoverOpen: false,\r\n    socialPopoverEvent: undefined,\r\n    isCreateGroupModalOpen: false,\r\n    groupNickname: '',\r\n    groupArray: [],\r\n    numGroups: 0,\r\n    unsubscribeGroupArray: [],\r\n    groupDetails: {\r\n      nickname: '',\r\n      members: [],\r\n      id: '',\r\n      profilePicture: '',\r\n      owner: ''\r\n    },\r\n    isGroupModalOpen: false,\r\n    unsubscribeFriendsList: () => {},\r\n    unsubscribeBlockedUsers: null,\r\n    unsubscribeIncomingRequests: () => {},\r\n    unsubscribeOutgoingRequests: () => {},\r\n    unsubscribeIndiviudalFriends: [],\r\n    segmentSelected: 'groups'\r\n  };\r\n\r\n\r\n  unsubscribeGroups: any;\r\n\r\n\r\n  constructor(props: MyProps) {\r\n    super(props)\r\n\r\n\r\n    //Begin Functin bindings\r\n\r\n    this.addFriend = this.addFriend.bind(this);\r\n    this.acceptFriend = this.acceptFriend.bind(this);\r\n    this.declineFriend = this.declineFriend.bind(this);\r\n    this.removeFriend = this.removeFriend.bind(this);\r\n    this.blockUser = this.blockUser.bind(this);\r\n    this.cancelOutgingRequest = this.cancelOutgingRequest.bind(this);\r\n    this.generateUniqueFriendId = this.generateUniqueFriendId.bind(this);\r\n    this.generateUniqueGroupId = this.generateUniqueGroupId.bind(this);\r\n    this.createGroup = this.createGroup.bind(this);\r\n    this.toggleGroupModal = this.toggleGroupModal.bind(this);\r\n    this.deleteGroup = this.deleteGroup.bind(this);\r\n    this.leaveGroup = this.leaveGroup.bind(this);\r\n    this.toggleGroupModal = this.toggleGroupModal.bind(this);\r\n    this.toggleAddFriendModal = this.toggleAddFriendModal.bind(this);\r\n    this.togglePendingRequestsModal = this.togglePendingRequestsModal.bind(this);\r\n    this.addFriendToGroup = this.addFriendToGroup.bind(this);\r\n    this.generateRandomString = this.generateRandomString.bind(this);\r\n    //End Function Bindings\r\n\r\n    //Begin firebase data subscriptins\r\n    auth.onAuthStateChanged(() => {\r\n      if(auth.currentUser) {\r\n        //gets the username of our user\r\n        db.collection(\"profiles\").doc(auth.currentUser.uid).get().then(doc => {\r\n          if(doc.data()) {\r\n            //creates a subscription to our user's friends list\r\n\r\n            let unsubscribeFriendsList = db.collection('friends').doc(auth.currentUser?.uid).onSnapshot((friendsListSnapshot) => {\r\n            let friends : Friend[] = []\r\n            friendsListSnapshot.data()!.friendsList.map((friend : string) => {\r\n              db.collection('profiles').doc(friend).onSnapshot((profileSnapshot) => {\r\n                db.collection('friends').doc(auth.currentUser?.uid).collection('uuids').doc(friend).get().then((uuidDoc) => {\r\n\r\n                  let stateFriendsList = this.state.friendsList\r\n                  let friendObj = {\r\n                    photo: profileSnapshot.data()?.photo,\r\n                    displayName: profileSnapshot.data()!.displayName,\r\n                    uuid: uuidDoc.data()!.uuid,\r\n                    uid: friend\r\n                  }\r\n                  let sentinel = true\r\n                  stateFriendsList.map((stateFriend, index) => {\r\n                    if(stateFriendsList[index].uid === friendObj.uid) {\r\n                      stateFriendsList[index] = friendObj\r\n                      sentinel = false\r\n                    }\r\n\r\n                  })\r\n                  if(sentinel) {\r\n                    stateFriendsList.push(friendObj)\r\n                  }\r\n                  this.setState({friendsList: stateFriendsList})\r\n                })\r\n              })\r\n            })\r\n          })\r\n\r\n            // create subscription to user's blocked users list\r\n            this.state.unsubscribeBlockedUsers = db.collection('blockedUsers').doc(auth.currentUser?.uid).onSnapshot((snapshot) => {\r\n              if(snapshot.exists && snapshot.data()!.blocked !== undefined) {\r\n                this.setState({blockedUsers: snapshot.data()!.blocked})\r\n              } else {\r\n                db.collection(\"blockedUsers\").doc(auth.currentUser?.uid).set({blocked: []})\r\n                this.setState({blockedUsers: []})\r\n              }\r\n            })\r\n\r\n            //creates a subscription to our user's incoming friend requests\r\n            let unsubscribeIncomingRequests = db.collection('incomingFriendRequests').doc(auth.currentUser?.uid).onSnapshot((snapshot) => {\r\n              if(snapshot.data()) {\r\n                console.log(snapshot.data()!.incomingFriendRequests)\r\n                this.setState({incomingRequests: snapshot.data()!.incomingFriendRequests})\r\n              }\r\n            })\r\n\r\n            //creates a subscription to our user's outgoing friend requests\r\n            let unsubscribeOutgoingRequests = db.collection('outgoingFriendRequests').doc(auth.currentUser!.uid).onSnapshot((snapshot) => {\r\n              if(snapshot.data()) {\r\n                console.log(snapshot.data()!.outgoingFriendRequests)\r\n                this.setState({outgoingRequests: snapshot.data()!.outgoingFriendRequests})\r\n              }\r\n            })\r\n\r\n            //crate a subscription to the list of a users groups\r\n            this.unsubscribeGroups = db.collection('profiles').doc(auth.currentUser?.uid).onSnapshot((snapshot) => {\r\n              if(snapshot.data()) {\r\n                this.setState({\r\n                  numGroups: snapshot.data()!.groups.length,\r\n                  groupArray: []\r\n                })\r\n                let unsubscribeGroupArray = []\r\n                for(let i = 0; i < this.state.numGroups; i++) {\r\n                  let unsubscribeIndividualGroup = db.collection('groups').doc(snapshot.data()!.groups[i]).onSnapshot((snapshot) => {\r\n                    let groupArray = [...this.state.groupArray]\r\n                    if(snapshot.data()) {\r\n                      let group : Group = {\r\n                        nickname: snapshot.data()!.nickname,\r\n                        members: snapshot.data()!.members,\r\n                        id: snapshot.data()!.id,\r\n                        profilePicture: snapshot.data()!.profilePicture,\r\n                        owner: snapshot.data()!.owner\r\n                      }\r\n                      groupArray[i] = group\r\n                      this.setState({groupArray: groupArray})\r\n                      if(this.state.groupDetails.id === group.id) {\r\n                        this.setState({groupDetails: group})\r\n                      }\r\n                      console.log(group)\r\n                    }\r\n                  })\r\n                  unsubscribeGroupArray.push(unsubscribeIndividualGroup)\r\n                }\r\n                this.setState({\r\n                  unsubscribeGroupArray: unsubscribeGroupArray\r\n                })\r\n              }\r\n\r\n            })\r\n\r\n            this.setState({\r\n              unsubscribeIncomingRequests: unsubscribeIncomingRequests,\r\n              unsubscribeOutgoingRequests: unsubscribeOutgoingRequests\r\n            })\r\n          }\r\n        })\r\n      }\r\n    })\r\n\r\n    //End firebase data subscriptins\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //since we have subscriptions, we cancel them here to prevent a memory leak\r\n    this.state.unsubscribeFriendsList()\r\n    this.state.unsubscribeIncomingRequests()\r\n    this.state.unsubscribeOutgoingRequests()\r\n    for(let i = 0; i < this.state.unsubscribeGroupArray.length; i++) {\r\n      this.state.unsubscribeGroupArray[i]()\r\n    }\r\n  }\r\n\r\n  subscribeGroups() {\r\n\r\n  }\r\n\r\n\r\n  addFriend(email: string) { //sends a friend request to a user\r\n    if(email !== \"\" && email !== auth.currentUser?.email) {\r\n      db.collection('emails').doc(email).get().then(document => {\r\n        if(document.exists) {\r\n          db.collection('incomingFriendRequests').doc(document.data()!.userid).update({\r\n            incomingFriendRequests: firebase.firestore.FieldValue.arrayUnion(auth.currentUser?.uid)\r\n          })\r\n          db.collection('outgoingFriendRequests').doc(auth.currentUser?.uid).update({\r\n            outgoingFriendRequests: firebase.firestore.FieldValue.arrayUnion(document.data()!.userid)\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  cancelOutgingRequest(targetUserId: string) {\r\n    if(targetUserId !== \"\" && targetUserId !== auth.currentUser?.email) {\r\n      db.collection('incomingFriendRequests').doc(targetUserId).update({\r\n        incomingFriendRequests: firebase.firestore.FieldValue.arrayRemove(auth.currentUser?.uid)\r\n      })\r\n      db.collection('outgoingFriendRequests').doc(auth.currentUser?.uid).update({\r\n        outgoingFriendRequests: firebase.firestore.FieldValue.arrayRemove(targetUserId)\r\n      })\r\n    }\r\n  }\r\n\r\n  generateRandomString(length: number) {\r\n    var text = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_~';\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return text;\r\n  }\r\n\r\n  async generateUniqueFriendId() : Promise<string> {\r\n  let generateUniqueFriendIdPromise = new Promise<string>((resolve, reject) => {\r\n      let code = this.generateRandomString(50)\r\n      db.collection('friendIds').doc(code).get().then((doc) => {\r\n        if(!doc.exists) {\r\n          db.collection('friendIds').doc(code).set({\r\n            inUse: true\r\n          })\r\n          resolve(code)\r\n        } else {\r\n          if(!doc.data()?.inUse) {\r\n            db.collection('friendIds').doc(code).set({\r\n              inUse: true\r\n            })\r\n          } else {\r\n            this.generateUniqueFriendId()\r\n          }\r\n        }\r\n      })\r\n    })\r\n    return await generateUniqueFriendIdPromise\r\n  }\r\n\r\n  async generateUniqueGroupId() : Promise<string> {\r\n    let generateUniqueGroupIdPromise = new Promise<string>((resolve, reject) => {\r\n        let code = this.generateRandomString(50)\r\n        db.collection('groudIds').doc(code).get().then((doc) => {\r\n          if(!doc.exists) {\r\n            db.collection('groupIds').doc(code).set({\r\n              inUse: true\r\n            })\r\n            resolve(code)\r\n          } else {\r\n            if(!doc.data()?.inUse) {\r\n              db.collection('groupIds').doc(code).set({\r\n                inUse: true\r\n              })\r\n            } else {\r\n              this.generateUniqueGroupId()\r\n            }\r\n          }\r\n        })\r\n      })\r\n\r\n      return await generateUniqueGroupIdPromise\r\n  }\r\n\r\n  acceptFriend(targetUserId: string) {\r\n    //accepts a friend request from a user\r\n    //generates a friend UUID that can uniquely identify this friend pair\r\n    if(targetUserId != \"\") { //ensure we are not calling firebase path with empty string\r\n      this.generateUniqueFriendId().then((uniqueFriendId : string) => {\r\n        //remove incoming and outgoing friend requests\r\n        db.collection('outgoingFriendRequests').doc(targetUserId).update({\r\n          outgoingFriendRequests: firebase.firestore.FieldValue.arrayRemove(auth.currentUser?.uid),\r\n        })\r\n        db.collection('incomingFriendRequests').doc(auth.currentUser?.uid).update({\r\n          incomingFriendRequests: firebase.firestore.FieldValue.arrayRemove(targetUserId),\r\n        })\r\n        db.collection('friends').doc(auth.currentUser?.uid).update({\r\n          friendsList: firebase.firestore.FieldValue.arrayUnion(targetUserId)\r\n        })\r\n        db.collection('friends').doc(targetUserId).update({\r\n          friendsList: firebase.firestore.FieldValue.arrayUnion(auth.currentUser?.uid)\r\n        })\r\n        //set unique friend uuid pair for messaging\r\n        db.collection('friends').doc(auth.currentUser?.uid).collection('uuids').doc(targetUserId).set({\r\n          uuid: uniqueFriendId,\r\n          friend: targetUserId\r\n        })\r\n        db.collection('friends').doc(targetUserId).collection('uuids').doc(auth.currentUser?.uid).set({\r\n          uuid: uniqueFriendId,\r\n          friend: auth.currentUser?.uid\r\n        })\r\n        this.realtime_db.ref(uniqueFriendId).push({message: 'Join the conversation! Send a message here to get started.', sender: 'World-Watchlist'})\r\n      })\r\n    }\r\n  }\r\n\r\n  declineFriend(targetUserId: string) { //declines a friend request from a user\r\n    if(targetUserId != \"\") {\r\n      db.collection('outgoingFriendRequests').doc(targetUserId).update({\r\n        outgoingFriendRequests: firebase.firestore.FieldValue.arrayRemove(auth.currentUser?.uid),\r\n      })\r\n      db.collection('incomingFriendRequests').doc(auth.currentUser?.uid).update({\r\n        incomingFriendRequests: firebase.firestore.FieldValue.arrayRemove(targetUserId),\r\n      })\r\n    }\r\n  }\r\n\r\n  removeFriend(targetUserId: string) { //removes a user from friend list\r\n    if(targetUserId != \"\") {\r\n      db.collection('friends').doc(auth.currentUser?.uid).collection('uuids').doc(targetUserId).get().then((document) => {\r\n        db.collection('friendIds').doc(document.data()!.uuid).update({\r\n          inUse: false\r\n        })\r\n        db.collection('friends').doc(auth.currentUser?.uid).collection('uuids').doc(targetUserId).delete()\r\n        db.collection('friends').doc(targetUserId).collection('uuids').doc(auth.currentUser?.uid).delete()\r\n      })\r\n    }\r\n  }\r\n\r\n  blockUser(username: string) { // adds given friend to blocked list, users on blocked list are excluded from stuff\r\n    if(username !== \"\") {\r\n      let chosenUser = db.collection('usernames').doc(username);\r\n      if( chosenUser === undefined)\r\n        return;\r\n      console.log(\"User exists, attempting to block\");\r\n      db.collection('blockedUsers').doc(auth.currentUser?.uid).update({blocked: firebase.firestore.FieldValue.arrayUnion(username)});\r\n      console.log(\"User should be added to blocked list\");\r\n      /*if ( this.isFriend(username))\r\n       *  this.removeFriend(username); // remove user once added to blocked list, line included for future possibility\r\n       */\r\n    }\r\n  }\r\n\r\n  exists(username: string) {\r\n    return username !== \"\" //&& db.collection('usernames').doc(username) !== undefined\r\n  }\r\n\r\n  createGroup() {\r\n    this.generateUniqueGroupId().then((code) => {\r\n      db.collection('groups').doc(code).set({\r\n        owner: auth.currentUser?.uid,\r\n        members: [auth.currentUser?.uid],\r\n        nickname: this.state.groupNickname,\r\n        id: code,\r\n        profilePicture: ''\r\n      })\r\n      db.collection('profiles').doc(auth.currentUser?.uid).update({\r\n        groups: firebase.firestore.FieldValue. arrayUnion(code),\r\n      })\r\n      this.realtime_db.ref(code).push({message: 'Join the conversation! Send a message here to get started.', sender: 'World-Watchlist'})\r\n    })\r\n\r\n  }\r\n\r\n  leaveGroup() {\r\n    //function is intended to be called from the groupView page\r\n    //1 remove our user from the group collection\r\n    //2 remove the group from the user collection\r\n\r\n    //1\r\n    if(auth.currentUser?.uid !== this.state.groupDetails.owner) {\r\n      //user is not the owner of the group, can simply leave.\r\n      db.collection('groups').doc(this.state.groupDetails.id).update({\r\n        members: firebase.firestore.FieldValue.arrayRemove(auth.currentUser?.uid)\r\n      })\r\n\r\n    } else {\r\n      //user is the host of the group\r\n      if(this.state.groupDetails.members.length === 1) {\r\n        //user is the only member in the group. delete the group.\r\n        this.deleteGroup()\r\n      } else {\r\n        //user is the host but there are other members in the group. user is not deleting the group.\r\n        if(this.state.groupDetails.members[0] !== auth.currentUser?.uid) {\r\n            db.collection('groups').doc(this.state.groupDetails.id).update({\r\n              owner: this.state.groupDetails.members[0],\r\n              members: firebase.firestore.FieldValue.arrayRemove(auth.currentUser?.uid)\r\n\r\n            })\r\n        } else {\r\n          db.collection('groups').doc(this.state.groupDetails.id).update({\r\n            owner: this.state.groupDetails.members[1],\r\n            members: firebase.firestore.FieldValue.arrayRemove(auth.currentUser?.uid)\r\n          })\r\n        }\r\n      }\r\n    }\r\n    //2\r\n    db.collection('profiles').doc(auth.currentUser?.uid).update({\r\n      groups: firebase.firestore.FieldValue.arrayRemove(this.state.groupDetails.id)\r\n    })\r\n    this.setState({isGroupModalOpen: false})\r\n  }\r\n\r\n  deleteGroup() {\r\n    //delete a group\r\n    //intended to be used from the groupView page\r\n    if(auth.currentUser?.uid === this.state.groupDetails.owner) {\r\n      this.state.groupDetails.members.forEach((member) => {\r\n        db.collection('profiles').doc(member).update({\r\n          groups: firebase.firestore.FieldValue.arrayRemove(this.state.groupDetails.id)\r\n        })\r\n        db.collection('groups').doc(this.state.groupDetails.id).delete()\r\n      })\r\n      this.setState({\r\n        isGroupModalOpen: false\r\n      })\r\n    } else {\r\n      console.log('User should not be able to use this function')\r\n    }\r\n\r\n  }\r\n\r\n  addFriendToGroup(targetUid: string, group: string) {\r\n    db.collection('profiles').doc(targetUid).update({\r\n      groups: firebase.firestore.FieldValue.arrayUnion(group)\r\n    })\r\n    db.collection('groups').doc(group).update({\r\n      members: firebase.firestore.FieldValue.arrayUnion(targetUid)\r\n    })\r\n  }\r\n\r\n  toggleGroupModal() {\r\n    this.setState({isGroupModalOpen: !this.state.isGroupModalOpen})\r\n  }\r\n  toggleAddFriendModal() {\r\n    this.setState({isAddFriendModalOpen: !this.state.isAddFriendModalOpen})\r\n  }\r\n  togglePendingRequestsModal() {\r\n    this.setState({isPendingRequestsModalOpen: !this.state.isPendingRequestsModalOpen})\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n      return (\r\n      <IonPage>\r\n        <AddFriends\r\n          {...this.props}\r\n          isAddFriendModalOpen={this.state.isAddFriendModalOpen}\r\n          toggleAddFriendModal={this.toggleAddFriendModal}\r\n          addFriend={this.addFriend}\r\n        />\r\n\r\n        <PendingRequests\r\n          {...this.props}\r\n          incomingRequests = {this.state.incomingRequests}\r\n          outgoingRequests = {this.state.outgoingRequests}\r\n          acceptFriend = {this.acceptFriend}\r\n          declineFriend = {this.declineFriend}\r\n          cancelOutgingRequest = {this.cancelOutgingRequest}\r\n          isPendingRequestsModalOpen = {this.state.isPendingRequestsModalOpen}\r\n          togglePendingRequestsModal = {this.togglePendingRequestsModal}\r\n\r\n        />\r\n\r\n        <GroupView\r\n          isGroupModalOpen={this.state.isGroupModalOpen}\r\n          groupDetails={this.state.groupDetails}\r\n          {...this.props}\r\n          toggleGroupModal={this.toggleGroupModal}\r\n          leaveGroup={this.leaveGroup}\r\n          deleteGroup={this.deleteGroup}\r\n          friendList={this.state.friendsList}\r\n          addFriendToGroup={this.addFriendToGroup}\r\n        />\r\n\r\n        <IonPopover\r\n          cssClass='socialPopover'\r\n          event={this.state.socialPopoverEvent}\r\n          isOpen={this.state.isSocialPopoverOpen}\r\n          onDidDismiss={() => {this.setState({isSocialPopoverOpen: false, socialPopoverEvent: undefined})}}\r\n        >\r\n          <IonContent>\r\n            <IonList>\r\n              <IonListHeader id='socialPopoverListHeader'><b>Social Options</b></IonListHeader>\r\n              <IonItem button={true} onClick={() => {this.setState({isSocialPopoverOpen: false, isAddFriendModalOpen: true})}}><IonLabel>Add Friend</IonLabel><IonIcon className='socialPopoverIcon' slot='end' icon={personAddOutline}/></IonItem>\r\n              <IonItem button={true}  onClick={() => {this.setState({isSocialPopoverOpen: false, isCreateGroupModalOpen: true})}}><IonLabel>Create Group</IonLabel><IonIcon className='socialPopoverIcon' slot='end' icon={addCircleOutline}/></IonItem>\r\n              <IonItem button={true}><IonLabel>New Message</IonLabel><IonIcon className='socialPopoverIcon' slot='end' icon={sendOutline}/></IonItem>\r\n            </IonList>\r\n          </IonContent>\r\n        </IonPopover>\r\n\r\n        <IonModal isOpen={this.state.isCreateGroupModalOpen}>\r\n          <IonHeader>\r\n            <IonToolbar class='socialToolbar2'>\r\n            <IonButtons slot='start'>\r\n              <IonButton onClick={() => {this.setState({isCreateGroupModalOpen: false})}} fill='clear'>\r\n                <IonIcon id='closeCreateGroupModalIcon' icon={closeCircleOutline} />\r\n              </IonButton>\r\n            </IonButtons>\r\n              <IonTitle class='socialTitle2'>Create Group</IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n          <IonContent>\r\n            <IonInput className='createGroupInput' placeholder='Group Nickname' onIonChange={(e) => {this.setState({groupNickname: (e.target as HTMLInputElement).value})}}/>\r\n            <IonButton onClick={() => {this.createGroup(); this.setState({isCreateGroupModalOpen: false})}} id='createGroupButton'>Create</IonButton>\r\n          </IonContent>\r\n        </IonModal>\r\n\r\n        <IonHeader>\r\n          <IonToolbar class='socialToolbar'>\r\n            <IonTitle class='socialTitle'>\r\n              Social\r\n            </IonTitle>\r\n            <IonButtons slot=\"start\">\r\n              <IonButton onClick={() => {this.setState({isPendingRequestsModalOpen: true})}}  fill='clear'>\r\n                <IonIcon icon={listOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonButtons slot='end'>\r\n              <IonButton onClick={(event : any) => {event.persist(); this.setState({isSocialPopoverOpen: true, socialPopoverEvent: event})}} fill='clear'>\r\n                <IonIcon icon={addOutline} />\r\n              </IonButton>\r\n            </IonButtons>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        <IonSegment onIonChange={e => this.setState({segmentSelected: e.detail.value})} value={this.state.segmentSelected}>\r\n          <IonSegmentButton value='groups'>\r\n            <IonLabel>Groups</IonLabel>\r\n          </IonSegmentButton>\r\n          <IonSegmentButton value='friends'>\r\n            <IonLabel>Friends</IonLabel>\r\n          </IonSegmentButton>\r\n        </IonSegment>\r\n        {\r\n          this.state.segmentSelected === 'groups' ?\r\n          <div>{\r\n            this.state.groupArray.map((displayGroup : Group) => {\r\n              return (\r\n                <IonItem onClick={() => {this.setState({groupDetails: displayGroup, isGroupModalOpen: true})}} lines='none' button={true} className='socialGroupItem' key={displayGroup.id}>\r\n                  <IonAvatar slot='start' className='socialGroupAvatar'>\r\n                    <img src = {displayGroup.profilePicture ? displayGroup.profilePicture : Placeholder}/>\r\n                  </IonAvatar>\r\n                  <IonLabel className='socialGroupLabel'>\r\n                    {displayGroup.nickname}\r\n                  </IonLabel>\r\n\r\n                </IonItem>\r\n              )\r\n            })\r\n          }\r\n        </div> :\r\n        <div>\r\n        {this.state.friendsList.map((friend: Friend) => {\r\n          return (\r\n            <IonItem onClick={() => {}} lines='none' button={true} className='socialGroupItem' key={friend.uid}>\r\n              <IonAvatar slot='start' className='socialGroupAvatar'>\r\n                <img src = {friend.photo ? friend.photo : Placeholder}/>\r\n              </IonAvatar>\r\n              <IonLabel className='socialGroupLabel'>\r\n                {friend.displayName}\r\n              </IonLabel>\r\n\r\n            </IonItem>\r\n            )\r\n          })\r\n      }\r\n        </div>\r\n      }\r\n\r\n\r\n        </IonContent>\r\n      </IonPage>\r\n      )\r\n    }\r\n\r\n}\r\n\r\nexport default Social\r\n","// Clay Mallory\r\n// File input code borrowed from Input code taken from https://medium.com/front-end-weekly/file-input-with-react-js-and-typescript-64dcea4b0a86. I tried to implement this a few other ways that apparently work in Javascript, but not Typescript and this is the only solution I found\r\nimport React from 'react';\r\nimport { IonReactRouter } from '@ionic/react-router';\r\nimport { PushNotification, PushNotificationToken, PushNotificationActionPerformed, Capacitor, Plugins, CameraResultType, FilesystemDirectory} from '@capacitor/core';\r\n\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonContent,\r\n  IonTitle,\r\n  IonButton,\r\n  IonButtons,\r\n  IonItem,\r\n  IonLabel,\r\n  IonToggle,\r\n  IonIcon,\r\n  IonModal,\r\n  IonInput,\r\n  IonAvatar,\r\n  IonChip\r\n\r\n} from '@ionic/react'\r\nimport firebase, {db, auth} from '../firebase'\r\nimport {addCircleOutline, closeCircleOutline, newspaperOutline, mailOutline, arrowBackOutline, arrowForwardOutline, personCircleOutline, cloudUploadOutline} from 'ionicons/icons'\r\nimport './Settings.css'\r\n const { PushNotifications } = Plugins;\r\n const { Toast } = Plugins;\r\n const isPushAvailable = Capacitor.isPluginAvailable(\"PushNotifications\");\r\n const { FCMPlugin } = Plugins;\r\n\r\n\r\ntype MyState = {\r\n  isBlockSourceModalOpen:boolean;\r\n  isChangePasswordModalOpen:boolean;\r\n  isChangeUsernameModalOpen:boolean;\r\n  isNotificationsModalOpen:boolean;\r\n  blockedSources:string[];\r\n  topics:[];\r\n  currentUserName:string;\r\n  sourceToBlock:string;\r\n  sourceToUnBlock:string;\r\n  localList:string[];\r\n  newPassword:string;\r\n  newUsername:string;\r\n  notifications: [{}];\r\n\r\n\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nclass Settings extends React.Component<MyProps, MyState> {\r\n\r\n  state: MyState = {\r\n    isBlockSourceModalOpen: false,\r\n    isChangePasswordModalOpen: false,\r\n    isChangeUsernameModalOpen: false,\r\n    isNotificationsModalOpen: false,\r\n    blockedSources: [],\r\n    topics:[],\r\n    currentUserName :'',\r\n    sourceToBlock:\"\",\r\n    sourceToUnBlock:\"\",\r\n    localList: [],\r\n    newPassword:'',\r\n    newUsername:'',\r\n    notifications:[{ id: 'id', title: 'Test Push', body: \"This is my first push notification\" }]\r\n\r\n\r\n  };\r\n\r\n\r\n  constructor(props: MyProps) {\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n     this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.blockSource = this.blockSource.bind(this);\r\n\r\n        if(auth.currentUser) { // gets the name of the current user\r\n          db.collection(\"users\").doc(auth.currentUser.uid).get().then(doc => {\r\n            if(doc.data()) {\r\n              this.setState({currentUserName: doc.data()!.username})\r\n              var temp= db.collection('topicSubscription').doc(firebase.auth().currentUser!.uid).onSnapshot((snapshot) => { //blockedSources not in firebase?\r\n                if(snapshot.data()) {\r\n                 //this.setState({blockedSources: snapshot.data()!.blockedSources})\r\n                 this.setState({topics: snapshot.data()!.subList})\r\n                }\r\n              })\r\n            }\r\n          })\r\n\r\n        }\r\n\r\n       this.pullImage();\r\n  }\r\n\r\n\r\n\r\n  async show() {\r\n  await Toast.show({\r\n    text: 'Hello!'\r\n  });\r\n}\r\n\r\n  push() { // This code is borrowed from https://enappd.com/blog/firebase-push-notification-in-ionic-react-capacitor/111/\r\n    \r\n    // Register with Apple / Google to receive push via APNS/FCM\r\n    console.log('here again');\r\n    PushNotifications.register();\r\n    var temp = this.state.topics;\r\n\r\n    for(var i = 0; i < temp.length; i++) {\r\n      PushNotifications.register().then(()=> {\r\n        console.log(\"subscribed to\" + temp[i]);\r\n        FCMPlugin.subscribeTo({topic:temp[i]})\r\n      }).catch((err)=>console.log(err));\r\n  }\r\n\r\n    // On succcess, we should be able to receive notifications\r\n    PushNotifications.addListener('registration',\r\n      (token: PushNotificationToken) => {\r\n        alert('Push registration success, token: ' + token.value);\r\n      }\r\n    );\r\n\r\n    // Some issue with your setup and push will not work\r\n    PushNotifications.addListener('registrationError',\r\n      (error: any) => {\r\n        alert('Error on registration: ' + JSON.stringify(error));\r\n      }\r\n    );\r\n\r\n    // Show us the notification payload if the app is open on our device\r\n    PushNotifications.addListener('pushNotificationReceived',\r\n      (notification: PushNotification) => {\r\n        let notif = this.state.notifications;\r\n        notif.push({ id: notification.id, title: notification.title, body: notification.body })\r\n        this.setState({\r\n          notifications: notif\r\n        })\r\n      }\r\n    );\r\n\r\n    // Method called when tapping on a notification\r\n    PushNotifications.addListener('pushNotificationActionPerformed',\r\n      (notification: PushNotificationActionPerformed) => {\r\n        let notif = this.state.notifications;\r\n        notif.push({ id: notification.notification.data.id, title: notification.notification.data.title, body: notification.notification.data.body })\r\n        this.setState({\r\n          notifications: notif\r\n        })\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n\r\n  async handleChange(selectorFiles: FileList)\r\n    {\r\n      if(selectorFiles!=null) {\r\n        console.log(selectorFiles);\r\n        var storage = firebase.storage();\r\n        var storageRef = firebase.storage().ref();\r\n        var file = selectorFiles[0];\r\n        var uid = firebase.auth().currentUser!.uid;\r\n        var newPicRef = storageRef.child('profileImages/' + uid+ '.jpg');\r\n\r\n        newPicRef.put(file);\r\n        await new Promise(r => setTimeout(r, 1000));\r\n        newPicRef.getDownloadURL().then((url) => {\r\n          db.collection('profiles').doc(auth.currentUser?.uid).update({\r\n            photo: url\r\n          })\r\n        })\r\n\r\n        this.pullImage();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  blockSource(sourceName:string) {\r\n\r\n    if(sourceName!=\"\" && sourceName.length > 3) { //makes sure the source is a valid site and isn't blank\r\n      if(!this.state.localList.includes(sourceName))\r\n        this.state.localList.push(sourceName);\r\n      this.addToList(sourceName);\r\n      this.state.blockedSources.push(sourceName);\r\n      console.log(this.state.blockedSources);\r\n      db.collection('usernames').doc(this.state.currentUserName).get().then(document => {\r\n      if(document.exists && this.isValidSite(sourceName)) {\r\n        db.collection('usernames').doc(this.state.currentUserName).update({\r\n        blockedSources : firebase.firestore.FieldValue.arrayUnion(sourceName)\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nunBlockSource(sourceName:string) {\r\n  if(sourceName!=\"\" ) { //makes sure the source is a valid site and isn't blank\r\n    db.collection('usernames').doc(this.state.currentUserName).get().then(document => {\r\n    if(document.exists) {\r\n      db.collection('usernames').doc(this.state.currentUserName).update({\r\n        blockedSources: firebase.firestore.FieldValue.arrayRemove(sourceName)\r\n      })\r\n    }\r\n  })\r\n}\r\n}\r\n\r\npopulate() {\r\nvar temp = this.state.blockedSources;\r\nfor (var i = temp.length - 1; i >= 0; i--) {\r\n  this.addToList(temp[i]);\r\n}\r\n\r\n}\r\n\r\nisEmailAddress(anEmail: string) {\r\n  return anEmail !== \"\" && anEmail.includes(\"@\");\r\n}\r\n\r\nchangeEmail(newEmail: string) {\r\n  if(auth.currentUser && this.isEmailAddress(newEmail)) {\r\n    auth.currentUser.updateEmail(newEmail).then(function() {\r\n\r\n  }).catch(function(error){\r\n\r\n  })\r\n}\r\n}\r\n\r\nsignOutUser() {\r\n  if (auth.currentUser) {\r\n    auth.signOut()\r\n  }\r\n}\r\n\r\nchangePassword(password:string) {\r\n  if(auth.currentUser) {\r\n    auth.currentUser.updatePassword(password).then(function() {\r\n\r\n\r\n  }).catch(function(error){\r\n\r\n\r\n  })\r\n}\r\n}\r\n\r\n/*changeEmail(email:string) {\r\n  if(this.state.currentUserName!=undefined&& email.length > 3) { //makes sure the source is a valid site and isn't blank\r\n    db.collection('usernames').doc(this.state.currentUserName).get().then(document => { //works for one specific user currently\r\n    if(document.exists) {\r\n      db.collection('usernames').doc(this.state.currentUserName).update({\r\n        \"email.firebase\" : email\r\n      })\r\n\r\n    }\r\n  })\r\n}\r\n  }*/\r\n\r\n  changeUsername(newName:string) {\r\n    if(this.state.currentUserName!=undefined&& newName.length > 3) { //makes sure the source is a valid site and isn't blank\r\n      db.collection('usernames').doc(this.state.currentUserName).get().then(document => { //works for one specific user currently\r\n      if(document.exists) {\r\n        db.collection('usernames').doc(this.state.currentUserName).update({\r\n          \"username.firebase\" : newName\r\n        })\r\n\r\n      }\r\n    })\r\n  }\r\n    }\r\n\r\n    handleSubmit(){\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    pullImage(){\r\n      if(auth.currentUser) {\r\n      var storage = firebase.storage();\r\n      var storageRef = firebase.storage().ref();\r\n      var pathReference;\r\n      var pathName = 'profileImages/' +firebase.auth().currentUser!.uid+'.jpg';\r\n      pathReference = storageRef.child(pathName);\r\n\r\n        pathReference.getDownloadURL().then((url)=> {\r\n         var img = document.getElementById('myimg');\r\n         if(img!=null)\r\n          img.setAttribute('src', url);\r\n\r\n      })\r\n      .catch((error) => {\r\n  // A full list of error codes is available at\r\n  // https://firebase.google.com/docs/storage/web/handle-errors\r\n  switch (error.code) {\r\n    case 'storage/object-not-found':\r\n    firebase.storage().ref().child('placeholder.png').getDownloadURL().then((url)=> {\r\n         var img = document.getElementById('myimg');\r\n         if(img!=null)\r\n          img.setAttribute('src', url);\r\n      })\r\n\r\n      break;\r\n    case 'storage/unauthorized':\r\n      // User doesn't have permission to access the object\r\n      break;\r\n    case 'storage/canceled':\r\n      // User canceled the upload\r\n      break;\r\n    case 'storage/unknown':\r\n      // Unknown error occurred, inspect the server response\r\n      break;\r\n  }\r\n});\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n   uploadImage() {\r\n   // const i = document.getElementById('image')!.files[0];\r\n    var y = React.createRef();\r\n      var storage = firebase.storage();\r\n      var storageRef = firebase.storage().ref();\r\n      var newPicRef = storageRef.child('images/new.jpg');\r\n      var file = document.getElementById('image');\r\n     // var v = file.files;\r\n      if(file!=null) {\r\n      file.addEventListener('change', function(evt) {\r\n        if(evt.target!=null) {\r\n     // let firstFile = evt.target.files[0] // upload the first file only\r\n      //let uploadTask = storageRef.put(firstFile)\r\n      }\r\n  })\r\n  }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\naddToList(name:string) {\r\n  if(!this.state.localList.includes(name)) {\r\n  var list = document.getElementById(\"blockedList\");\r\n  var entry = document.createElement(\"li\");\r\n  entry.setAttribute(\"id\", name);\r\n  entry.appendChild(document.createTextNode(name));\r\n  if(list!=null)\r\n  list.appendChild(entry);\r\n  console.log(list);\r\n}\r\n\r\n}\r\n\r\nisValidSite(siteName:string) {\r\n  if(siteName!='' && siteName.length>4) {\r\n    if(siteName.substring(siteName.length-4, siteName.length-3)=='.') {\r\n      var domainType = siteName.substring(siteName.length-3);\r\n      if(domainType == 'com'|| domainType=='org'||domainType == 'net')\r\n      return true;\r\n    }\r\n    }\r\n    return false;\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n      const { notifications } = this.state;\r\n      return (\r\n      <IonPage>\r\n      <IonModal isOpen={this.state.isBlockSourceModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar class='settingsToolbar2'>\r\n            <IonButtons>\r\n              <IonButton onClick={() => {this.populate();this.setState({isBlockSourceModalOpen: false})}} id='toBlock' fill='clear'>\r\n              <IonIcon id='closeBlockIcon' icon={arrowBackOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonTitle class='settingsTitle2'>\r\n              Block a Source\r\n\r\n            </IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        <IonItem lines='none' id='block'>\r\n          <IonInput class='addSource' onIonChange={(e) => {this.setState({sourceToBlock: (e.target as HTMLInputElement).value})}} />\r\n          <IonButton onClick={() => {this.blockSource(this.state.sourceToBlock)}}  fill='clear'>\r\n            <IonIcon id='addBlockIcon' icon={addCircleOutline} />\r\n          </IonButton>\r\n        </IonItem>\r\n        <br/>\r\n        <IonTitle id ='unblockText'>\r\n        Unblock a Source\r\n        </IonTitle>\r\n        <br/>\r\n        <br/>\r\n        <IonItem lines='none' id='block'>\r\n          <IonInput class='addSource' onIonChange={(e) => {this.setState({sourceToUnBlock: (e.target as HTMLInputElement).value})}} />\r\n          <IonButton onClick={() => {this.unBlockSource(this.state.sourceToUnBlock)}}  fill='clear'>\r\n            <IonIcon id='addBlockIcon' icon={addCircleOutline} />\r\n          </IonButton>\r\n        </IonItem>\r\n        <br/>\r\n        <IonHeader id = 'blockedSourcesHeader'>You Won't See Content From:</IonHeader>\r\n        <br/>\r\n\r\n        <ul id = \"blockedList\"></ul>\r\n          {\r\n            this.state.blockedSources.map(Blocked =>\r\n              <IonItem key = {Blocked.toString()}>\r\n              <IonItem class = 'blockedListEntry'>{Blocked.toString()}</IonItem>\r\n              </IonItem>\r\n            )}\r\n        </IonContent>\r\n      </IonModal>\r\n\r\n\r\n\r\n      <IonModal isOpen={this.state.isChangePasswordModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar class='settingsToolbar2'>\r\n            <IonButtons>\r\n              <IonButton onClick={() => {this.setState({isChangePasswordModalOpen: false})}} id='toBlock' fill='clear'>\r\n              <IonIcon id='closeBlockIcon' icon={arrowBackOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n\r\n            <IonTitle class='settingsTitle2'>\r\n              Change Password\r\n\r\n            </IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n        <IonContent>\r\n        <IonItem lines='none' id='block'>\r\n          <IonInput class = 'addSource' onIonChange={(e) => {this.setState({newPassword: (e.target as HTMLInputElement).value})}} />\r\n          <IonButton onClick={() => {this.changePassword(this.state.newPassword)}}  fill='clear' placeholder='Enter new password'>\r\n            <IonIcon id='addBlockIcon' icon={arrowForwardOutline} />\r\n          </IonButton>\r\n        </IonItem>\r\n        </IonContent>\r\n      </IonModal>\r\n\r\n      <IonModal isOpen={this.state.isChangeUsernameModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar class='settingsToolbar2'>\r\n            <IonButtons>\r\n              <IonButton onClick={() => {this.setState({isChangeUsernameModalOpen: false})}} id='toBlock' fill='clear'>\r\n              <IonIcon id='closeBlockIcon' icon={arrowBackOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n\r\n            <IonTitle class='settingsTitle2'>\r\n              Change Username\r\n\r\n            </IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n        <IonContent>\r\n        <IonItem lines='none' id='block'>\r\n          <IonInput class = 'addSource' onIonChange={(e) => {this.setState({newUsername: (e.target as HTMLInputElement).value})}} />\r\n          <IonButton onClick={() => {this.changeUsername(this.state.newUsername)}}  fill='clear'>\r\n            <IonIcon id='addBlockIcon' icon={arrowForwardOutline} />\r\n          </IonButton>\r\n        </IonItem>\r\n        </IonContent>\r\n\r\n      </IonModal>\r\n      <IonModal isOpen={this.state.isNotificationsModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar class='settingsToolbar2'>\r\n            <IonButtons>\r\n              <IonButton onClick={() => {this.setState({isNotificationsModalOpen: false})}} id='toBlock' fill='clear'>\r\n              <IonIcon id='closeBlockIcon' icon={arrowBackOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n\r\n            <IonTitle class='settingsTitle2'>\r\n              Notifications\r\n            </IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n        <IonContent>\r\n        <IonItem lines='none' id='block'>\r\n          <IonHeader> Enter a topic below to subscribe to notifications for it </IonHeader>\r\n          <br/>\r\n          </IonItem>\r\n          <IonItem>\r\n          <IonInput class = 'addSource' onIonChange={(e) => {this.setState({newPassword: (e.target as HTMLInputElement).value})}} />\r\n          <IonButton onClick={() => {this.changePassword(this.state.newPassword)}}  fill='clear' placeholder='Enter new password'>\r\n            <IonIcon id='addBlockIcon' icon={arrowForwardOutline} />\r\n          </IonButton>\r\n        </IonItem>\r\n        </IonContent>\r\n      </IonModal>\r\n        <IonHeader>\r\n          <IonToolbar class='settingsToolbar'>\r\n            <IonTitle class='settingsTitle'>\r\n              Settings\r\n            </IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonAvatar>\r\n          <img id = 'myimg' />\r\n        </IonAvatar>\r\n        <IonItem>\r\n            <IonLabel>Notifications</IonLabel>\r\n            <IonToggle onClick={(()=> {if(isPushAvailable) this.push()})} value=\"Notifications\" />\r\n          </IonItem>\r\n\r\n        <IonContent>\r\n        <IonItem>\r\n        Content Filter\r\n        <IonButtons slot='end'>\r\n          <IonButton onClick={() => {this.setState({isBlockSourceModalOpen: true})}} fill='clear'>\r\n            <IonIcon id = 'contentFilterButton' icon={newspaperOutline} />\r\n          </IonButton>\r\n        </IonButtons>\r\n        </IonItem>\r\n\r\n        <IonItem id ='updateEmail'>\r\n          Change Password\r\n        <IonButtons slot='end'>\r\n          <IonButton onClick={() => {this.setState({isChangePasswordModalOpen: true})}} fill='clear'>\r\n\r\n            <IonIcon id = 'emailChangeButton' icon={mailOutline}/>\r\n          </IonButton>\r\n          </IonButtons>\r\n          </IonItem>\r\n\r\n          <IonItem id ='changeUsername'>\r\n            Change Username\r\n          <IonButtons slot='end'>\r\n            <IonButton onClick={() => {this.setState({isChangeUsernameModalOpen: true})}} fill='clear'>\r\n\r\n              <IonIcon id = 'userNameChangeButton' icon={personCircleOutline}/>\r\n              </IonButton>\r\n              </IonButtons>\r\n              </IonItem>\r\n\r\n\r\n               <IonItem id ='updateEmail'>\r\n               Change Profile Picture\r\n               <IonButtons slot = 'end'>\r\n\r\n                  <IonButton id = 'submit'>\r\n\r\n        <input type=\"file\" id = 'fileSelect' onChange={ (e) => (this.handleChange(e.target.files!)) } />\r\n\r\n       <IonIcon id = 'cloudUploadOutline' icon={cloudUploadOutline}/>\r\n        </IonButton>\r\n\r\n\r\n\r\n        </IonButtons>\r\n          </IonItem>\r\n            <IonItem id ='changeUsername'>\r\n            Change Username\r\n          <IonButtons slot='end'>\r\n            <IonButton onClick={() => {this.setState({isNotificationsModalOpen: true})}} fill='clear'>\r\n\r\n              <IonIcon id = 'userNameChangeButton' icon={personCircleOutline}/>\r\n              </IonButton>\r\n              </IonButtons>\r\n              </IonItem>\r\n\r\n        </IonContent>\r\n      </IonPage>\r\n      )\r\n    }\r\n\r\n}\r\n\r\nexport default Settings\r\n","import React from 'react';\r\nimport {\r\n  IonTabBar,\r\n  IonTabButton,\r\n  IonTabs,\r\n  IonLabel,\r\n  IonIcon,\r\n  IonRouterOutlet\r\n} from '@ionic/react'\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { newspaperOutline, peopleOutline, settingsOutline} from 'ionicons/icons';\r\nimport Feed from './Feed'\r\nimport Social from './Social'\r\nimport Settings from './Settings'\r\nimport './Tabs.css'\r\n\r\nconst Tabs: React.FC = () => {\r\n  return (\r\n    <IonTabs>\r\n      <IonRouterOutlet>\r\n        <Route path=\"/main\" exact render={() => <Redirect to=\"/main/feed\"/>} />\r\n        <Route path=\"/main/feed\" component={Feed} exact={true} />\r\n        <Route path=\"/main/social\" component={Social} exact={true} />\r\n        <Route path=\"/main/settings\" component={Settings} exact={true}/>\r\n      </IonRouterOutlet>\r\n      <IonTabBar color='dark'class='tabToolbar' slot=\"bottom\">\r\n          <IonTabButton class='tabIcon' tab=\"feed\" href=\"/main/feed\">\r\n            <IonIcon icon={newspaperOutline} />\r\n            <IonLabel>Feed</IonLabel>\r\n          </IonTabButton>\r\n          <IonTabButton class='tabIcon' tab=\"social\" href=\"/main/social\">\r\n            <IonIcon icon={peopleOutline} />\r\n            <IonLabel>Social</IonLabel>\r\n          </IonTabButton>\r\n          <IonTabButton class='tabIcon' tab=\"settings\" href=\"/main/settings\">\r\n            <IonIcon icon={settingsOutline} />\r\n            <IonLabel>Settings</IonLabel>\r\n          </IonTabButton>\r\n        </IonTabBar>\r\n      </IonTabs>\r\n  )\r\n}\r\n\r\nexport default Tabs\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport {\r\n  IonApp,\r\n  IonRouterOutlet,\r\n} from '@ionic/react';\r\nimport { IonReactRouter } from '@ionic/react-router';\r\nimport { Plugins, PushNotification, PushNotificationToken, PushNotificationActionPerformed } from '@capacitor/core';\r\nimport { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, withIonLifeCycle, IonButton, IonFooter, IonList, IonItem, IonLabel, IonListHeader, IonText } from '@ionic/react';\r\n\r\n\r\n\r\nimport Landing from './pages/Landing'\r\nimport Weather from './pages/Weather'\r\nimport Feed from './pages/Feed'\r\nimport Tabs from './pages/Tabs'\r\n/* Core CSS required for Ionic components to work properly */\r\nimport '@ionic/react/css/core.css';\r\n\r\n/* Basic CSS for apps built with Ionic */\r\nimport '@ionic/react/css/normalize.css';\r\nimport '@ionic/react/css/structure.css';\r\nimport '@ionic/react/css/typography.css';\r\n\r\n/* Optional CSS utils that can be commented out */\r\nimport '@ionic/react/css/padding.css';\r\nimport '@ionic/react/css/float-elements.css';\r\nimport '@ionic/react/css/text-alignment.css';\r\nimport '@ionic/react/css/text-transformation.css';\r\nimport '@ionic/react/css/flex-utils.css';\r\nimport '@ionic/react/css/display.css';\r\n\r\n/* Theme variables */\r\nimport './theme/variables.css';\r\n\r\nconst App: React.FC = () => (\r\n    <IonApp>\r\n      <IonReactRouter>\r\n        <IonRouterOutlet>\r\n        <Route path=\"/main\" component={Tabs}/>\r\n          <Route path=\"/Weather\" component={Weather}/>\r\n          <Route path=\"/feed\" component={Feed}/>\r\n          <Route path=\"/main\" component={Tabs}/>\r\n          <Route path=\"/landing\" component={Landing} exact={true} />\r\n          <Route exact path=\"/\" render={() => <Redirect to=\"/landing\" />} />\r\n        </IonRouterOutlet>\r\n      </IonReactRouter>\r\n    </IonApp>\r\n)\r\nconst { PushNotifications } = Plugins;\r\nconst INITIAL_STATE = {\r\n  notifications: [{ id: 'id', title: \"Test Push\", body: \"This is my first push notification\" }],\r\n};\r\n\r\nexport class Home extends React.Component {\r\n  state: any = {};\r\n  props: any = {};\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  push() {\r\n    // Register with Apple / Google to receive push via APNS/FCM\r\n \r\n    PushNotifications.register();\r\n\r\n    // On succcess, we should be able to receive notifications\r\n    PushNotifications.addListener('registration',\r\n      (token: PushNotificationToken) => {\r\n        alert('Push registration success, token: ' + token.value);\r\n      }\r\n    );\r\n\r\n    // Some issue with your setup and push will not work\r\n    PushNotifications.addListener('registrationError',\r\n      (error: any) => {\r\n        alert('Error on registration: ' + JSON.stringify(error));\r\n      }\r\n    );\r\n\r\n    // Show us the notification payload if the app is open on our device\r\n    PushNotifications.addListener('pushNotificationReceived',\r\n      (notification: PushNotification) => {\r\n        let notif = this.state.notifications;\r\n        notif.push({ id: notification.id, title: notification.title, body: notification.body })\r\n        this.setState({\r\n          notifications: notif\r\n        })\r\n      }\r\n    );\r\n\r\n    // Method called when tapping on a notification\r\n    PushNotifications.addListener('pushNotificationActionPerformed',\r\n      (notification: PushNotificationActionPerformed) => {\r\n        let notif = this.state.notifications;\r\n        notif.push({ id: notification.notification.data.id, title: notification.notification.data.title, body: notification.notification.data.body })\r\n        this.setState({\r\n          notifications: notif\r\n        })\r\n      }\r\n    );\r\n  }\r\n  render() {\r\n    const { notifications } = this.state;\r\n    return (\r\n      <IonPage>\r\n        ...\r\n      </IonPage >\r\n    );\r\n  };\r\n}\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAQAAAAAAAAAAAAAAAAAAAAAA8J8HasaIBWRZAAAAAElFTkSuQmCC\"","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t134,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t135,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t136,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t137,\n\t\t18\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t138,\n\t\t19\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t139,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t140,\n\t\t20\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t141,\n\t\t21\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t142,\n\t\t22\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t143,\n\t\t23\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t144,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t145,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t146,\n\t\t24\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t147,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t148,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t149,\n\t\t25\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t150,\n\t\t26\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t151,\n\t\t27\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t152,\n\t\t28\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t153,\n\t\t29\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t154,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t155,\n\t\t15\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t156,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t157,\n\t\t30\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t158,\n\t\t31\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t159,\n\t\t32\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t160,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t161,\n\t\t17\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t162,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t163,\n\t\t33\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t164,\n\t\t34\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t165,\n\t\t35\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t166,\n\t\t36\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t167,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t168,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t169,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t170,\n\t\t37\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t171,\n\t\t16\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t172,\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t173,\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t174,\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t175,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t176,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 87;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t180,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 89;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}