(this["webpackJsonpproject-folder"]=this["webpackJsonpproject-folder"]||[]).push([[1],{114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(40),o=n.n(s),i=n(72),A=n(9),c=n(10),l=n(12),u=n(13),d=n(36),m=n(2),p=n(77),f=n(33),g=n(4),h=n.n(g),b=n(11),E=n(7),v=(n(93),n(32));v.a.initializeApp({apiKey:"AIzaSyCAmbJVaYRk_N6RBcg_VnH865_9FzstE_I",authDomain:"worldwatchlist.firebaseapp.com",databaseURL:"https://worldwatchlist.firebaseio.com",projectId:"worldwatchlist",storageBucket:"worldwatchlist.appspot.com",messagingSenderId:"106343909885",appId:"1:106343909885:web:5cd924b3087d5e5b483194"});var k=v.a.auth(),O=v.a.firestore(),y=v.a,w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(A.a)(this,n),(a=t.call(this,e)).state={loginEmail:"",loginPassword:"",registerEmail:"",registerPassword:"",registerConfirmPassword:"",shouldLoginShow:!0,username:"",usernameIdentifier:-1},a.login=a.login.bind(Object(E.a)(a)),a.register=a.register.bind(Object(E.a)(a)),a}return Object(c.a)(n,[{key:"login",value:function(){var e=this,t=!0;""===this.state.loginEmail&&(t=!1),""===this.state.loginPassword&&(t=!1),t&&y.auth().setPersistence(y.auth.Auth.Persistence.LOCAL).then((function(){k.signInWithEmailAndPassword(e.state.loginEmail,e.state.loginPassword).then((function(){console.log(k.currentUser),k.currentUser&&e.props.history.push("/main")})).catch((function(e){console.log(e.message)}))}))}},{key:"register",value:function(){var e=this;this.state.registerEmail,this.state.registerPassword,this.state.registerConfirmPassword,this.state.registerPassword,y.auth().setPersistence(y.auth.Auth.Persistence.LOCAL).then((function(){k.createUserWithEmailAndPassword(e.state.registerEmail,e.state.registerPassword).then((function(){e.getUsernameIdentifier().then((function(){e.props.history.push("/main")}))})).catch((function(e){console.log(e.message)}))}))}},{key:"firstUnusedNumber",value:function(e){for(var t=e.length,n=0;n<t;n++)if(e[n]!==n)return n;return t}},{key:"getUsernameIdentifier",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("usernameIdentifiers").doc(this.state.username).get().then(function(){var e=Object(b.a)(h.a.mark((function e(n){var a,r,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.exists){e.next=4;break}n.data()&&(r=n.data().identifiers,s=t.firstUnusedNumber(r),t.setState({usernameIdentifier:s}),o=o=r.push(s),O.collection("usernameIdentifiers").doc(t.state.username).update({identifiers:o})),e.next=7;break;case 4:return e.next=6,O.collection("usernameIdentifiers").doc(t.state.username).set({identifiers:[0]});case 6:t.setState({usernameIdentifier:0});case 7:return e.next=9,O.collection("users").doc(null===(a=k.currentUser)||void 0===a?void 0:a.uid).set({blockedSources:[],groups:[],username:t.state.username+"#"+t.state.usernameIdentifier.toString()});case 9:return e.next=11,O.collection("usernames").doc(t.state.username+"#"+t.state.usernameIdentifier.toString()).set({blockedSources:[],groups:[],username:t.state.username+"#"+t.state.usernameIdentifier.toString(),outgoingFriendRequests:[],incomingFriendRequests:[]});case 11:return e.next=13,O.collection("outgoingFriendRequests").doc(t.state.username+"#"+t.state.usernameIdentifier.toString()).set({outgoingFriendRequests:[]});case 13:return e.next=15,O.collection("incomingFriendRequests").doc(t.state.username+"#"+t.state.usernameIdentifier.toString()).set({incomingFriendRequests:[]});case 15:return e.next=17,O.collection("friends").doc(t.state.username+"#"+t.state.usernameIdentifier.toString()).set({friendsList:[]});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(m.v,null,r.a.createElement(m.l,null,r.a.createElement(m.F,{className:"landingToolbar"},r.a.createElement(m.D,null,this.state.shouldLoginShow?"Login":"Register"))),r.a.createElement(m.k,{className:"landingContent"},this.state.shouldLoginShow?r.a.createElement("div",{className:"loginContainer"},r.a.createElement("div",{id:"loginInputContainer"},r.a.createElement(m.o,{lines:"none",className:"loginItem"},r.a.createElement(m.q,{className:"loginLabel",position:"floating"},"Email"),r.a.createElement(m.n,{value:this.state.loginEmail,className:"loginInput",type:"email",placeholder:"Email Address",onIonChange:function(t){e.setState({loginEmail:t.target.value})}})),r.a.createElement(m.o,{lines:"none",className:"loginItem"},r.a.createElement(m.q,{className:"loginLabel",position:"floating"},"Password"),r.a.createElement(m.n,{value:this.state.loginPassword,className:"loginInput",type:"password",placeholder:"Password",onIonChange:function(t){e.setState({loginPassword:t.target.value})}}))),r.a.createElement(m.c,{onClick:function(){e.login()},className:"loginButton"},"Submit")):r.a.createElement("div",{className:"registerContainer"},r.a.createElement("div",{id:"registerInputContainer"},r.a.createElement(m.o,{lines:"none",className:"registerItem"},r.a.createElement(m.q,{className:"registerLabel",position:"floating",id:"email"},"Email"),r.a.createElement(m.n,{value:this.state.registerEmail,className:"registerInput",type:"email",placeholder:"Email Address",onIonChange:function(t){e.setState({registerEmail:t.target.value})}})),r.a.createElement(m.o,{lines:"none",className:"registerItem"},r.a.createElement(m.q,{className:"registerLabel",position:"floating"},"Password"),r.a.createElement(m.n,{value:this.state.registerPassword,className:"registerInput",type:"password",placeholder:"Password",onIonChange:function(t){e.setState({registerPassword:t.target.value})}})),r.a.createElement(m.o,{lines:"none",className:"registerItem"},r.a.createElement(m.q,{className:"registerLabel",position:"floating"},"Confirm Password"),r.a.createElement(m.n,{value:this.state.registerConfirmPassword,className:"registerInput",type:"password",placeholder:"Confirm Password",onIonChange:function(t){e.setState({registerConfirmPassword:t.target.value})}})),r.a.createElement(m.o,{lines:"none",className:"registerItem"},r.a.createElement(m.q,{className:"registerLabel",position:"floating"},"Username"),r.a.createElement(m.n,{value:this.state.username,className:"registerInput",type:"text",placeholder:"Username",onIonChange:function(t){e.setState({username:t.target.value})}}))),r.a.createElement(m.c,{onClick:function(){e.register()},className:"registerButton"},"Submit")),r.a.createElement(m.c,{className:"landingSwitch",onClick:function(){e.setState({shouldLoginShow:!e.state.shouldLoginShow})}},"Switch")))}}]),n}(r.a.Component),S=n(43),C=n.n(S),j=(n(114),n(5)),U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(A.a)(this,n),(a=t.call(this,e)).state={lat:null,long:null,name:null,req:null,temp:null,weather_code:null,showLoading:!1,location:null,subscription:[],isUnsubscribing:!1,CurrentUser:null,isweatherOpen:!1},a.ParentComponent=function(e){return r.a.createElement("div",{className:"card calculator"},r.a.createElement("div",{id:"children-pane"},e.children))},a.ChildComponent=function(e){return r.a.createElement(m.e,null,r.a.createElement(m.g,null,r.a.createElement(m.h,null,e.location),r.a.createElement(m.i,null,e.temp)),r.a.createElement(m.f,null,e.weather_code,r.a.createElement(m.c,{expand:"block",fill:"outline",color:"secondary",type:"submit",onClick:function(){return a.unsubscribe(e.index)&&a.setState({isUnsubscribing:!0})}},"unsub")))},k.onAuthStateChanged(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a.state.subscription),k.currentUser&&O.collection("users").doc(k.currentUser.uid).get().then((function(e){e.data()&&a.setState({CurrentUser:e.data().username}),O.collection("weatherSubscription").doc(a.state.CurrentUser).get().then((function(e){if(e.exists){var t=e.data();t&&a.setState({subscription:t.subscription})}else O.collection("weatherSubscription").doc(a.state.CurrentUser).set({subscription:[]})})).catch((function(e){console.log("Error getting document:",e)}))}));case 2:case"end":return e.stop()}}),e)})))),a}return Object(c.a)(n,[{key:"unsubscribe",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),this.state.subscription.splice(t,1),O.collection("weatherSubscription").doc(this.state.CurrentUser).update({subscription:this.state.subscription});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("http://api.openweathermap.org/data/2.5/weather?lat="+t+"&lon="+n+"&APPID=853ea8c8d782be685ad81ace7b65291a&units=imperial").then((function(e){var t=e.data;console.log(t);var n=a.state.name;!0===a.state.subscription.some((function(e){return e.location===n}))?console.log("already subscribed"):(console.log("adding to subscription"),a.state.subscription.push({location:a.state.name,temp:t.main.temp+" F",weather_code:t.weather[0].description})),a.setState({temp:t.main.temp+"F",weather_code:t.weather[0].description,location:a.state.name}),O.collection("weatherSubscription").doc(a.state.CurrentUser).update({subscription:a.state.subscription})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"geocode",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=4;break}console.log("Please enter a valid location"),e.next=6;break;case 4:return e.next=6,C.a.get("https://us1.locationiq.com/v1/search.php?key=pk.180fdf6168d1230db0cc5c937b7eaa98&q&q="+t+"&limit=1&countrycodes=US&namedetails=1&format=json").then((function(e){var t=e.data[0];console.log(t);var a=t.lat,r=t.lon,s=t.display_name;n.setState({lat:a,long:r,name:s})})).catch((function(e){console.error(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=[],n=0;n<this.state.subscription.length;n+=1)t.push(r.a.createElement(this.ChildComponent,{key:n,weather_code:this.state.subscription[n].weather_code,temp:this.state.subscription[n].temp,location:this.state.subscription[n].location,index:n}));return r.a.createElement(m.u,{isOpen:this.props.isOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.D,null,"Weather"),r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{onClick:function(){e.props.toggleWeatherModal()},fill:"clear"},r.a.createElement(m.m,{id:"addFriendModalCloseIcon",icon:j.n}))))),r.a.createElement(m.k,null,r.a.createElement(m.z,{placeholder:"State, City, address...",onIonInput:function(t){return e.setState({req:t.target.value})},animated:!0}),r.a.createElement(m.c,{id:"searchButton",size:"default",color:"dark",type:"submit",expand:"full",shape:"round",onClick:function(){return e.geocode(e.state.req)&&e.setState({showLoading:!0})}},"search"),r.a.createElement(m.t,{isOpen:this.state.showLoading,onDidDismiss:function(){return e.subscribe(e.state.lat,e.state.long)&&e.setState({showLoading:!1})},message:"Getting data from API",duration:750}),r.a.createElement(this.ParentComponent,null,t)))}}]),n}(r.a.Component),I=(n(115),v.a.initializeApp({apiKey:"AIzaSyCiQa3wPMFOp_PidtF-8arljaCT3XFMLhc",authDomain:"world-watchlist-server-8f86e.firebaseapp.com",databaseURL:"https://world-watchlist-server-8f862.firebaseio.com",projectId:"world-watchlist-server-8f86e",storageBucket:"world-watchlist-server-8f86e.appspot.com",messagingSenderId:"252689618671",appId:"1:252689618671:web:3ac355cc3bbad710d02d1a"},"Secondary"));I.firestore().settings({cacheSizeBytes:v.a.firestore.CACHE_SIZE_UNLIMITED}),I.firestore().enablePersistence().catch((function(e){"failed-precondition"==e.code||e.code}));var x=I.firestore();n(116);var P=function(e){return r.a.createElement(m.e,null,r.a.createElement("meta",{httpEquiv:"Cache-control",content:"no-cache"}),r.a.createElement(m.g,null,r.a.createElement(m.i,null,e.theArticle.title)),r.a.createElement(m.f,null,e.theArticle.description),r.a.createElement(m.f,null,r.a.createElement("a",{href:e.theArticle.link},"source")))};var F=function(e){var t=e.theArticleList.map((function(e){return r.a.createElement("div",{key:e.title}," ",r.a.createElement(P,{theArticle:e})," ")}));return r.a.createElement("div",null,t)},M=f.b.Storage,D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(A.a)(this,n),(a=t.call(this,e)).state={articles:[],subs:[],articlesSearched:[],subscribedArticles:void 0,CurrentUser:null,topicSearched:null,showLoading:!1,showModal:!1,showSubscription:!1,allArticles:[],locationBased:!1,isWeatherModalOpen:!1},a.ParentComponent=function(e){return r.a.createElement("div",null,r.a.createElement("div",{id:"children-pane"},e.children))},a.ChildComponent=function(e){return r.a.createElement(m.e,null,r.a.createElement(m.g,null,r.a.createElement(m.i,null,e.subscription)),r.a.createElement(m.f,null,r.a.createElement(m.c,{expand:"block",fill:"outline",color:"secondary",type:"submit",onClick:function(){return a.unsubscribe(e.subscription,e.index)}},"unsubscribe")))},a.toggleWeatherModal=a.toggleWeatherModal.bind(Object(E.a)(a)),k.onAuthStateChanged(Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.currentUser){e.next=3;break}return e.next=3,O.collection("users").doc(k.currentUser.uid).get().then(function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data()&&(console.log("current user: "+t.data().username),a.setState({CurrentUser:t.data().username})),O.collection("topicSubscription").doc(a.state.CurrentUser).onSnapshot(function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.exists){e.next=4;break}return e.delegateYield(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("current sub list: ",t.data().subList),a.setState({subs:t.data().subList}),r=[],0===a.state.subs.length){e.next=11;break}n=0;case 5:if(!(n<a.state.subs.length)){e.next=11;break}return e.next=8,x.collection(a.state.subs[n]).get().then((function(e){e.forEach((function(e){if(e.exists){var t=e.data();r.push({title:t.Title,link:t.Link,description:t.Description})}else console.log("Cannot find anything in database.")}))})).catch((function(e){console.log("Error getting document:",e)}));case 8:n++,e.next=5;break;case 11:a.setState({articles:r});case 12:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:O.collection("topicSubscription").doc(a.state.CurrentUser).set({subList:[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Error getting document:",e)}));case 3:case"end":return e.stop()}}),e)})))),a}return Object(c.a)(n,[{key:"toggleWeatherModal",value:function(){this.setState({isWeatherModalOpen:!this.state.isWeatherModalOpen})}},{key:"clear",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.clear();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addSubscription",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=3;break}return e.next=3,O.collection("topicSubscription").doc(this.state.CurrentUser).update({subList:y.firestore.FieldValue.arrayUnion(t)});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeSubscription",value:function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.state.subs[t]){e.next=3;break}return e.next=3,O.collection("topicSubscription").doc(this.state.CurrentUser).update({subList:y.firestore.FieldValue.arrayRemove(this.state.subs[t])});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchTopic",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({articlesSearched:[]}),null!==t&&void 0!==t&&""!==t){e.next=5;break}console.log("Enter a valid topic"),e.next=8;break;case 5:return n=[],e.next=8,x.collection(t.toLowerCase()).get().then(function(){var e=Object(b.a)(h.a.mark((function e(r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.empty){e.next=5;break}return e.next=3,a.apiSearch(t,"search");case 3:e.next=8;break;case 5:console.log("collection exist, will pull data from that collection"),n=[],r.docChanges().forEach((function(e){if(e.doc.exists){var t=e.doc.data();n.push({title:t.Title,link:t.Link,description:t.Description})}a.setState({articlesSearched:n})}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&void 0!==t&&""!==t){e.next=4;break}console.log("Enter a valid topic"),e.next=6;break;case 4:return e.next=6,x.collection(t.toLowerCase()).get().then(function(){var e=Object(b.a)(h.a.mark((function e(a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.empty){e.next=5;break}return e.next=3,n.apiSearch(t,"subscribe");case 3:e.next=8;break;case 5:return console.log("News about "+t+" has been found and will be subscribed."),e.next=8,n.addSubscription(t.toLowerCase());case 8:r=a.metadata.fromCache?"local cache":"server",console.log("Data came from "+r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(e,t){console.log("News about "+e+" has been found and will be unsubscribed."),this.removeSubscription(t)}},{key:"apiSearch",value:function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r,s,o=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=t.replace(/\ /g,"%2520"),s="https%3A%2F%2Fnews.google.com%2Frss%2Fsearch%3Fq%3D"+r+"%26hl%3Den-US%26gl%3DUS%26ceid%3DUS%3Aen&api_key=ygho9vm848pakf5b24oawteww7slkcj2ccgiu13w",e.next=5,C()({method:"GET",url:"https://api.rss2json.com/v1/api.json?rss_url="+s}).then(function(){var e=Object(b.a)(h.a.mark((function e(r){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.data,e.next=3,s.items.forEach((function(e){var t=e.description,n=document.createElement("a");n.innerHTML=t;var r=n.textContent||n.innerText||"";a.push({title:e.title,link:e.link,description:r})}));case 3:if("search"!==n){e.next=7;break}o.setState({articlesSearched:a}),e.next=10;break;case 7:return a.forEach(function(){var e=Object(b.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collection(t.toLowerCase()).doc(n.title).set({Title:n.title,Link:n.link,Description:n.description});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10,o.addSubscription(t.toLowerCase());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMainCollection",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,a,r=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,M.get({key:"allArticles"});case 3:a=e.sent,void 0===(null===(t=a.value)||void 0===t?void 0:t.length)||0===JSON.parse(a.value).length?x.collection("all").where("Title","!="," ").onSnapshot(function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.docChanges().forEach((function(e){n.push(e.doc.data())})),r.setState({allArticles:n}),a=t.metadata.fromCache?"local cache":"server",console.log("Data came from "+a),e.next=6,M.set({key:"allArticles",value:JSON.stringify(n)});case 6:console.log("Storing in local storage");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(this.setState({allArticles:JSON.parse(a.value)}),console.log("already in local storage"));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setMainCollection();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=[],n=0;n<this.state.subs.length;n+=1)t.push(r.a.createElement(this.ChildComponent,{key:n,subscription:this.state.subs[n],index:n}));return r.a.createElement(m.v,null,r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.D,null,"Feed"),r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{onClick:function(){e.setState({isWeatherModalOpen:!0})},fill:"clear"},r.a.createElement(m.m,{icon:j.p}))),r.a.createElement(m.d,{slot:"end"},r.a.createElement(m.c,{onClick:function(){e.setState({showSubscription:!0})},fill:"clear"},r.a.createElement(m.m,{icon:j.f}))),r.a.createElement(m.d,{slot:"end"},r.a.createElement(m.c,{onClick:function(){e.setState({showModal:!0})},fill:"clear"},r.a.createElement(m.m,{icon:j.D}))))),r.a.createElement(m.k,null,r.a.createElement(U,{toggleWeatherModal:this.toggleWeatherModal,isOpen:this.state.isWeatherModalOpen}),r.a.createElement(m.u,{isOpen:this.state.showModal},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{onClick:function(){e.setState({showModal:!1})},fill:"clear"},r.a.createElement(m.m,{id:"addFriendModalCloseIcon",icon:j.n}))),r.a.createElement(m.D,null,"Search Topics"))),r.a.createElement(m.k,null,r.a.createElement(m.z,{placeholder:"Topic",onIonInput:function(t){return e.setState({topicSearched:t.target.value})},animated:!0}),r.a.createElement(m.c,{expand:"block",fill:"outline",color:"secondary",type:"submit",onClick:function(){return e.clear()&&e.setState({showLoading:!0})}},"search"),r.a.createElement(m.t,{isOpen:this.state.showLoading,onDidDismiss:function(){return e.searchTopic(e.state.topicSearched)&&e.setState({showLoading:!1})},message:"Getting data from database",duration:150}),r.a.createElement(m.c,{expand:"block",fill:"outline",color:"secondary",type:"submit",onClick:function(){return e.subscribe(e.state.topicSearched)}},"subscribe"),r.a.createElement(m.o,null,r.a.createElement(m.q,null,"Location based search"),r.a.createElement(m.j,{onIonChange:function(t){return e.setState({locationBased:t.detail.checked})}})),r.a.createElement(F,{theArticleList:this.state.articlesSearched}))),r.a.createElement(m.u,{isOpen:this.state.showSubscription},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{onClick:function(){e.setState({showSubscription:!1})},fill:"clear"},r.a.createElement(m.m,{id:"addFriendModalCloseIcon",icon:j.n}))),r.a.createElement(m.D,null,"Subscriptions"))),r.a.createElement(m.k,null,r.a.createElement(m.e,null,r.a.createElement(this.ParentComponent,null,t)))),r.a.createElement(m.r,null,r.a.createElement(m.s,null,"Recent News"),r.a.createElement(F,{theArticleList:this.state.articles}))))}}]),n}(r.a.Component),N=n(21),L=n(49),R=(n(117),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(A.a)(this,n),(a=t.call(this,e)).state={articles:[],groupViewPopoverEvent:void 0,isGroupViewPopoverOpen:!1,isSettingsModalOpen:!1,isMembersModalOpen:!1,isFriendsListModalOpen:!1,isNicknameReadOnly:!0,tempNickname:a.props.groupDetails.nickname},a.pullImage(),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"pullImage",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.currentUser&&(y.storage(),t=y.storage().ref(),n="groupImages/"+this.props.groupDetails.id+".jpg",t.child(n).getDownloadURL().then((function(e){var t=document.getElementById("groupImage");null!=t&&t.setAttribute("src",e)})).catch((function(e){switch(e.code){case"storage/object-not-found":y.storage().ref().child("placeholder.png").getDownloadURL().then((function(e){var t=document.getElementById("groupImg");null!=t&&t.setAttribute("src",e)}))}})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadImage",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t[0]){e.next=13;break}return n=y.storage().ref(),a=t[0],r=this.props.groupDetails.id,(s=n.child("groupImages/"+r+".jpg")).put(a),e.next=8,new Promise((function(e){return setTimeout(e,1e3)}));case 8:return e.next=10,s.getDownloadURL();case 10:o=e.sent,O.collection("groups").doc(this.props.groupDetails.id).update({profilePicture:o}),this.pullImage();case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(m.u,{swipeToClose:!1,isOpen:this.state.isMembersModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{fill:"clear",onClick:function(){e.setState({isMembersModalOpen:!1})}},r.a.createElement(m.m,{className:"groupViewIcon",icon:j.j}))),r.a.createElement(m.D,null,"Members"))),r.a.createElement(m.k,null,r.a.createElement(m.s,null,"Owner"),r.a.createElement(m.r,null,r.a.createElement(m.o,null,r.a.createElement(m.D,null,this.props.groupDetails.owner))),r.a.createElement(m.s,null,"Members (",this.props.groupDetails.members.length-1,") "),r.a.createElement(m.r,null,this.props.groupDetails.members.map((function(t){return t!==e.props.groupDetails.owner?r.a.createElement(m.o,null,r.a.createElement(m.D,null,t)):void 0}))))),r.a.createElement(m.u,{swipeToClose:!1,isOpen:this.state.isSettingsModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{fill:"clear",onClick:function(){e.setState({isSettingsModalOpen:!1})}},r.a.createElement(m.m,{className:"groupViewIcon",icon:j.j}))),r.a.createElement(m.D,null,"Group Settings"))),r.a.createElement(m.k,null,this.props.groupDetails.owner===this.props.currentUser?r.a.createElement("div",null,r.a.createElement(m.o,null,"Change Profile Picture",r.a.createElement(m.d,{slot:"end"},r.a.createElement(m.c,{id:"submit"},r.a.createElement("input",{type:"file",id:"fileSelect",onChange:function(t){return e.uploadImage(t.target.files)}}),r.a.createElement(m.m,{id:"cloudUploadOutline",icon:j.q})))),r.a.createElement(m.o,null,r.a.createElement(m.n,{onIonChange:function(t){e.setState({tempNickname:t.target.value})},placeholder:this.props.groupDetails.nickname,readonly:this.state.isNicknameReadOnly,value:this.state.tempNickname}),r.a.createElement(m.c,{onClick:function(){e.setState({isNicknameReadOnly:!e.state.isNicknameReadOnly}),O.collection("groups").doc(e.props.groupDetails.id).update({nickname:e.state.tempNickname})},slot:"end",fill:"clear"},r.a.createElement(m.m,{icon:this.state.isNicknameReadOnly?j.x:j.h}))),r.a.createElement(m.o,{onClick:function(){e.setState({isSettingsModalOpen:!1}),e.props.deleteGroup()}},"Delete Group")):void 0)),r.a.createElement(m.u,{swipeToClose:!1,isOpen:this.state.isFriendsListModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{fill:"clear",onClick:function(){e.setState({isFriendsListModalOpen:!1})}},r.a.createElement(m.m,{className:"groupViewIcon",icon:j.j}))),r.a.createElement(m.D,null,"Add Member"))),r.a.createElement(m.k,null,r.a.createElement(m.s,null,"Friends (",this.props.friendList.length,")"),r.a.createElement(m.r,null,this.props.friendList.map((function(t){return r.a.createElement(m.o,null,r.a.createElement(m.q,null,t),r.a.createElement(m.c,{onClick:function(){e.props.addFriendToGroup(t,e.props.groupDetails.id)},fill:"clear"},r.a.createElement(m.m,{slot:"end",icon:e.props.groupDetails.members.includes(t)?j.h:j.b})))}))))),r.a.createElement(m.w,{cssClass:"groupViewPopover",event:this.state.groupViewPopoverEvent,isOpen:this.state.isGroupViewPopoverOpen,onDidDismiss:function(){e.setState({isGroupViewPopoverOpen:!1,groupViewPopoverEvent:void 0})}},r.a.createElement(m.k,null,r.a.createElement(m.r,null,r.a.createElement(m.s,{id:"groupViewPopoverListHeader"},r.a.createElement("b",null,"Group Options")),r.a.createElement(m.o,{button:!0,onClick:function(){e.setState({isGroupViewPopoverOpen:!1,isMembersModalOpen:!0})}},r.a.createElement(m.q,null,"Members"),r.a.createElement(m.m,{className:"groupViewPopoverIcon",slot:"end",icon:j.y})),r.a.createElement(m.o,{button:!0,onClick:function(){e.setState({isGroupViewPopoverOpen:!1,isFriendsListModalOpen:!0})}},r.a.createElement(m.q,null,"Add Member"),r.a.createElement(m.m,{className:"groupViewPopoverIcon",slot:"end",icon:j.b})),r.a.createElement(m.o,{button:!0,onClick:function(){e.setState({isGroupViewPopoverOpen:!1,isSettingsModalOpen:!0})}},r.a.createElement(m.q,null,"Settings"),r.a.createElement(m.m,{className:"groupViewPopoverIcon",slot:"end",icon:j.I})),r.a.createElement(m.o,{onClick:function(){e.setState({isGroupViewPopoverOpen:!1}),e.props.leaveGroup()},button:!0},r.a.createElement(m.q,{id:"leaveGroup"},"Leave Group"),r.a.createElement(m.m,{id:"groupViewPopoverLeave",slot:"end",icon:j.r}))))),r.a.createElement(m.u,{swipeToClose:!0,isOpen:this.props.isGroupModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{fill:"clear",onClick:function(){e.props.toggleGroupModal()}},r.a.createElement(m.m,{className:"groupViewIcon",icon:j.n}))),r.a.createElement(m.d,{slot:"end"},r.a.createElement(m.b,{onClick:function(t){t.persist(),e.setState({isGroupViewPopoverOpen:!0,groupViewPopoverEvent:t})},className:"groupViewProfilePicture"},r.a.createElement("img",{src:this.props.groupDetails.profilePicture}))),r.a.createElement(m.D,null,this.props.groupDetails?this.props.groupDetails.nickname:void 0)))))}}]),n}(r.a.Component)),B=n(76),q=n.n(B),G=(n(118),n(119),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(A.a)(this,n),(a=t.call(this,e)).state={messages:void 0,newUpdate:"",submitPressed:"#ff99aa"},a.realtime_db=y.database(),a.messageReference=a.realtime_db.ref(a.props.messageRef),a.messageContainer=void 0,a.loadMessages=function(){var e=a.state.messages;return a.messageContainer.current&&a.messageContainer.current.scrollIntoView(!0),r.a.createElement("div",{className:"messageFeed"},e&&Object.keys(e).map((function(t){return r.a.createElement(m.o,{class:"message",key:t},r.a.createElement(m.q,{class:"ion-text-wrap",position:"stacked"},e[t].sender),r.a.createElement(m.q,{class:"ion-text-wrap"},e[t].message))})),r.a.createElement("div",{style:{height:"20px"},ref:a.messageContainer}))},a.messageContainer=r.a.createRef(),a.postToFeed=a.postToFeed.bind(Object(E.a)(a)),a}return Object(c.a)(n,[{key:"componentWillMount",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.messageReference.on("value",(function(e){t.setState({messages:e.val()}),console.log(e)})),k.currentUser||this.props.history.push("/home");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"postToFeed",value:function(){""!=this.state.newUpdate&&(this.messageReference.push({message:this.state.newUpdate,sender:this.props.username}),this.setState({newUpdate:""}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,null,r.a.createElement(m.c,{onClick:function(){e.props.toggleMessengerModal()},id:"closeMessengerModal",fill:"clear"},r.a.createElement(m.m,{id:"closeMessengerModalIcon",icon:j.n}))),r.a.createElement(m.D,null,"Messenger"))),r.a.createElement(m.k,{className:"messengerContent"},r.a.createElement("div",{className:"messageWrapper"},this.loadMessages()),r.a.createElement(m.o,{lines:"none",className:"feedChatbox"},r.a.createElement(m.n,{value:this.state.newUpdate,onIonChange:function(t){return e.setState({newUpdate:t.target.value})}}),r.a.createElement(m.m,{onTouchEnd:function(){e.setState({submitPressed:"#ff99aa"})},onTouchStart:function(){e.setState({submitPressed:"#7f7880"})},style:{color:this.state.submitPressed},onClick:function(){e.postToFeed()},icon:j.G}))))}}]),n}(r.a.Component)),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(A.a)(this,n),(a=t.call(this,e)).realtime_db=y.database(),a.state={isAddFriendModalOpen:!1,ourUsername:"",targetUsername:"",friendsList:[],blockedUsers:[],isPendingRequestsModalOpen:!1,isMessengerModalOpen:!1,incomingRequests:[],outgoingRequests:[],messageRef:"",isSocialPopoverOpen:!1,socialPopoverEvent:void 0,isCreateGroupModalOpen:!1,groupNickname:"",groupArray:[],numGroups:0,unsubscribeGroupArray:[],groupDetails:{nickname:"",members:[],id:"",profilePicture:"",owner:""},isGroupModalOpen:!1,unsubscribeFriendsList:function(){},unsubscribeBlockedUsers:null,unsubscribeIncomingRequests:function(){},unsubscribeOutgoingRequests:function(){}},a.unsubscribeGroups=void 0,a.addFriend=a.addFriend.bind(Object(E.a)(a)),a.acceptFriend=a.acceptFriend.bind(Object(E.a)(a)),a.declineFriend=a.declineFriend.bind(Object(E.a)(a)),a.removeFriend=a.removeFriend.bind(Object(E.a)(a)),a.blockUser=a.blockUser.bind(Object(E.a)(a)),a.cancelOutgingRequest=a.cancelOutgingRequest.bind(Object(E.a)(a)),a.toggleMessengerModal=a.toggleMessengerModal.bind(Object(E.a)(a)),a.generateUniqueGroupId=a.generateUniqueGroupId.bind(Object(E.a)(a)),a.createGroup=a.createGroup.bind(Object(E.a)(a)),a.toggleGroupModal=a.toggleGroupModal.bind(Object(E.a)(a)),a.deleteGroup=a.deleteGroup.bind(Object(E.a)(a)),a.leaveGroup=a.leaveGroup.bind(Object(E.a)(a)),k.onAuthStateChanged((function(){k.currentUser&&O.collection("users").doc(k.currentUser.uid).get().then((function(e){if(e.data()){console.log("social debug username: "+e.data().username),a.setState({ourUsername:e.data().username});var t=O.collection("friends").doc(a.state.ourUsername).onSnapshot((function(e){e.data()&&a.setState({friendsList:e.data().friendsList})}));a.state.unsubscribeBlockedUsers=O.collection("blockedUsers").doc(a.state.ourUsername).onSnapshot((function(e){e.exists&&void 0!==e.data().blocked?a.setState({blockedUsers:e.data().blocked}):(O.collection("blockedUsers").doc(a.state.ourUsername).set({blocked:[]}),a.setState({blockedUsers:[]}))}));var n=O.collection("incomingFriendRequests").doc(a.state.ourUsername).onSnapshot((function(e){e.data()&&a.setState({incomingRequests:e.data().incomingFriendRequests})})),r=O.collection("outgoingFriendRequests").doc(a.state.ourUsername).onSnapshot((function(e){e.data()&&a.setState({outgoingRequests:e.data().outgoingFriendRequests})}));a.unsubscribeGroups=O.collection("usernames").doc(a.state.ourUsername).onSnapshot((function(e){if(e.data()){a.setState({numGroups:e.data().groups.length,groupArray:[]});for(var t=[],n=function(n){var r=O.collection("groups").doc(e.data().groups[n]).onSnapshot((function(e){var t=Object(L.a)(a.state.groupArray);if(e.data()){var r={nickname:e.data().nickname,members:e.data().members,id:e.data().id,profilePicture:e.data().profilePicture,owner:e.data().owner};t[n]=r,a.setState({groupArray:t}),a.state.groupDetails.id===r.id&&a.setState({groupDetails:r}),console.log(r)}}));t.push(r)},r=0;r<a.state.numGroups;r++)n(r);a.setState({unsubscribeGroupArray:t})}})),a.setState({unsubscribeFriendsList:t,unsubscribeIncomingRequests:n,unsubscribeOutgoingRequests:r})}}))})),a}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){this.state.unsubscribeFriendsList(),this.state.unsubscribeIncomingRequests(),this.state.unsubscribeOutgoingRequests();for(var e=0;e<this.state.unsubscribeGroupArray.length;e++)this.state.unsubscribeGroupArray[e]()}},{key:"subscribeGroups",value:function(){}},{key:"addFriend",value:function(e){var t=this;""!==e&&e!==this.state.ourUsername&&O.collection("usernames").doc(e).get().then((function(n){n.exists&&(O.collection("incomingFriendRequests").doc(e).update({incomingFriendRequests:y.firestore.FieldValue.arrayUnion(t.state.ourUsername)}),O.collection("outgoingFriendRequests").doc(t.state.ourUsername).update({outgoingFriendRequests:y.firestore.FieldValue.arrayUnion(e)}))}))}},{key:"cancelOutgingRequest",value:function(e){var t=this;""!==e&&e!==this.state.ourUsername&&O.collection("usernames").doc(e).get().then((function(n){n.exists&&(O.collection("incomingFriendRequests").doc(e).update({incomingFriendRequests:y.firestore.FieldValue.arrayRemove(t.state.ourUsername)}),O.collection("outgoingFriendRequests").doc(t.state.ourUsername).update({outgoingFriendRequests:y.firestore.FieldValue.arrayRemove(e)}))}))}},{key:"acceptFriend",value:function(e){if(""!=e){O.collection("outgoingFriendRequests").doc(e).update({outgoingFriendRequests:y.firestore.FieldValue.arrayRemove(this.state.ourUsername)}),O.collection("incomingFriendRequests").doc(this.state.ourUsername).update({incomingFriendRequests:y.firestore.FieldValue.arrayRemove(e)});var t=new Object;t[e]=btoa(this.state.ourUsername+"|"+e),O.collection("friends").doc(this.state.ourUsername).update(t);var n=new Object;n[this.state.ourUsername]=btoa(this.state.ourUsername+"|"+e),O.collection("friends").doc(e).update(n),O.collection("friends").doc(this.state.ourUsername).update({friendsList:y.firestore.FieldValue.arrayUnion(e)}),O.collection("friends").doc(e).update({friendsList:y.firestore.FieldValue.arrayUnion(this.state.ourUsername)}),this.realtime_db.ref("/"+btoa(this.state.ourUsername+"|"+e)).push({message:"This is the beginning of your message history.",sender:"World-Watchlist"})}}},{key:"declineFriend",value:function(e){""!=e&&(O.collection("outgoingFriendRequests").doc(e).update({outgoingFriendRequests:y.firestore.FieldValue.arrayRemove(this.state.ourUsername)}),O.collection("incomingFriendRequests").doc(this.state.ourUsername).update({incomingFriendRequests:y.firestore.FieldValue.arrayRemove(e)}))}},{key:"removeFriend",value:function(e){if(console.log("Removing friend "+e),""!==e&&this.state.friendsList.includes(e)){var t=O.collection("friends");t.doc(this.state.ourUsername).update({friendsList:y.firestore.FieldValue.arrayRemove(e)}),t.doc(e).update({friendsList:y.firestore.FieldValue.arrayRemove(this.state.ourUsername)}),t.doc(this.state.ourUsername).update(Object(N.a)({},e,y.firestore.FieldValue.delete())),t.doc(e).update(Object(N.a)({},this.state.ourUsername,y.firestore.FieldValue.delete())),console.log("Successfully removed friend")}}},{key:"blockUser",value:function(e){if(""!==e){if(void 0===O.collection("usernames").doc(e))return;console.log("User exists, attempting to block"),O.collection("blockedUsers").doc(this.state.ourUsername).update({blocked:y.firestore.FieldValue.arrayUnion(e)}),console.log("User should be added to blocked list")}}},{key:"isFriend",value:function(e){return""!==e&&this.state.friendsList.includes(e)}},{key:"exists",value:function(e){return""!==e}},{key:"loadMessages",value:function(e){var t=this;O.collection("friends").doc(this.state.ourUsername).get().then((function(n){n.data()&&(t.setState({messageRef:n.get(e)}),t.setState({isMessengerModalOpen:!0}))}))}},{key:"toggleMessengerModal",value:function(){this.setState({isMessengerModalOpen:!this.state.isMessengerModalOpen})}},{key:"generateUniqueGroupId",value:function(){var e=Object(b.a)(h.a.mark((function e(){var t,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e,t){var a=Math.random().toString(36);O.collection("groudIds").doc(a).get().then((function(t){t.exists?n.generateUniqueGroupId():e(a)}))})),e.next=3,t;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createGroup",value:function(){var e=this;this.generateUniqueGroupId().then((function(t){O.collection("groups").doc(t).set({owner:e.state.ourUsername,members:[e.state.ourUsername],nickname:e.state.groupNickname,id:t,profilePicture:""}),O.collection("usernames").doc(e.state.ourUsername).update({groups:y.firestore.FieldValue.arrayUnion(t)})}))}},{key:"leaveGroup",value:function(){this.state.ourUsername!==this.state.groupDetails.owner?O.collection("groups").doc(this.state.groupDetails.id).update({members:y.firestore.FieldValue.arrayRemove(this.state.ourUsername)}):1===this.state.groupDetails.members.length?this.deleteGroup():this.state.groupDetails.members[0]!==this.state.ourUsername?O.collection("groups").doc(this.state.groupDetails.id).update({owner:this.state.groupDetails.members[0],members:y.firestore.FieldValue.arrayRemove(this.state.ourUsername)}):O.collection("groups").doc(this.state.groupDetails.id).update({owner:this.state.groupDetails.members[1],members:y.firestore.FieldValue.arrayRemove(this.state.ourUsername)}),O.collection("usernames").doc(this.state.ourUsername).update({groups:y.firestore.FieldValue.arrayRemove(this.state.groupDetails.id)}),this.setState({isGroupModalOpen:!1})}},{key:"deleteGroup",value:function(){var e=this;this.state.ourUsername===this.state.groupDetails.owner?(this.state.groupDetails.members.forEach((function(t){O.collection("usernames").doc(t).update({groups:y.firestore.FieldValue.arrayRemove(e.state.groupDetails.id)}),O.collection("groups").doc(e.state.groupDetails.id).delete()})),this.setState({isGroupModalOpen:!1})):console.log("User should not be able to use this function")}},{key:"addFriendToGroup",value:function(e,t){O.collection("usernames").doc(e).update({groups:y.firestore.FieldValue.arrayUnion(t)}),O.collection("groups").doc(t).update({members:y.firestore.FieldValue.arrayUnion(e)})}},{key:"toggleGroupModal",value:function(){this.setState({isGroupModalOpen:!this.state.isGroupModalOpen})}},{key:"render",value:function(){var e=this;return r.a.createElement(m.v,null,r.a.createElement(m.u,{isOpen:this.state.isAddFriendModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{onClick:function(){e.setState({isAddFriendModalOpen:!1})},id:"addFriendModalCloseButton",fill:"clear"},r.a.createElement(m.m,{id:"addFriendModalCloseIcon",icon:j.n}))),r.a.createElement(m.D,null,"Add Friend"))),r.a.createElement(m.k,null,r.a.createElement(m.o,{lines:"none",id:"searchFriendItem"},r.a.createElement(m.n,{id:"addFriendSearch",onIonChange:function(t){e.setState({targetUsername:t.target.value})}}),r.a.createElement(m.c,{onClick:function(){e.addFriend(e.state.targetUsername)},slot:"end",id:"addFriendButton",fill:"clear"},r.a.createElement(m.m,{id:"addFriendButtonIcon",icon:j.a}))))),r.a.createElement(m.u,{isOpen:this.state.isPendingRequestsModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{onClick:function(){e.setState({isPendingRequestsModalOpen:!1})},id:"addFriendModalCloseButton",fill:"clear"},r.a.createElement(m.m,{id:"addFriendModalCloseIcon",icon:j.n}))),r.a.createElement(m.D,null,"Pending Requests"))),r.a.createElement(m.k,null,r.a.createElement("h2",{id:"incomingFriendRequestHeader"},"Incoming Friend Requests"),this.state.incomingRequests.map((function(t){return r.a.createElement(m.o,{key:t.toString()},r.a.createElement(m.q,null,t.toString()),r.a.createElement(m.c,{onClick:function(){e.acceptFriend(t.toString())},className:"acceptButton",slot:"end",fill:"clear"},r.a.createElement(m.m,{className:"addIcon",icon:j.a})),r.a.createElement(m.c,{onClick:function(){e.declineFriend(t.toString())},className:"denyButton",slot:"end",fill:"clear"},r.a.createElement(m.m,{className:"denyIcon",icon:j.n})))})),r.a.createElement("h2",{id:"outgoingFriendRequestHeader"},"Outgoing Friend Requests"),this.state.outgoingRequests.map((function(t){return r.a.createElement(m.o,{key:t.toString()},r.a.createElement(m.q,null,t.toString()),r.a.createElement(m.c,{onClick:function(){e.cancelOutgingRequest(t.toString())},className:"denyButton",slot:"end",fill:"clear"},r.a.createElement(m.m,{className:"denyIcon",icon:j.n})))})))),r.a.createElement(m.u,{isOpen:this.state.isMessengerModalOpen},r.a.createElement(G,Object.assign({},this.props,{messageRef:this.state.messageRef,toggleMessengerModal:this.toggleMessengerModal,username:this.state.ourUsername}))),r.a.createElement(m.w,{cssClass:"socialPopover",event:this.state.socialPopoverEvent,isOpen:this.state.isSocialPopoverOpen,onDidDismiss:function(){e.setState({isSocialPopoverOpen:!1,socialPopoverEvent:void 0})}},r.a.createElement(m.k,null,r.a.createElement(m.r,null,r.a.createElement(m.s,{id:"socialPopoverListHeader"},r.a.createElement("b",null,"Social Options")),r.a.createElement(m.o,{button:!0,onClick:function(){e.setState({isSocialPopoverOpen:!1,isAddFriendModalOpen:!0})}},r.a.createElement(m.q,null,"Add Friend"),r.a.createElement(m.m,{className:"socialPopoverIcon",slot:"end",icon:j.z})),r.a.createElement(m.o,{button:!0,onClick:function(){e.setState({isSocialPopoverOpen:!1,isCreateGroupModalOpen:!0})}},r.a.createElement(m.q,null,"Create Group"),r.a.createElement(m.m,{className:"socialPopoverIcon",slot:"end",icon:j.a})),r.a.createElement(m.o,{button:!0},r.a.createElement(m.q,null,"New Message"),r.a.createElement(m.m,{className:"socialPopoverIcon",slot:"end",icon:j.H}))))),r.a.createElement(m.u,{isOpen:this.state.isCreateGroupModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{onClick:function(){e.setState({isCreateGroupModalOpen:!1})},fill:"clear"},r.a.createElement(m.m,{id:"closeCreateGroupModalIcon",icon:j.n}))),r.a.createElement(m.D,null,"Create Group"))),r.a.createElement(m.k,null,r.a.createElement(m.n,{className:"createGroupInput",placeholder:"Group Nickname",onIonChange:function(t){e.setState({groupNickname:t.target.value})}}),r.a.createElement(m.c,{onClick:function(){e.createGroup(),e.setState({isCreateGroupModalOpen:!1})},id:"createGroupButton"},"Create"))),r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.D,null,"Social"),r.a.createElement(m.d,{slot:"start"},r.a.createElement(m.c,{onClick:function(){e.setState({isPendingRequestsModalOpen:!0})},fill:"clear"},r.a.createElement(m.m,{icon:j.s}))),r.a.createElement(m.d,{slot:"end"},r.a.createElement(m.c,{onClick:function(t){t.persist(),e.setState({isSocialPopoverOpen:!0,socialPopoverEvent:t})},fill:"clear"},r.a.createElement(m.m,{icon:j.b}))))),r.a.createElement(m.k,null,this.state.friendsList.map((function(t){return r.a.createElement(m.p,null,r.a.createElement(m.o,{button:!0,slot:"start",onClick:function(){e.loadMessages(t.toString())},key:t.toString()},r.a.createElement(m.q,null,t.toString())),r.a.createElement(m.o,{button:!0,slot:"end",onClick:function(){e.removeFriend(t)}},"Remove Friend"),r.a.createElement(m.c,{onClick:function(){e.blockUser(t)}},"Block Friend"))})),r.a.createElement(R,Object.assign({isGroupModalOpen:this.state.isGroupModalOpen,groupDetails:this.state.groupDetails},this.props,{toggleGroupModal:this.toggleGroupModal,leaveGroup:this.leaveGroup,deleteGroup:this.deleteGroup,currentUser:this.state.ourUsername,friendList:this.state.friendsList,addFriendToGroup:this.addFriendToGroup})),this.state.groupArray.map((function(t){return r.a.createElement(m.o,{onClick:function(){e.setState({groupDetails:t,isGroupModalOpen:!0})},lines:"none",button:!0,className:"socialGroupItem",key:t.id},r.a.createElement(m.b,{slot:"start",className:"socialGroupAvatar"},r.a.createElement("img",{src:t.profilePicture?t.profilePicture:q.a})),r.a.createElement(m.q,{className:"socialGroupLabel"},t.nickname))}))))}}]),n}(r.a.Component),V=(n(120),f.b.PushNotifications),z=f.a.isPluginAvailable("PushNotifications"),H=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(A.a)(this,n),(a=t.call(this,e)).state={isBlockSourceModalOpen:!1,isChangePasswordModalOpen:!1,isChangeUsernameModalOpen:!1,blockedSources:[],currentUserName:"",sourceToBlock:"",sourceToUnBlock:"",localList:[],newPassword:"",newUsername:"",notifications:[{id:"id",title:"Test Push",body:"This is my first push notification"}]},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a.blockSource=a.blockSource.bind(Object(E.a)(a)),k.currentUser&&O.collection("users").doc(k.currentUser.uid).get().then((function(e){if(e.data()){a.setState({currentUserName:e.data().username});O.collection("usernames").doc(a.state.currentUserName).onSnapshot((function(e){e.data()&&a.setState({blockedSources:e.data().blockedSources})}))}})),a.pullImage(),a}return Object(c.a)(n,[{key:"push",value:function(){var e=this;console.log("here"),V.register(),V.addListener("registration",(function(e){alert("Push registration success, token: "+e.value)})),V.addListener("registrationError",(function(e){alert("Error on registration: "+JSON.stringify(e))})),V.addListener("pushNotificationReceived",(function(t){var n=e.state.notifications;n.push({id:t.id,title:t.title,body:t.body}),e.setState({notifications:n})})),V.addListener("pushNotificationActionPerformed",(function(t){var n=e.state.notifications;n.push({id:t.notification.data.id,title:t.notification.data.title,body:t.notification.data.body}),e.setState({notifications:n})}))}},{key:"handleChange",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=11;break}return console.log(t),y.storage(),n=y.storage().ref(),a=t[0],r=y.auth().currentUser.uid,n.child("profileImages/"+r+".jpg").put(a),e.next=10,new Promise((function(e){return setTimeout(e,1e3)}));case 10:this.pullImage();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"blockSource",value:function(e){var t=this;""!=e&&e.length>3&&(this.state.localList.includes(e)||this.state.localList.push(e),this.addToList(e),this.state.blockedSources.push(e),console.log(this.state.blockedSources),O.collection("usernames").doc(this.state.currentUserName).get().then((function(n){n.exists&&t.isValidSite(e)&&O.collection("usernames").doc(t.state.currentUserName).update({blockedSources:y.firestore.FieldValue.arrayUnion(e)})})))}},{key:"unBlockSource",value:function(e){var t=this;""!=e&&O.collection("usernames").doc(this.state.currentUserName).get().then((function(n){n.exists&&O.collection("usernames").doc(t.state.currentUserName).update({blockedSources:y.firestore.FieldValue.arrayRemove(e)})}))}},{key:"populate",value:function(){for(var e=this.state.blockedSources,t=e.length-1;t>=0;t--)this.addToList(e[t])}},{key:"isEmailAddress",value:function(e){return""!==e&&e.includes("@")}},{key:"changeEmail",value:function(e){k.currentUser&&this.isEmailAddress(e)&&k.currentUser.updateEmail(e).then((function(){})).catch((function(e){}))}},{key:"signOutUser",value:function(){k.currentUser&&k.signOut()}},{key:"changePassword",value:function(e){k.currentUser&&k.currentUser.updatePassword(e).then((function(){})).catch((function(e){}))}},{key:"changeUsername",value:function(e){var t=this;void 0!=this.state.currentUserName&&e.length>3&&O.collection("usernames").doc(this.state.currentUserName).get().then((function(n){n.exists&&O.collection("usernames").doc(t.state.currentUserName).update({"username.firebase":e})}))}},{key:"handleSubmit",value:function(){}},{key:"pullImage",value:function(){if(k.currentUser){y.storage();var e=y.storage().ref(),t="profileImages/"+y.auth().currentUser.uid+".jpg";e.child(t).getDownloadURL().then((function(e){var t=document.getElementById("myimg");null!=t&&t.setAttribute("src",e)})).catch((function(e){switch(e.code){case"storage/object-not-found":y.storage().ref().child("placeholder.png").getDownloadURL().then((function(e){var t=document.getElementById("myimg");null!=t&&t.setAttribute("src",e)}))}}))}}},{key:"uploadImage",value:function(){r.a.createRef(),y.storage(),y.storage().ref().child("images/new.jpg");var e=document.getElementById("image");null!=e&&e.addEventListener("change",(function(e){e.target}))}},{key:"addToList",value:function(e){if(!this.state.localList.includes(e)){var t=document.getElementById("blockedList"),n=document.createElement("li");n.setAttribute("id",e),n.appendChild(document.createTextNode(e)),null!=t&&t.appendChild(n),console.log(t)}}},{key:"isValidSite",value:function(e){if(""!=e&&e.length>4&&"."==e.substring(e.length-4,e.length-3)){var t=e.substring(e.length-3);if("com"==t||"org"==t||"net"==t)return!0}return!1}},{key:"render",value:function(){var e=this;this.state.notifications;return r.a.createElement(m.v,null,r.a.createElement(m.u,{isOpen:this.state.isBlockSourceModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,null,r.a.createElement(m.c,{onClick:function(){e.populate(),e.setState({isBlockSourceModalOpen:!1})},id:"toBlock",fill:"clear"},r.a.createElement(m.m,{id:"closeBlockIcon",icon:j.c}))),r.a.createElement(m.D,null,"Block a Source"))),r.a.createElement(m.k,null,r.a.createElement(m.o,{lines:"none",id:"block"},r.a.createElement(m.n,{class:"addSource",onIonChange:function(t){e.setState({sourceToBlock:t.target.value})}}),r.a.createElement(m.c,{onClick:function(){e.blockSource(e.state.sourceToBlock)},fill:"clear"},r.a.createElement(m.m,{id:"addBlockIcon",icon:j.a}))),r.a.createElement("br",null),r.a.createElement(m.D,{id:"unblockText"},"Unblock a Source"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(m.o,{lines:"none",id:"block"},r.a.createElement(m.n,{class:"addSource",onIonChange:function(t){e.setState({sourceToUnBlock:t.target.value})}}),r.a.createElement(m.c,{onClick:function(){e.unBlockSource(e.state.sourceToUnBlock)},fill:"clear"},r.a.createElement(m.m,{id:"addBlockIcon",icon:j.a}))),r.a.createElement("br",null),r.a.createElement(m.l,{id:"blockedSourcesHeader"},"You Won't See Content From:"),r.a.createElement("br",null),r.a.createElement("ul",{id:"blockedList"}),this.state.blockedSources.map((function(e){return r.a.createElement(m.o,{key:e.toString()},r.a.createElement(m.o,{class:"blockedListEntry"},e.toString()))})))),r.a.createElement(m.u,{isOpen:this.state.isChangePasswordModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,null,r.a.createElement(m.c,{onClick:function(){e.setState({isChangePasswordModalOpen:!1})},id:"toBlock",fill:"clear"},r.a.createElement(m.m,{id:"closeBlockIcon",icon:j.c}))),r.a.createElement(m.D,null,"Change Password"))),r.a.createElement(m.k,null,r.a.createElement(m.o,{lines:"none",id:"block"},r.a.createElement(m.n,{class:"addSource",onIonChange:function(t){e.setState({newPassword:t.target.value})}}),r.a.createElement(m.c,{onClick:function(){e.changePassword(e.state.newPassword)},fill:"clear"},r.a.createElement(m.m,{id:"addBlockIcon",icon:j.e}))))),r.a.createElement(m.u,{isOpen:this.state.isChangeUsernameModalOpen},r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.d,null,r.a.createElement(m.c,{onClick:function(){e.setState({isChangeUsernameModalOpen:!1})},id:"toBlock",fill:"clear"},r.a.createElement(m.m,{id:"closeBlockIcon",icon:j.c}))),r.a.createElement(m.D,null,"Change Username"))),r.a.createElement(m.k,null,r.a.createElement(m.o,{lines:"none",id:"block"},r.a.createElement(m.n,{class:"addSource",onIonChange:function(t){e.setState({newUsername:t.target.value})}}),r.a.createElement(m.c,{onClick:function(){e.changeUsername(e.state.newUsername)},fill:"clear"},r.a.createElement(m.m,{id:"addBlockIcon",icon:j.e}))))),r.a.createElement(m.l,null,r.a.createElement(m.F,null,r.a.createElement(m.D,null,"Settings"))),r.a.createElement(m.b,null,r.a.createElement("img",{id:"myimg"})),r.a.createElement(m.o,null,r.a.createElement(m.q,null,"Notifications"),r.a.createElement(m.E,{onClick:function(){console.log("here"),z&&e.push()},value:"Notifications"})),r.a.createElement(m.k,null,r.a.createElement(m.o,null,"Content Filter",r.a.createElement(m.d,{slot:"end"},r.a.createElement(m.c,{onClick:function(){e.setState({isBlockSourceModalOpen:!0})},fill:"clear"},r.a.createElement(m.m,{id:"contentFilterButton",icon:j.w})))),r.a.createElement(m.o,{id:"updateEmail"},"Change Password",r.a.createElement(m.d,{slot:"end"},r.a.createElement(m.c,{onClick:function(){e.setState({isChangePasswordModalOpen:!0})},fill:"clear"},r.a.createElement(m.m,{id:"emailChangeButton",icon:j.t})))),r.a.createElement(m.o,{id:"changeUsername"},"Change Username",r.a.createElement(m.d,{slot:"end"},r.a.createElement(m.c,{onClick:function(){e.setState({isChangeUsernameModalOpen:!0})},fill:"clear"},r.a.createElement(m.m,{id:"userNameChangeButton",icon:j.A})))),r.a.createElement(m.o,{id:"updateEmail"},"Change Profile Picture",r.a.createElement(m.d,{slot:"end"},r.a.createElement(m.c,{id:"submit"},r.a.createElement("input",{type:"file",id:"fileSelect",onChange:function(t){return e.handleChange(t.target.files)}}),r.a.createElement(m.m,{id:"cloudUploadOutline",icon:j.q})))),r.a.createElement(m.o,null)))}}]),n}(r.a.Component),Q=function(){return r.a.createElement(m.C,null,r.a.createElement(m.y,null,r.a.createElement(d.b,{path:"/main",exact:!0,render:function(){return r.a.createElement(d.a,{to:"/main/feed"})}}),r.a.createElement(d.b,{path:"/main/feed",component:D,exact:!0}),r.a.createElement(d.b,{path:"/main/social",component:T,exact:!0}),r.a.createElement(d.b,{path:"/main/settings",component:H,exact:!0})),r.a.createElement(m.A,{slot:"bottom"},r.a.createElement(m.B,{tab:"feed",href:"/main/feed"},r.a.createElement(m.m,{icon:j.w}),r.a.createElement(m.q,null,"Feed")),r.a.createElement(m.B,{tab:"social",href:"/main/social"},r.a.createElement(m.m,{icon:j.y}),r.a.createElement(m.q,null,"Social")),r.a.createElement(m.B,{tab:"settings",href:"/main/settings"},r.a.createElement(m.m,{icon:j.I}),r.a.createElement(m.q,null,"Settings"))))},X=(n(121),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),f.b.PushNotifications),Z={notifications:[{id:"id",title:"Test Push",body:"This is my first push notification"}]},W=(r.a.Component,function(){return r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(m.y,null,r.a.createElement(d.b,{path:"/main",component:Q}),r.a.createElement(d.b,{path:"/Weather",component:U}),r.a.createElement(d.b,{path:"/feed",component:D}),r.a.createElement(d.b,{path:"/main",component:Q}),r.a.createElement(d.b,{path:"/landing",component:w,exact:!0}),r.a.createElement(d.b,{exact:!0,path:"/",render:function(){return r.a.createElement(d.a,{to:"/landing"})}}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABdwAAAXcCAMAAAAP67xWAAABAlBMVEXp7vG6vsHGy83m6+7b4OO7v8Lo7fDJzdDO0tW/w8bj6OvM0dTn7O+9wcS8wMPHy87k6ezg5ejZ3uHP1Nfb3+LN0dTKztHLz9Li5+rd4uXQ1Nfa3+LEyMvk6evl6u3FyczR1tm+wsXJztHX3N/AxMfGys3R1djBxcjh5unQ1djO09bM0NPCxsnP09bDx8rIzM/d4eTX297Y3N+/xMfe4uXGy87W2t3T2NvV2dzZ3eDU2dzc4eTKz9Lm6u3Axcjh5ejY3eDS1tnS19rHzM/W297L0NPU2Nva3uHe4+bf4+bV2t3i5unc4OPN0tXBxsnT19rf5OfEyczDyMvY3d/IzdDFys1FgAw6AAAV6klEQVR4XuzAMQEAAAzDoPlXvTsGesEFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAwAAAAAAAAAAAAAAAAAAAAAPLt2sNNEGEZh+PscOrVNB6lpkVRTqpKQEChEqsFNURcqLrj/y9EFKrBy6fz/81zEWbw5zebH2fl61GXP0W1f7S/eTduoHTCZPT3NsjA4XH1vo1rA5ONwkEWim2+iSsDBWZcF4/hrE7UBpvtZOnYXy6gJMH6RNWB3NYlaAO1qkJVg9DzqANzcZkUY7kX5gPZz1oXXsygdsHyf1WHRRtGA66OsEM+aKBhw0WWVOC04vAM7g6wUR+MoFLCT9WJU6LoDF4OsGNsiywxw3WXVWE+iOMDyMivHMEoDtE9sG1+iMMAqITdRFOAmIXPUREGA9jh/gXn8xwBRBmEGGN893GHdRimA/bwDb6MQwDR/g8tJlAF4k3/AhygCcJB/wbaNEgAneQ/MogDApMt74DwKAHzKB2Av+g84zwfgKnoPaAb5ABxG7wEv8xFoou+AeT4C36LvgNt8BE6i54Bl/rOf7MAxEQAACALAw80Ujmx0oX8ZK7h6x3PqsXDjSsve3e00EQYBGJ4Bdm2BYpcSSiLFkGKB6IEn9S8hMfHn/i9JjzVmv1IP9ts8zz3Mm8ycTFQOeF9a9g/zqBwPj7Ms0rRRN+BTFnlsYwSYv8wiD1E3YJIlvsc40C6zxKuoG/AtC2xiLGhfZ4EvUTfgXfa7b2M0uGqy3yLqBkwdZf7m79bbqBvQZL+bGBHOs9+LqBuQ/e5jTJhnv4OoGtBmvzcxJrTjjztwaNBta+IO4o64A+KOuAPijrgD4o64A+KOuPcAcUfcAXFH3AFxR9wBcUfcAXEvIe6AuCPugLgj7oC4I+6AuCPugLj3E3dA3BF3QNwRd0DcEXdA3BH3ciDuiDsg7og7IO6IOyDuiDsg7uXEHRB3xB0Q98PuaP1zs/ht83F91B1G1cQdEPf5+WJ7m3+43S7OV1EjcQfE/fRocpf/dDe5OI2qiDsg7u3F8ix7nC0v2qiFuAPivtpMs8j0cRU1EHdA3LsfTRZrll0MnbgD4n51mTu6vIohE3dA3J8mTe5uchODJe6AuK9n+SyzdQyTuAPifrzNZzs4jgESd0DcP89yD7OvMTTiDoh7e5J7OjmNQRF3QNzn17m361UMiLgD4t5N8z+YdrErxB34xd697LZ1JAEY7rJIhuSQFClLlmTLRuxcRolhzNheGL4MckMwi8Fskvd/l2RXQAAjicXT7NP8vof4F3X6VA0W9+tN7MXm36UR4g6I+2QaezKdFMS9AhD3Km1PTdRd3AFxv57GHk0bmMyIOyDuu03s1WZXDkzcAXHfLmLPFo/LQYk7IO6zm9i7X1blkMQdEPd/xACelwMSd0Dcv49BfF8ORtwBcV+uYxCbZTkUcQfE/V4M5KtyIOIOiPsXMZiX5SDEHRD3J+sYzPpJOQRxB8R9HgOalwMQd0Dcr2JQt6U+cQfE/VkM6lmpTtwBcd/FwHalNnEHxP0yBvahVCbugLgvpzGw6bLUJe6AuH8Tg3tYqhJ3QNxnT2NwT2elJnEHxP08KnhUahJ3QNwfRAUPSkXiDoj7ahMVbFalHnEHxP08ore5jLgD4n4RVVyUesQdEPfXUcWiVCPugLgvo5JlqUXcAXE/i0rellrEHRD3F1HJi1KLuAPifi8q+arUIu6AuK+jknUZi8mH2bjjDoj7SVTzn7G0fRqfzUYdd0Dcd1HNbjRtj6z7KOMOiPt5VPNoNG3Puo8z7oC4v4xqXo6l7Vn3kcYdEPc3Uc2bkbQ96z7WuAPi/jCSa0zZ9qz7COMOiPv9qOb+WNqedR9p3AFx/zaqmY+h7RXqLu6AuFdue4W6iztgLFO57RXqLu6AD6qV216h7uIOeApZue0V6i7ugJ+YKre9Qt3FHbB+oHLb69Rd3AGLw+q3vX7dxR2w8rd+27Pu4t4+EPf0NCpZt9z2CnUXd8CZvVbannUfVdwBcb8flbwYZduz7mOKOyDuZ1HJ2TjbnnUfUdwBcX8clSxH2vasu7g3D8Q9fRlVvB5t27Pu44k7IO7/jyouxtv2rPto4g6I+3lUcT76tmfd2487IO6rTVSwWY2+7Vn39uMOiHv5EBU86KDtWff24w6I+3lU8KiDtmfd2487IO6zRQzu6ayDtmfd2487IO7l6xjcN120PeveftwBcX88jYFNl120PeveftwBcS8/x8AuO2l71r39uAPivouB7fpoe9Zd3JsD4l7/NeSzbtqedW8/7oC4X01jSFfdtD3r3n7cAXEv8xjQvKO2Z93bjzsg7ifrGMz6SU9tz7o3H3dA3MurGMwXfbU969583AFxL6cxkHu9tT3r3nzcAXFfrmMQ62V3bc+6i3sbQNzrH1N922Hbs+6txx0Q93IRA7josu1Z99bjDoj77Cb27mbWZ9uz7o3HHRD3sl3Eni22vbY969543AFxL7tN7NVm12/bs+6Nxx0Q93K91wROr3tue9Zd3BsA4l4tgtNJ323Puot7VSDuFTKo7Vn3ZuMOiHu53sRebI5gJpN1bzzugLiX7xaxB4vdMbQ969543AFxL9ubuLOb7XG0PeveeNwBcS+zi7iji9mxtD3r3mjcAXFPZ+u4g/VZOZ62Z91bjzsg7uXxaXyy0+VRtT3r3mrcAXFPv67jk6xflSNre9a9+bgD4l5OXnxCGaffnhxf27PuzcYdEPd0dRl/0+VVOca2Z93bjTsg7ul/z/9GH6fPb8uRtj3r3nDcAXFP288X8ZcsPt+W42171r3luAPinmaTy038ic3lZFa0PevebNwBcU+ryfyf8VFfzierUrQ969543AFxT9tHD39axB8sTh/+d1uStmfdG487IO5pdfv+1bsf7//ux3ev3t+uStL2rLu4VwDiXom2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWvZ+4A+Ku7Vn3fuIOiLu2Z937iTsg7tqede8n7oC4a3vWfZxxB8T9h6W2f9y/VmOMOyDu81gstf3jTlfjizsg7vOIrLu236Hu7cQdEPd5RNZd2+9Q93biDoj7PCLrru13qHs7cQfEfR6Rddf2O9S9nbgD4j6PlHVP2p51H0PcAXHPtmfdtf0v113cgZPf2Kmjk7ACIAiAeZqAmkAgWI1N2H83+dwC9uOOY6aIWZp7bs/ubu93l3uA3Edvz+5u73eXe4DcZ2/P7m6vd5d7gNyHb8/ubm93l3uA3Kdvz+5uL3eXe4Dcx2/P7m7vdpd7gNznb8/ubu92l3uA3Odvz+7d7XaXe4Dc52/P7sXtdpd7gNxHb+93z+12l3uA3Dfdnt3D7fFT7gWQ+9zt2d3tcu+B3Odvz+7rb5c7IPfcXuzudrk3QO7zt2d3t8u9B3Kfvz27L79d7oDcc3u/+/ztcgfkntur3d0u9x7Iff727O52ufdA7vO3Z/e9t8sdkHtu73efv13ugNxze7+72+XeA7nP357d3S73Hsh9/vbsvux2uQNyz+397vO3yx2Qe26vd991u9wBuef2fvf52+UOyD2397tvuV3ugNxze7+72+VeALnvuz27x2d/u9wBuQ/ent3j39OTOyD3wduzu9vlXgC5L7s9u7td7gWQ+7Lbs7vb5V4AuS+7Pbu7Xe4FkPuy27O72+VeALmvuj3ev54BcgfkntuR+2Ygd7fLHZC72+W+H8jd7XIH5O52ue8Hcne73AG5u13u+4Hc3S53QO5ul/t+IHe3yx2Qu9vlvh/I3e1yB+TudrnvB3J3u9wBubtd7vuB3N0ud0Dubpf7fiB3t8sdkLvb5b4fyN3tcgfk7na57wdyd7vcAbm7Xe77gdzdLndA7m6X+34gd7fLHZC72+W+H8jd7XIH5O52ue8Hcne73AG5u13u+4Hc3S53QO5ul/sBIHe3y/0AkLvb5X4ByN3tcj8I5O52uR8Ecne73A8Cubtd7geB3N0u94NA7m6X+0Egd7fL/SqQu9vlfh/I/f7tcgfk/v2cI3dA7r8f5A7I/Qq5A3JH7oDckTsgd+QOyL0nd0DuyB2QO3IH5I7cAbn35A7IHbkDckfugNyROyD3ntwBuSN3QO7IHZA7cgfk3pM7IHfkDsgduQNyR+6A3HtyB+SO3AG5I3dA7sgdkHtP7oDckTsgd+QOyB25A3LvyR2QO3IH5I7cAbkjd0DuPbkDckfugNyROyB35A7IvSd3QO7IHZA7cgfkPkrugNyROyB35A7IHbkDcu/JHZA7cgfkjtwBuSN3QO49uQNyR+6A3JE7IHfkDsi9Jff/7NRBSkNBEEXRKsWAkvx8JGrQQEgEUchMCEKmzpy4/9WIK+iadnPOFh7vBiDufaG0OSDuiDsg7og7IO6IOyDuiDsg7uJucxB3xB0Qd8QdEHfEHRB3xB0Qd8QdxN3RxR0Qd8QdEHfEHRB3xB0Qd8QdEHdxtzmIO+IOiDviDog74g6IO+IOiDviDuLu6OIOiDviDog74g6IO+IOiDviDmTbPkbCUtz/gbjfxkj4ybZ19A2Ysu09BsJXth2jb8Bntn3EQNhl20OMDzx9mmMYvGTBW/QNOGbBehGDYD5kwXf0DXjOiqdB6s58yopL9A14zZL9NgbA5pAld9E34Ddrbh7v50V0jOX2vMuaVXQO+GPv7lKbCKMwAJ9j2ikTJ2OMVhikpkjjhS2tgkpFFKogIope6P63ooIXSXeQ8z3POt6f4TChXMwdWOctcBP7DniWt8AU+w74krtg7GLfAd0id8Cj2H/Ace6AVew/YMptMA5RAPAht8D3qAD4nFvgflQAzMaEci9MwIOEcqNhwJMxodxlLnCa/8GrqAIY+iwHBSZglf/AOI9CgKv8C75GJcBykZCbLkoBHicsTgIQdq+Gb1EN0L3OxvEj6gFmF9k0zqMiYNlnwzjqoiRg3mezuDdEUcD8LBvFryHKApaX2STOuygMGK6yQXyM4oCbbA2LgygPmPpsCpuTaAAwu5vtYLzuog3AdJGN4Ok8mgF0L/tsAOspmgIMb86yOH4fRHOA7uGnrIvx+Ge0CVher7MixqO3QzQMeL96fnmYhTBuTl90AfCHHThEAQAGAQAICw40LBhta37AYDHZ/P97fIfgQYhz3jPbep/UCrs9OiQAAICBILT+qafPvoYK5BYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAQAAAAAAAAAAAAAAAAAAAAAA8J8HasaIBWRZAAAAAElFTkSuQmCC"},80:function(e,t,n){e.exports=n(132)},86:function(e,t,n){var a={"./ion-action-sheet.entry.js":[134,5],"./ion-alert.entry.js":[135,6],"./ion-app_8.entry.js":[136,7],"./ion-avatar_3.entry.js":[137,18],"./ion-back-button.entry.js":[138,19],"./ion-backdrop.entry.js":[139,43],"./ion-button_2.entry.js":[140,20],"./ion-card_5.entry.js":[141,21],"./ion-checkbox.entry.js":[142,22],"./ion-chip.entry.js":[143,23],"./ion-col_3.entry.js":[144,44],"./ion-datetime_3.entry.js":[145,10],"./ion-fab_3.entry.js":[146,24],"./ion-img.entry.js":[147,45],"./ion-infinite-scroll_2.entry.js":[148,46],"./ion-input.entry.js":[149,25],"./ion-item-option_3.entry.js":[150,26],"./ion-item_8.entry.js":[151,27],"./ion-loading.entry.js":[152,28],"./ion-menu_3.entry.js":[153,29],"./ion-modal.entry.js":[154,8],"./ion-nav_2.entry.js":[155,15],"./ion-popover.entry.js":[156,9],"./ion-progress-bar.entry.js":[157,30],"./ion-radio_2.entry.js":[158,31],"./ion-range.entry.js":[159,32],"./ion-refresher_2.entry.js":[160,11],"./ion-reorder_2.entry.js":[161,17],"./ion-ripple-effect.entry.js":[162,47],"./ion-route_4.entry.js":[163,33],"./ion-searchbar.entry.js":[164,34],"./ion-segment_2.entry.js":[165,35],"./ion-select_3.entry.js":[166,36],"./ion-slide_2.entry.js":[167,48],"./ion-spinner.entry.js":[168,13],"./ion-split-pane.entry.js":[169,49],"./ion-tab-bar_2.entry.js":[170,37],"./ion-tab_2.entry.js":[171,16],"./ion-text.entry.js":[172,38],"./ion-textarea.entry.js":[173,39],"./ion-toast.entry.js":[174,40],"./ion-toggle.entry.js":[175,12],"./ion-virtual-scroll.entry.js":[176,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=86,e.exports=r},88:function(e,t,n){var a={"./ion-icon.entry.js":[180,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=88,e.exports=r},93:function(e,t,n){}},[[80,3,4]]]);
//# sourceMappingURL=main.e651cc24.chunk.js.map