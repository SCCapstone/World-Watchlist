{"version":3,"sources":["firebase.js","pages/Landing.tsx","pages/Weather.tsx","config/config.js","components/Article.tsx","components/ArticleList.tsx","pages/Feed.tsx","pages/GroupView.tsx","pages/Messenger.tsx","pages/Social.tsx","pages/Settings.tsx","pages/Tabs.tsx","App.tsx","serviceWorker.ts","index.tsx","images/placeholder.png","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","Landing","props","state","loginEmail","loginPassword","registerEmail","registerPassword","registerConfirmPassword","shouldLoginShow","username","usernameIdentifier","login","bind","register","guard","this","setPersistence","Auth","Persistence","LOCAL","then","signInWithEmailAndPassword","console","log","currentUser","history","push","catch","error","message","createUserWithEmailAndPassword","getUsernameIdentifier","myArray","max","length","i","collection","doc","get","document","a","exists","data","used_indentifiers","identifiers","identifier","firstUnusedNumber","setState","new_identifiers","update","set","uid","blockedSources","groups","toString","outgoingFriendRequests","incomingFriendRequests","friendsList","className","id","lines","position","value","type","placeholder","onIonChange","e","target","onClick","React","Component","Weather","lat","long","name","req","temp","weather_code","showLoading","location","subscription","isUnsubscribing","CurrentUser","isweatherOpen","ParentComponent","children","ChildComponent","expand","fill","color","unsubscribe","index","onAuthStateChanged","subscriptionField","splice","axios","response","new_location","some","el","main","weather","description","lon","display_name","err","weatherDisplay","key","isOpen","slot","toggleWeatherModal","icon","closeCircleOutline","onIonInput","animated","size","shape","geocode","onDidDismiss","subscribe","duration","secondaryApp","settings","cacheSizeBytes","CACHE_SIZE_UNLIMITED","enablePersistence","code","NewsDB","Article","httpEquiv","content","theArticle","title","href","link","ArticleList","articles","theArticleList","map","x","Storage","Plugins","Feed","subs","articlesSearched","subscribedArticles","undefined","topicSearched","showModal","showSubscription","allArticles","locationBased","isWeatherModalOpen","onSnapshot","sub_list","subList","aList","snapshot","forEach","articleItem","Title","Link","Description","clear","sub","FieldValue","arrayUnion","arrayRemove","topic","toLowerCase","empty","apiSearch","docChanges","change","addSubscription","source","metadata","fromCache","removeSubscription","replace","rssurl","method","url","items","html","createElement","innerHTML","text","textContent","innerText","newsItem","allNews","allArticlesLocal","JSON","parse","where","stringify","setMainCollection","cloud","bookmarks","search","searchTopic","detail","checked","GroupView","groupViewPopoverEvent","isGroupViewPopoverOpen","isSettingsModalOpen","isMembersModalOpen","isFriendsListModalOpen","isNicknameReadOnly","tempNickname","groupDetails","nickname","pullImage","storage","storageRef","ref","pathName","child","getDownloadURL","img","getElementById","setAttribute","selectorFiles","file","newPicRef","put","Promise","r","setTimeout","profilePicture","swipeToClose","chevronDownOutline","owner","members","member","onChange","uploadImage","files","cloudUploadOutline","readonly","pencilOutline","checkmarkOutline","deleteGroup","friendList","friend","addFriendToGroup","includes","addOutline","cssClass","event","button","peopleOutline","settingsOutline","leaveGroup","exitOutline","isGroupModalOpen","toggleGroupModal","persist","src","Messenger","messages","newUpdate","submitPressed","realtime_db","database","messageReference","messageRef","messageContainer","loadMessages","current","scrollIntoView","Object","keys","class","sender","style","height","createRef","postToFeed","on","val","toggleMessengerModal","onTouchEnd","onTouchStart","send","Social","isAddFriendModalOpen","ourUsername","targetUsername","blockedUsers","isPendingRequestsModalOpen","isMessengerModalOpen","incomingRequests","outgoingRequests","isSocialPopoverOpen","socialPopoverEvent","isCreateGroupModalOpen","groupNickname","groupArray","numGroups","unsubscribeGroupArray","unsubscribeFriendsList","unsubscribeBlockedUsers","unsubscribeIncomingRequests","unsubscribeOutgoingRequests","unsubscribeGroups","addFriend","acceptFriend","declineFriend","removeFriend","blockUser","cancelOutgingRequest","generateUniqueGroupId","createGroup","blocked","unsubscribeIndividualGroup","group","friendMessageRef","btoa","friendMessageRef2","friends","delete","generateUniqueGroupIdPromise","resolve","reject","Math","random","addCircleOutline","IncomingFriend","OutgoingFriend","personAddOutline","sendOutline","listOutline","Friend","displayGroup","Placeholder","Settings","isBlockSourceModalOpen","isChangePasswordModalOpen","isChangeUsernameModalOpen","currentUserName","sourceToBlock","sourceToUnBlock","localList","newPassword","newUsername","handleChange","handleSubmit","blockSource","sourceName","addToList","isValidSite","anEmail","newEmail","isEmailAddress","updateEmail","signOut","password","updatePassword","newName","addEventListener","evt","list","entry","appendChild","createTextNode","siteName","substring","domainType","populate","arrowBackOutline","unBlockSource","Blocked","changePassword","arrowForwardOutline","changeUsername","newspaperOutline","mailOutline","personCircleOutline","Tabs","path","exact","render","to","component","tab","App","Boolean","window","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister","module","exports","webpackAsyncContext","__webpack_require__","o","Error","ids"],"mappings":"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","file":"static/js/main.51fbf387.chunk.js","sourcesContent":["\r\nimport firebase from 'firebase';\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyCAmbJVaYRk_N6RBcg_VnH865_9FzstE_I\",\r\n  authDomain: \"worldwatchlist.firebaseapp.com\",\r\n  databaseURL: \"https://worldwatchlist.firebaseio.com\",\r\n  projectId: \"worldwatchlist\",\r\n  storageBucket: \"worldwatchlist.appspot.com\",\r\n  messagingSenderId: \"106343909885\",\r\n  appId: \"1:106343909885:web:5cd924b3087d5e5b483194\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.firestore();\r\nexport default firebase;\r\n","import React from 'react';\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonItemDivider,\r\n  IonList,\r\n  IonItem,\r\n  IonContent,\r\n  IonInput,\r\n  IonTitle,\r\n  IonButton,\r\n  IonLabel\r\n} from '@ionic/react'\r\n\r\nimport './Landing.css'\r\nimport firebase, {auth, db} from '../firebase.js'\r\n\r\ntype MyState = {\r\n  loginEmail: string;\r\n  loginPassword: string;\r\n  registerEmail: string;\r\n  registerPassword: string;\r\n  registerConfirmPassword: string;\r\n  shouldLoginShow: boolean;\r\n  username: string;\r\n  usernameIdentifier: number;\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nclass Landing extends React.Component<MyProps, MyState> {\r\n\r\n  state: MyState = {\r\n    loginEmail: '',\r\n    loginPassword: '',\r\n    registerEmail: '',\r\n    registerPassword: '',\r\n    registerConfirmPassword: '',\r\n    shouldLoginShow: true,\r\n    username: '',\r\n    usernameIdentifier: -1\r\n  };\r\n\r\n\r\n\r\n  constructor(props: MyProps) {\r\n    super(props)\r\n\r\n    this.login = this.login.bind(this);\r\n    this.register = this.register.bind(this);\r\n  }\r\n\r\n  login() {\r\n    //attempts to sign a user into the app\r\n    //field checks\r\n    let guard = true\r\n    if(this.state.loginEmail === '') {\r\n      guard = false\r\n    }\r\n    if(this.state.loginPassword === '') {\r\n      guard = false\r\n    }\r\n    if(guard) {\r\n      firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(() => {\r\n        auth.signInWithEmailAndPassword(this.state.loginEmail, this.state.loginPassword).then(() => {\r\n          //user successfully logs in\r\n          //reroute here\r\n          console.log(auth.currentUser)\r\n          if(auth.currentUser) {\r\n            this.props.history.push(\"/main\")\r\n          }\r\n        }).catch((error) => {\r\n          //error handling\r\n          console.log(error.message)\r\n\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  register() {\r\n    let guard = true\r\n    if(this.state.registerEmail ==='') {\r\n      guard = false\r\n    }\r\n    if(this.state.registerPassword === '') {\r\n      guard = false\r\n    }\r\n    if(this.state.registerConfirmPassword !== this.state.registerPassword) {\r\n      guard = false\r\n    }\r\n    //attempts to register a user\r\n    //field checks\r\n\r\n    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL).then(() => {\r\n      auth.createUserWithEmailAndPassword(this.state.registerEmail, this.state.registerPassword).then(() => {\r\n        //user successfully registers\r\n        //reroute here\r\n        this.getUsernameIdentifier().then(() => {\r\n          this.props.history.push(\"/main\")\r\n        })\r\n       //admin.storage.ref().child(this.state.username+'#'+this.state.usernameIdentifier.toString() + '/new.jpg').put('../images/placeholder.png')\r\n       //firebase.put('asdf');\r\n\r\n      }).catch((error) => {\r\n        //error handling\r\n        console.log(error.message)\r\n      })\r\n    })\r\n  }\r\n\r\n  firstUnusedNumber(myArray: number[]) : number {\r\n    //takes a sorted array of integers and checks each index to find first unused integer\r\n    let max = myArray.length\r\n    for(let i = 0; i < max; i++) {\r\n      if(myArray[i] !== i) {\r\n        return i\r\n      }\r\n    }\r\n    return max\r\n  }\r\n\r\n  async getUsernameIdentifier() {\r\n    //Should run when a user registers\r\n    //Assigns numbers to end of Username such as example#0\r\n    await db.collection('usernameIdentifiers').doc(this.state.username).get().then(async (document) => {\r\n      if(document.exists) {\r\n        //someone has used this username before\r\n        if(document.data()) {\r\n            let used_indentifiers = document.data()!.identifiers\r\n            let identifier = this.firstUnusedNumber(used_indentifiers)\r\n            this.setState({usernameIdentifier: identifier})\r\n            let new_identifiers = used_indentifiers.push(identifier)\r\n            new_identifiers = new_identifiers\r\n            db.collection('usernameIdentifiers').doc(this.state.username).update({\r\n              identifiers: new_identifiers\r\n            })\r\n        }\r\n      }\r\n      //document doesnt exist\r\n      else {\r\n        await db.collection('usernameIdentifiers').doc(this.state.username).set({\r\n          identifiers: [0]\r\n        })\r\n        this.setState({usernameIdentifier: 0})\r\n      }\r\n      await db.collection('users').doc(auth.currentUser?.uid).set({\r\n        blockedSources:[],\r\n        groups: [],\r\n        username: this.state.username + '#' + this.state.usernameIdentifier.toString()\r\n      })\r\n      await db.collection('usernames').doc(this.state.username + '#' + this.state.usernameIdentifier.toString()).set({\r\n        blockedSources:[],\r\n        groups: [],\r\n        username: this.state.username + '#' + this.state.usernameIdentifier.toString(),\r\n        outgoingFriendRequests: [],\r\n        incomingFriendRequests: []\r\n      })\r\n      await db.collection(\"outgoingFriendRequests\").doc(this.state.username + '#' + this.state.usernameIdentifier.toString()).set({\r\n        outgoingFriendRequests: []\r\n      })\r\n      await db.collection(\"incomingFriendRequests\").doc(this.state.username + '#' + this.state.usernameIdentifier.toString()).set({\r\n        incomingFriendRequests: []\r\n      })\r\n      await db.collection(\"friends\").doc(this.state.username + '#' + this.state.usernameIdentifier.toString()).set({\r\n        friendsList: []\r\n      })\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n    render() {\r\n      return (\r\n      <IonPage>\r\n        <IonHeader>\r\n          <IonToolbar className='landingToolbar'>\r\n            <IonTitle>\r\n              {this.state.shouldLoginShow ? 'Login' : 'Register'}\r\n            </IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent className='landingContent'>\r\n        {\r\n          this.state.shouldLoginShow ?\r\n            <div className='loginContainer'>\r\n              <div id='loginInputContainer'>\r\n                <IonItem lines='none' className='loginItem'>\r\n                <IonLabel className='loginLabel' position='floating'>Email</IonLabel>\r\n                  <IonInput value={this.state.loginEmail} className='loginInput' type='email' placeholder = 'Email Address' onIonChange={(e) => {this.setState({loginEmail: (e.target as HTMLInputElement).value})}} />\r\n                </IonItem>\r\n\r\n                <IonItem lines='none' className='loginItem'>\r\n                  <IonLabel className='loginLabel' position='floating'>Password</IonLabel>\r\n                  <IonInput value={this.state.loginPassword}  className='loginInput' type='password' placeholder = 'Password' onIonChange={(e) => {this.setState({loginPassword: (e.target as HTMLInputElement).value})}}/>\r\n                </IonItem>\r\n              </div>\r\n              <IonButton onClick={() => {this.login()}} className='loginButton'>Submit</IonButton>\r\n            </div>\r\n          :\r\n            <div className='registerContainer'>\r\n              <div id='registerInputContainer'>\r\n                <IonItem lines='none' className='registerItem'>\r\n                <IonLabel className='registerLabel' position='floating' id = 'email'>Email</IonLabel>\r\n                  <IonInput value={this.state.registerEmail} className='registerInput' type='email' placeholder = 'Email Address' onIonChange={(e) => {this.setState({registerEmail: (e.target as HTMLInputElement).value})}} />\r\n                </IonItem>\r\n\r\n                <IonItem lines='none' className='registerItem'>\r\n                  <IonLabel className='registerLabel' position='floating'>Password</IonLabel>\r\n                  <IonInput value={this.state.registerPassword} className='registerInput' type='password' placeholder = 'Password' onIonChange={(e) => {this.setState({registerPassword: (e.target as HTMLInputElement).value})}}/>\r\n                </IonItem>\r\n\r\n                <IonItem lines='none' className='registerItem'>\r\n                  <IonLabel className='registerLabel' position='floating'>Confirm Password</IonLabel>\r\n                  <IonInput value={this.state.registerConfirmPassword}  className='registerInput' type='password' placeholder = 'Confirm Password' onIonChange={(e) => {this.setState({registerConfirmPassword: (e.target as HTMLInputElement).value})}}/>\r\n                </IonItem>\r\n\r\n                <IonItem lines='none' className='registerItem'>\r\n                  <IonLabel className='registerLabel' position='floating'>Username</IonLabel>\r\n                  <IonInput value={this.state.username} className='registerInput' type='text' placeholder = 'Username' onIonChange={(e) => {this.setState({username: (e.target as HTMLInputElement).value})}}/>\r\n                </IonItem>\r\n              </div>\r\n              <IonButton onClick={() => {this.register()}} className='registerButton'>Submit</IonButton>\r\n            </div>\r\n        }\r\n\r\n          <IonButton className = 'landingSwitch' onClick={() => {this.setState({shouldLoginShow: !this.state.shouldLoginShow})}} >Switch</IonButton>\r\n        </IonContent>\r\n      </IonPage>\r\n      )\r\n    }\r\n\r\n}\r\n\r\nexport default Landing\r\n","import React from 'react';\r\nimport axios from 'axios'\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonContent,\r\n  IonTitle,\r\n  IonSearchbar,\r\n  IonInput,\r\n  IonButton,\r\n  IonLoading,\r\n  IonRouterOutlet,\r\n  IonIcon,\r\n  IonCard,\r\n  IonCardContent,\r\n  IonCardHeader,\r\n  IonCardSubtitle,\r\n  IonCardTitle,\r\n  IonModal,\r\n  IonButtons,\r\n\r\n} from '@ionic/react'\r\nimport './Weather.css'\r\nimport firebase, {db, auth} from '../firebase'\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { arrowBack, closeCircleOutline } from 'ionicons/icons';\r\nimport Tabs from './Tabs'\r\n\r\ntype MyState = {\r\n  lat: any, \r\n  long: any,\r\n  name: any,\r\n  req: any,\r\n  temp: any,\r\n  weather_code: any,\r\n  showLoading: boolean,\r\n  location: any,\r\n  subscription: any[],\r\n  isUnsubscribing: boolean,\r\n  CurrentUser:any,\r\n  isweatherOpen:boolean;\r\n  \r\n}\r\n\r\ntype MyProps = {\r\n  isOpen:boolean;\r\n  toggleWeatherModal: any;\r\n}\r\n\r\n\r\nclass Weather extends React.Component<MyProps,MyState> {\r\n  state: MyState = {\r\n      lat: null, \r\n      long: null,\r\n      name: null,\r\n      req: null,\r\n      temp: null,\r\n      weather_code: null,\r\n      showLoading: false,\r\n      location: null,\r\n      subscription: [],\r\n      isUnsubscribing: false,\r\n      CurrentUser:null,\r\n      isweatherOpen:false\r\n  };\r\n\r\n  \r\n  constructor(props: MyProps) {\r\n    super(props)\r\n    auth.onAuthStateChanged(async () => {\r\n      console.log(this.state.subscription)\r\n      if(auth.currentUser) {\r\n        //gets the username of our user\r\n        db.collection(\"users\").doc(auth.currentUser.uid).get().then(doc => {\r\n          if(doc.data()) {\r\n            this.setState({CurrentUser:doc.data()!.username})\r\n          }\r\n          // go into weatherSubscription collection\r\n          const dbSubscription = db.collection('weatherSubscription').doc(this.state.CurrentUser)\r\n          // Check weather subscription array exist for user\r\n          dbSubscription.get().then((doc) => {\r\n            // use existing array\r\n            if (doc.exists) {\r\n              var subscriptionField = doc.data()\r\n              if (subscriptionField) {\r\n                this.setState({subscription:subscriptionField.subscription})\r\n              }\r\n            } \r\n            // create an array for the user.\r\n              else {\r\n                db.collection(\"weatherSubscription\").doc(this.state.CurrentUser).set({\r\n                  subscription:[]\r\n            })\r\n            }\r\n        }).catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n        \r\n        })\r\n      }\r\n  })\r\n    \r\n  }\r\n  ParentComponent = (props:any) => (\r\n    <div className=\"card calculator\">\r\n      <div id=\"children-pane\">\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  ChildComponent = (props: {weather_code:any, temp:any, location: any, index:any}) => \r\n  <IonCard>\r\n        <IonCardHeader >\r\n          <IonCardSubtitle>{props.location}</IonCardSubtitle>\r\n          <IonCardTitle >{props.temp}</IonCardTitle>\r\n        </IonCardHeader>\r\n        <IonCardContent>\r\n        {props.weather_code}\r\n        <IonButton expand=\"block\" fill=\"outline\" color=\"secondary\" type=\"submit\" onClick={()=> this.unsubscribe(props.index) && this.setState({isUnsubscribing:true})}>unsub</IonButton>\r\n        </IonCardContent>\r\n      </IonCard>  \r\n\r\n  \r\n  /* remove item from subscribed based on index */\r\n  async unsubscribe(index:any) {\r\n    console.log(index)\r\n    this.state.subscription.splice(index,1)\r\n    db.collection('weatherSubscription').doc(this.state.CurrentUser).update({\r\n      subscription: this.state.subscription\r\n    })\r\n  }\r\n\r\n  /* add new current weather location to subscribed array */\r\n  async subscribe(lat: any, long: any) {\r\n    await axios.get(\"http://api.openweathermap.org/data/2.5/weather?lat=\"+lat+\"&lon=\"+long+\"&APPID=853ea8c8d782be685ad81ace7b65291a&units=imperial\")\r\n    .then((response) => {\r\n      const data = response.data\r\n      console.log(data)\r\n      const new_location = this.state.name\r\n      const found = this.state.subscription.some(el => el.location === new_location);\r\n      if (found === true) {\r\n        console.log(\"already subscribed\")\r\n      } else {\r\n        console.log(\"adding to subscription\")\r\n        this.state.subscription.push({location: this.state.name, temp:data.main.temp+' F', weather_code: data.weather[0].description})\r\n      }\r\n      this.setState({temp:data.main.temp+'F',weather_code: data.weather[0].description, location: this.state.name})\r\n      /* Add data to firebase firestore */\r\n      db.collection('weatherSubscription').doc(this.state.CurrentUser).update({\r\n        subscription: this.state.subscription\r\n      })\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    });\r\n  }\r\n\r\n  /* get latitude and longitude of location */\r\n  async geocode(location: any) {\r\n    if (location === null) {\r\n      console.log(\"Please enter a valid location\")\r\n    } else {\r\n      await axios.get('https://us1.locationiq.com/v1/search.php?key=pk.180fdf6168d1230db0cc5c937b7eaa98&q&q='+location+'&limit=1&countrycodes=US&namedetails=1&format=json')\r\n    .then((response) => {\r\n      let data = response.data[0]\r\n      console.log(data)\r\n      let lat = data.lat\r\n      let long = data.lon\r\n      let display_name = data.display_name\r\n      this.setState({lat: lat, long: long, name: display_name})\r\n    }).catch(err => {\r\n      console.error(err);\r\n    });\r\n    }\r\n  }\r\n\r\n  \r\n  /* ClimaCell API (currently not in used because ran out of request) */\r\n  // async getWeatherData(lat: any, long: any) {\r\n  //   await fetch(\"https://api.climacell.co/v3/weather/forecast/daily?lat=\"+ lat + \"&lon=\"+ long +\"&unit_system=us&start_time=now&fields=feels_like&fields=\"+\r\n  //   \"wind_speed&fields=precipitation_probability&fields=weather_code&fields=humidity&apikey=YSpFrL7B389Ssy8msuqnPT3oY7keeAXf\", {\r\n  //     \"method\": \"GET\",\r\n  //     \"headers\": {}\r\n  //   })\r\n  //     .then(response => {\r\n  //       response.json().then((data) => {\r\n  //         var wlist = []\r\n  //         wlist.push({location: this.state.name, temp:data[0].feels_like[0].min.value +' '+data[0].feels_like[0].min.units, weather_code: data[0].weather_code.value})\r\n  //         this.state.subscription.push(wlist)\r\n  //         // console.log(this.state.subscription)\r\n  //         this.setState({temp:data[0].feels_like[0].min.value+data[0].feels_like[0].min.units+' ',weather_code: data[0].weather_code.value, location: this.state.name})\r\n  //         });\r\n  //     })\r\n  //     .catch(err => {\r\n  //       console.error(err);\r\n  //     });\r\n  // } \r\n    \r\n    render() {\r\n      \r\n      const weatherDisplay = [];\r\n      for (var i = 0; i < this.state.subscription.length; i+=1) {\r\n        weatherDisplay.push(<this.ChildComponent key={i} weather_code={this.state.subscription[i].weather_code} \r\n          temp={this.state.subscription[i].temp} location={this.state.subscription[i].location} index={i} />);\r\n      };\r\n      return (\r\n      <IonModal isOpen={this.props.isOpen}>\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonTitle>\r\n              Weather \r\n            </IonTitle>\r\n            <IonButtons slot='start'>\r\n                <IonButton onClick={() => {this.props.toggleWeatherModal()}} fill='clear'>\r\n                  <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n        </IonButtons>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        <IonSearchbar placeholder=\"State, City, address...\" onIonInput={(e: any) => this.setState({req:e.target.value})} animated></IonSearchbar>\r\n              <IonButton id=\"searchButton\" size=\"default\" color=\"dark\" type=\"submit\" expand=\"full\" shape=\"round\" onClick={() => this.geocode(this.state.req) \r\n                && this.setState({showLoading: true })}>\r\n            search\r\n          </IonButton>\r\n          <IonLoading\r\n        isOpen={this.state.showLoading}\r\n        onDidDismiss={() =>  this.subscribe(this.state.lat, this.state.long) && this.setState({showLoading: false})}\r\n        message={'Getting data from API'}\r\n        duration={750}\r\n      />\r\n\r\n      <this.ParentComponent>\r\n       {weatherDisplay}\r\n      </this.ParentComponent>\r\n\r\n          </IonContent>\r\n        </IonModal>\r\n      )\r\n    }\r\n    \r\n\r\n}\r\n\r\nexport default Weather\r\n","import firebase from 'firebase';\r\nvar config = {\r\n  apiKey: \"AIzaSyCiQa3wPMFOp_PidtF-8arljaCT3XFMLhc\",\r\n  authDomain: \"world-watchlist-server-8f86e.firebaseapp.com\",\r\n  databaseURL: \"https://world-watchlist-server-8f862.firebaseio.com\",\r\n  projectId: \"world-watchlist-server-8f86e\",\r\n  storageBucket: \"world-watchlist-server-8f86e.appspot.com\",\r\n  messagingSenderId: \"252689618671\",\r\n  appId: \"1:252689618671:web:3ac355cc3bbad710d02d1a\",\r\n};\r\n\r\nvar secondaryApp = firebase.initializeApp(config, \"Secondary\");\r\n/* Allow caching with unlimited size for accessing data offline */\r\nsecondaryApp.firestore().settings({\r\n  cacheSizeBytes: firebase.firestore.CACHE_SIZE_UNLIMITED\r\n});\r\nsecondaryApp.firestore().enablePersistence()\r\n  .catch((err) => {\r\n      if (err.code == 'failed-precondition') {\r\n          // Multiple tabs open, persistence can only be enabled\r\n          // in one tab at a a time.\r\n          // ...\r\n      } else if (err.code == 'unimplemented') {\r\n          // The current browser does not support all of the\r\n          // features required to enable persistence\r\n          // ...\r\n      }\r\n  });\r\nexport const NewsDB = secondaryApp.firestore();\r\nexport default secondaryApp;","import React from 'react';\r\nimport { article } from './ArticleTypes';\r\nimport './Article.css'\r\nimport { IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCardTitle } from '@ionic/react';\r\n\r\nfunction Article(props: {theArticle: article}) {\r\n    //console.log(props.theArticle);\r\n    return <IonCard>\r\n      <meta httpEquiv=\"Cache-control\" content=\"no-cache\"></meta>\r\n          <IonCardHeader>\r\n            <IonCardTitle>{props.theArticle.title}</IonCardTitle>\r\n          </IonCardHeader>\r\n          <IonCardContent>\r\n              {props.theArticle.description}\r\n            </IonCardContent>\r\n            <IonCardContent><a href={props.theArticle.link}>source</a></IonCardContent>\r\n        </IonCard>\r\n        \r\n        ;\r\n}\r\nexport default Article;","import React from 'react';\r\nimport Article from './Article';\r\nimport { article, articleList } from './ArticleTypes';\r\n\r\nfunction ArticleList(props: {theArticleList: articleList}) {\r\n    //console.log(props.theArticleList);\r\n    let articles = props.theArticleList.map((x: article) =><div key={x.title}> <Article theArticle={x}></Article> </div>);\r\nreturn <div>{articles}</div>;\r\n}\r\nexport default ArticleList;","import React, { useState } from 'react';\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonContent,\r\n  IonTitle,\r\n  IonRouterOutlet,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonButton,\r\n  IonButtons,\r\n  IonSearchbar,\r\n  IonLoading,\r\n  IonModal,\r\n  IonCard,\r\n  IonCardHeader,\r\n  IonCardTitle,\r\n  IonFabButton,\r\n  IonCardContent,\r\n  IonCardSubtitle,\r\n  IonItem,\r\n  IonCheckbox,\r\n  IonList, IonListHeader\r\n} from '@ionic/react'\r\nimport './Feed.css'\r\nimport { NewsDB } from '../config/config';\r\nimport firebase, {db,auth} from '../firebase'\r\nimport ArticleList from '../components/ArticleList';\r\nimport { article, articleList } from '../components/ArticleTypes';\r\nimport Weather from './Weather'\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { bookmarks, closeCircleOutline, cloud, search } from 'ionicons/icons';\r\nimport { Plugins } from '@capacitor/core';\r\nimport axios from 'axios';\r\nconst { Storage } = Plugins;\r\n\r\ntype MyState = {\r\n  articles: articleList;\r\n  subs: string[];\r\n  articlesSearched:any[],\r\n  subscribedArticles: any;\r\n  CurrentUser:any;\r\n  topicSearched:any;\r\n  showLoading:boolean;\r\n  showModal:boolean,\r\n  showSubscription:boolean,\r\n  allArticles:any[],\r\n  locationBased:boolean,\r\n  isWeatherModalOpen:boolean\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nclass Feed extends React.Component<MyProps, MyState> {\r\n  \r\n  state: MyState = {\r\n    articles: [],\r\n    subs: [],\r\n    articlesSearched:[],\r\n    subscribedArticles: undefined,\r\n    CurrentUser: null,\r\n    topicSearched:null,\r\n    showLoading:false,\r\n    showModal:false,\r\n    showSubscription:false,\r\n    allArticles:[],\r\n    locationBased:false,\r\n    isWeatherModalOpen:false\r\n  };\r\n\r\n  constructor(props: MyProps) {\r\n    super(props)\r\n    this.toggleWeatherModal = this.toggleWeatherModal.bind(this);\r\n    auth.onAuthStateChanged(async () => {\r\n      if(auth.currentUser) {\r\n        //gets the username of our user\r\n        await db.collection(\"users\").doc(auth.currentUser.uid).get().then(async doc => {\r\n          if(doc.data()) {\r\n            console.log('current user: ' + doc.data()!.username)\r\n            this.setState({CurrentUser:doc.data()!.username})\r\n          }\r\n          // get subscription list .get().then\r\n          db.collection(\"topicSubscription\").doc(this.state.CurrentUser).onSnapshot(async (sub_list) => {\r\n            if (sub_list.exists) {\r\n              console.log(\"current sub list: \", sub_list.data()!.subList)\r\n              this.setState({subs: sub_list.data()!.subList});\r\n              let aList : articleList = [];\r\n              if (this.state.subs.length !== 0) {\r\n                for (var i = 0; i < this.state.subs.length; i++) {\r\n                await NewsDB.collection(this.state.subs[i]).get()\r\n                .then((snapshot) => {\r\n                  snapshot.forEach(doc => {\r\n                    if (doc.exists) {\r\n                      let articleItem = doc.data();\r\n                      aList.push({title: articleItem.Title, link: articleItem.Link, description: articleItem.Description})\r\n                    } else {\r\n                      console.log(\"Cannot find anything in database.\")\r\n                    }\r\n                  })\r\n                }).catch(function(error) {\r\n                  console.log(\"Error getting document:\", error);\r\n                })\r\n              }\r\n            }\r\n            /* reset articles in ui each sub and unsub */\r\n            this.setState({articles: aList})\r\n            } else {\r\n              db.collection(\"topicSubscription\").doc(this.state.CurrentUser).set({subList: []});\r\n            }\r\n          })\r\n        }).catch(function(error) {\r\n            console.log(\"Error getting document:\", error);\r\n        });\r\n      }\r\n    })\r\n    \r\n  }\r\n\r\n  toggleWeatherModal() {\r\n    this.setState({isWeatherModalOpen: !this.state.isWeatherModalOpen})\r\n  }\r\n\r\n  \r\n  /*clear capacitor local storage */\r\n  async clear() {\r\n    await Storage.clear();\r\n  }\r\n\r\n  /* can currently subscribe to: gaming, health, politics, sports, technology, world */\r\n  async addSubscription(sub: string) {\r\n    if (sub!== \"\") {\r\n      await db.collection(\"topicSubscription\").doc(this.state.CurrentUser).update({subList: firebase.firestore.FieldValue.arrayUnion(sub)})\r\n    }\r\n  }\r\n\r\n  async removeSubscription(index:any) {\r\n    if (this.state.subs[index] !== \"\") {\r\n      await db.collection(\"topicSubscription\").doc(this.state.CurrentUser).update({subList: firebase.firestore.FieldValue.arrayRemove(this.state.subs[index])})\r\n    }\r\n  }\r\n\r\n  ParentComponent = (props:any) => (\r\n    <div>\r\n      <div id=\"children-pane\">\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n  \r\n  ChildComponent = (props: {subscription:any, index:any}) => \r\n  <IonCard>\r\n        <IonCardHeader >\r\n          <IonCardTitle>{props.subscription}</IonCardTitle>\r\n          </IonCardHeader>\r\n          <IonCardContent>\r\n          <IonButton expand=\"block\" fill=\"outline\" color=\"secondary\" type=\"submit\" onClick={()=> this.unsubscribe(props.subscription,props.index)}>unsubscribe</IonButton>\r\n          </IonCardContent>\r\n      </IonCard>  \r\n\r\n  /* search firebase database for topic*/\r\n  async searchTopic(topic:any) {\r\n    this.setState({articlesSearched:[]})\r\n      if (topic === null || topic === undefined || topic === '') {\r\n        console.log(\"Enter a valid topic\");\r\n      } else {\r\n        let aList : articleList = [];\r\n        /* cache data on topic search */\r\n        await NewsDB.collection(topic.toLowerCase()).get()\r\n        .then(async (snapshot) => {\r\n        if (snapshot.empty) {\r\n          // searching through api and sending to firestore instead of searching in main collection\r\n          await this.apiSearch(topic, 'search')\r\n        /* Searching topics based on string matching titles to input if a collection doesn't exist */\r\n          // console.log(\"can't find the collection, will search in all collection\")\r\n          // var filtered = this.state.allArticles.filter(doc => doc.Title.toLowerCase().includes(topic.toLowerCase()))\r\n          // if (filtered.length === 0) {\r\n          //   console.log(\"currently no news on\", topic)\r\n          // } else {\r\n          //   filtered.forEach(filtered => {\r\n          //     aList.push({title: filtered.Title, link: filtered.Link, description: filtered.Description})\r\n          //   })\r\n          //   this.setState({articlesSearched: aList})\r\n          // }\r\n        } else {\r\n        console.log(\"collection exist, will pull data from that collection\")\r\n        aList = [];\r\n        snapshot.docChanges().forEach((change) => {\r\n          if (change.doc.exists) {\r\n            let articleItem = change.doc.data();\r\n            aList.push({title: articleItem.Title, link: articleItem.Link, description: articleItem.Description})\r\n          }\r\n          this.setState({articlesSearched: aList})\r\n        })\r\n        }\r\n      })\r\n    }\r\n}\r\n\r\n  async subscribe(topic:any) {\r\n    if (topic === null || topic === undefined || topic === '') {\r\n      console.log(\"Enter a valid topic\");\r\n    } else {\r\n      /* cache data on subscribe */\r\n      await NewsDB.collection(topic.toLowerCase()).get()\r\n        .then(async (snapshot) => {\r\n       /* Creating a new collection if topic collection doesn't exist and subscribing to it */\r\n      if (snapshot.empty) {\r\n        await this.apiSearch(topic, 'subscribe')\r\n        /* using this.state.allArticles called in constructor */\r\n      //   var filteredArticles = this.state.allArticles.filter(doc => doc.Title.toLowerCase().includes(topic.toLowerCase()))\r\n      //   if (this.state.locationBased === true) {\r\n      //     await this.apiSearch(topic, 'subscribe')\r\n      //   } else if (filteredArticles.length === 0) {\r\n      //     console.log(\"currently no news on that topic\")\r\n      //   } \r\n      //   else {\r\n      //     filteredArticles.forEach(async filteredArticles => {\r\n      //       await NewsDB.collection(topic.toLowerCase()).doc(filteredArticles.Title).set({Title:filteredArticles.Title, Link: filteredArticles.Link, Description: filteredArticles.Description});\r\n      //     })\r\n      //   }\r\n      //   console.log(\"Making new collection called\", topic, \" and subscribing\")\r\n      //   await this.addSubscription(topic.toLowerCase());\r\n      } \r\n      else {\r\n        console.log(\"News about \"+ topic +\" has been found and will be subscribed.\")\r\n        await this.addSubscription(topic.toLowerCase());\r\n      } \r\n      var source = snapshot.metadata.fromCache ? \"local cache\" : \"server\";\r\n          console.log(\"Data came from \" + source);\r\n    })\r\n  }\r\n  }\r\n  \r\n  unsubscribe(topic:any,index:any) {\r\n    console.log(\"News about \"+ topic +\" has been found and will be unsubscribed.\")\r\n    this.removeSubscription(index);\r\n  }\r\n\r\n  /* using an api to turn rss feeds into json to avoid cors policy errors */\r\n  async apiSearch(topic: any, type:string) {\r\n    let aList : articleList = [];\r\n    let temp = topic.replace(/\\ /g,\"%2520\")\r\n    let rssurl = \"https%3A%2F%2Fnews.google.com%2Frss%2Fsearch%3Fq%3D\"+temp+\"%26hl%3Den-US%26gl%3DUS%26ceid%3DUS%3Aen&api_key=ygho9vm848pakf5b24oawteww7slkcj2ccgiu13w\"\r\n    await axios({\r\n      method: 'GET',\r\n      url:'https://api.rss2json.com/v1/api.json?rss_url='+rssurl\r\n    // url: \"https://send-rss-get-json.herokuapp.com/convert/?u=\"+\"https://news.google.com/rss/search?q=\"+topic+\"&hl=en-US&gl=US&ceid=US:en\"\r\n    // https://api.rss2json.com/v1/api.json?rss_url=\r\n  })\r\n    .then(async (response) => {\r\n      const data = response.data\r\n      await data.items.forEach((articleItem: any) => {\r\n        /* remove <a> html tag from description */\r\n        var html = articleItem.description; \r\n        var a = document.createElement(\"a\"); \r\n        a.innerHTML = html; \r\n        var text = a.textContent || a.innerText || \"\"; \r\n        aList.push({title: articleItem.title, link: articleItem.link, description: text})\r\n      })\r\n      if (type==='search') {\r\n        this.setState({articlesSearched: aList})\r\n      } else {\r\n        aList.forEach(async newsItem => {\r\n          await NewsDB.collection(topic.toLowerCase()).doc(newsItem.title).set({Title:newsItem.title, Link: newsItem.link, Description: newsItem.description});\r\n        })\r\n        await this.addSubscription(topic.toLowerCase());\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    });\r\n  }\r\n\r\n  /* store news in 'all' collection into capicitor local storage on start to reduce reading*/\r\n  async setMainCollection(){\r\n    let allNews: any[] = []\r\n    var allArticlesLocal = await Storage.get({key:'allArticles'})\r\n    if ((allArticlesLocal.value)?.length === undefined || JSON.parse((allArticlesLocal.value)).length === 0) {\r\n      NewsDB.collection('all').where(\"Title\", \"!=\", \" \")\r\n        .onSnapshot(async (snapshot) => {\r\n          snapshot.docChanges().forEach((change) => {\r\n            allNews.push(change.doc.data());\r\n          });\r\n          this.setState({allArticles:allNews})\r\n          var source = snapshot.metadata.fromCache ? \"local cache\" : \"server\";\r\n          console.log(\"Data came from \" + source);\r\n          await Storage.set({ key: 'allArticles', value: JSON.stringify(allNews) });\r\n          console.log('Storing in local storage');\r\n        })\r\n      } else {\r\n        this.setState({allArticles:JSON.parse(allArticlesLocal.value)})\r\n        console.log('already in local storage')\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.setMainCollection()\r\n  }\r\n\r\n\r\n  render() {\r\n    const subs = [];\r\n      for (var i = 0; i < this.state.subs.length; i+=1) {\r\n        subs.push(<this.ChildComponent key={i} subscription={this.state.subs[i]} index={i} />);\r\n    };\r\n    return (\r\n    <IonPage>\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonTitle>\r\n            Feed\r\n          </IonTitle>\r\n      <IonButtons slot=\"start\">\r\n          <IonButton onClick={() => {this.setState({isWeatherModalOpen: true})}}  fill='clear'>\r\n              <IonIcon icon={cloud} />\r\n          </IonButton>\r\n          </IonButtons>\r\n          <IonButtons slot=\"end\">\r\n          <IonButton onClick={() => {this.setState({showSubscription: true})}}  fill='clear'>\r\n              <IonIcon icon={bookmarks} />\r\n          </IonButton>\r\n          </IonButtons>\r\n          <IonButtons slot=\"end\">\r\n          <IonButton onClick={() => {this.setState({showModal: true})}}  fill='clear'>\r\n              <IonIcon icon={search} />\r\n          </IonButton>\r\n          </IonButtons>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n      <IonContent>\r\n      \r\n        <Weather toggleWeatherModal={this.toggleWeatherModal} isOpen={this.state.isWeatherModalOpen}/>\r\n        {/* Modal for searching topics */}\r\n    <IonModal isOpen={this.state.showModal}>\r\n        <IonHeader>\r\n            <IonToolbar>\r\n        <IonButtons slot='start'>\r\n                <IonButton onClick={() => {this.setState({showModal: false})}} fill='clear'>\r\n                  <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n        </IonButtons>\r\n        <IonTitle>\r\n          Search Topics\r\n        </IonTitle>\r\n        </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        <IonSearchbar placeholder=\"Topic\" onIonInput={(e: any) => this.setState({topicSearched:e.target.value} )} animated>\r\n      </IonSearchbar>\r\n      <IonButton expand=\"block\" fill=\"outline\" color=\"secondary\" type=\"submit\" onClick={()=>this.clear() && this.setState({showLoading: true})}>\r\n          search\r\n      </IonButton>\r\n      <IonLoading\r\n        isOpen={this.state.showLoading}\r\n        onDidDismiss={() => this.searchTopic(this.state.topicSearched) && this.setState({showLoading: false})}\r\n        message={'Getting data from database'}\r\n        duration={150}\r\n      />\r\n      <IonButton expand=\"block\" fill=\"outline\" color=\"secondary\" type=\"submit\" onClick={()=>this.subscribe(this.state.topicSearched)}>\r\n          subscribe\r\n      </IonButton>\r\n      <IonItem>\r\n         {/* check if person wants to search location */}\r\n  <IonLabel>Location based search</IonLabel>\r\n  <IonCheckbox onIonChange={e=> this.setState({locationBased:e.detail.checked}) }></IonCheckbox>\r\n  </IonItem>\r\n    <ArticleList theArticleList={this.state.articlesSearched}></ArticleList>\r\n        </IonContent>\r\n    </IonModal>\r\n    <IonModal isOpen={this.state.showSubscription}>\r\n        <IonHeader>\r\n            <IonToolbar>\r\n        <IonButtons slot='start'>\r\n                <IonButton onClick={() => {this.setState({showSubscription: false})}} fill='clear'>\r\n                  <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n        </IonButtons>\r\n        <IonTitle>\r\n                Subscriptions\r\n        </IonTitle>\r\n        </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        <IonCard>\r\n        <this.ParentComponent>\r\n       {subs}\r\n      </this.ParentComponent>\r\n        </IonCard>\r\n        </IonContent>\r\n    </IonModal>\r\n    <IonList>\r\n        <IonListHeader>\r\n          Recent News\r\n        </IonListHeader>\r\n      <ArticleList theArticleList={this.state.articles}></ArticleList>\r\n    </IonList>\r\n      </IonContent>\r\n\r\n    </IonPage>\r\n    )\r\n  }\r\n}\r\nexport default Feed;\r\n","import React from 'react';\r\nimport {\r\n  IonModal,\r\n  IonContent,\r\n  IonHeader,\r\n  IonButtons,\r\n  IonButton,\r\n  IonToolbar,\r\n  IonIcon,\r\n  IonTitle,\r\n  IonAvatar,\r\n  IonPopover,\r\n  IonList,\r\n  IonListHeader,\r\n  IonLabel,\r\n  IonItem,\r\n  IonInput\r\n} from '@ionic/react'\r\n\r\nimport './GroupView.css'\r\n\r\nimport firebase, {db, auth} from '../firebase'\r\nimport Placeholder from '../images/placeholder.png'\r\nimport {\r\n  closeCircleOutline,\r\n  exitOutline,\r\n  peopleOutline,\r\n  settingsOutline,\r\n  chevronDownOutline,\r\n  pencilOutline,\r\n  checkmarkOutline,\r\n  cloudUploadOutline,\r\n  addOutline\r\n} from 'ionicons/icons'\r\n\r\ntype MyState = {\r\n  articles: any,\r\n  groupViewPopoverEvent: any,\r\n  isGroupViewPopoverOpen: boolean,\r\n  isSettingsModalOpen: boolean,\r\n  isMembersModalOpen: boolean,\r\n  isFriendsListModalOpen: boolean,\r\n  isNicknameReadOnly: boolean,\r\n  tempNickname: string\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n  groupDetails: GroupType;\r\n  isGroupModalOpen: boolean;\r\n  toggleGroupModal: any;\r\n  leaveGroup: () => void,\r\n  deleteGroup: () => void,\r\n  currentUser: string,\r\n  friendList: string[],\r\n  addFriendToGroup: (friend : string, group: string) => void\r\n}\r\n\r\ntype GroupType = {\r\n  nickname: string;\r\n  members: string[];\r\n  id: string;\r\n  profilePicture: string;\r\n  owner: string;\r\n}\r\n\r\nclass GroupView extends React.Component<MyProps, MyState> {\r\n\r\n  state: MyState = {\r\n    articles: [],\r\n    groupViewPopoverEvent: undefined,\r\n    isGroupViewPopoverOpen: false,\r\n    isSettingsModalOpen: false,\r\n    isMembersModalOpen: false,\r\n    isFriendsListModalOpen: false,\r\n    isNicknameReadOnly: true,\r\n    tempNickname: this.props.groupDetails.nickname,\r\n  };\r\n\r\n  constructor(props: MyProps) {\r\n    super(props)\r\n    this.pullImage()\r\n\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n\r\n  }\r\n\r\n   async pullImage() {\r\n      if(auth.currentUser) {\r\n      var storage = firebase.storage();\r\n      var storageRef = firebase.storage().ref();\r\n      var pathReference;\r\n      var pathName = 'groupImages/' +this.props.groupDetails!.id+'.jpg';\r\n      pathReference = storageRef.child(pathName);\r\n\r\n        pathReference.getDownloadURL().then((url)=> {\r\n         var img = document.getElementById('groupImage');\r\n         if(img!=null)\r\n          img.setAttribute('src', url);\r\n\r\n      })\r\n      .catch((error) => {\r\n  // A full list of error codes is available at\r\n  // https://firebase.google.com/docs/storage/web/handle-errors\r\n  switch (error.code) {\r\n    case 'storage/object-not-found':\r\n    firebase.storage().ref().child('placeholder.png').getDownloadURL().then((url)=> {\r\n         var img = document.getElementById('groupImg');\r\n         if(img!=null)\r\n          img.setAttribute('src', url);\r\n      })\r\n\r\n      break;\r\n    case 'storage/unauthorized':\r\n      // User doesn't have permission to access the object\r\n      break;\r\n    case 'storage/canceled':\r\n      // User canceled the upload\r\n      break;\r\n    case 'storage/unknown':\r\n      // Unknown error occurred, inspect the server response\r\n      break;\r\n  }\r\n});\r\n\r\n    \r\n  }\r\n}\r\n\r\n  async uploadImage(selectorFiles: FileList)\r\n    {\r\n        if(selectorFiles[0]!=null) {\r\n        var storageRef = firebase.storage().ref();\r\n        var file = selectorFiles[0];\r\n        var uid = this.props.groupDetails!.id;\r\n        var newPicRef = storageRef.child('groupImages/' + uid+ '.jpg');\r\n        newPicRef.put(file);\r\n        await new Promise(r => setTimeout(r, 1000));\r\n        var url = await newPicRef.getDownloadURL();\r\n        \r\n        \r\n          db.collection('groups').doc(this.props.groupDetails.id).update({\r\n          profilePicture: url\r\n        })\r\n        \r\n\r\n        this.pullImage();\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n      <IonModal swipeToClose={false} isOpen={this.state.isMembersModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonButtons slot = 'start'>\r\n              <IonButton fill='clear' onClick={() => {this.setState({isMembersModalOpen: false})}}>\r\n                <IonIcon className='groupViewIcon' icon={chevronDownOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonTitle>Members</IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n          <IonListHeader>Owner</IonListHeader>\r\n          <IonList>\r\n            <IonItem>\r\n              <IonTitle>\r\n                {this.props.groupDetails!.owner}\r\n              </IonTitle>\r\n            </IonItem>\r\n          </IonList>\r\n          <IonListHeader>Members ({this.props.groupDetails.members.length - 1}) </IonListHeader>\r\n          <IonList>\r\n            {\r\n              this.props.groupDetails.members.map((member) => {\r\n                return member !== this.props.groupDetails!.owner ?\r\n                  <IonItem>\r\n                    <IonTitle>\r\n                      {member}\r\n                    </IonTitle>\r\n                  </IonItem>\r\n                 : undefined\r\n              })\r\n            }\r\n          </IonList>\r\n        </IonContent>\r\n      </IonModal>\r\n\r\n      <IonModal swipeToClose={false} isOpen={this.state.isSettingsModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonButtons slot = 'start'>\r\n              <IonButton fill='clear' onClick={() => {this.setState({isSettingsModalOpen: false})}}>\r\n                <IonIcon className='groupViewIcon' icon={chevronDownOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonTitle>Group Settings</IonTitle>\r\n\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        {\r\n          this.props.groupDetails.owner === this.props.currentUser ?\r\n            <div>\r\n              <IonItem>\r\n                Change Profile Picture\r\n               <IonButtons slot = 'end'>\r\n\r\n                  <IonButton id = 'submit'>\r\n              \r\n<input type=\"file\" id = 'fileSelect' onChange={ (e) => (this.uploadImage(e.target.files!)) } /> \r\n\r\n <IonIcon id = 'cloudUploadOutline' icon={cloudUploadOutline}/>\r\n</IonButton>\r\n          \r\n      \r\n         \r\n        </IonButtons>\r\n              </IonItem>\r\n              <IonItem>\r\n                <IonInput onIonChange={(e) => {this.setState({tempNickname: (e.target as HTMLInputElement).value})}} placeholder={this.props.groupDetails.nickname} readonly={this.state.isNicknameReadOnly} value={this.state.tempNickname}/>\r\n                <IonButton onClick={\r\n                  () => {this.setState({\r\n                    isNicknameReadOnly: !this.state.isNicknameReadOnly\r\n                  });\r\n                  db.collection('groups').doc(this.props.groupDetails.id).update({\r\n                    nickname: this.state.tempNickname\r\n                  })\r\n                }\r\n                } slot='end' fill='clear'>\r\n                  <IonIcon icon={this.state.isNicknameReadOnly ? pencilOutline : checkmarkOutline} />\r\n                </IonButton>\r\n              </IonItem>\r\n              <IonItem onClick={() => {this.setState({isSettingsModalOpen: false}); this.props.deleteGroup()}}>\r\n                Delete Group\r\n              </IonItem>\r\n            </div> : undefined\r\n        }\r\n\r\n        </IonContent>\r\n      </IonModal>\r\n\r\n      <IonModal swipeToClose={false} isOpen={this.state.isFriendsListModalOpen}>\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonButtons slot = 'start'>\r\n            <IonButton fill='clear' onClick={() => {this.setState({isFriendsListModalOpen: false})}}>\r\n              <IonIcon className='groupViewIcon' icon={chevronDownOutline}/>\r\n            </IonButton>\r\n          </IonButtons>\r\n          <IonTitle>Add Member</IonTitle>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n      <IonContent>\r\n        <IonListHeader>Friends ({this.props.friendList.length})</IonListHeader>\r\n        <IonList>\r\n          {\r\n            this.props.friendList.map((friend) => {\r\n              return (\r\n                <IonItem>\r\n                  <IonLabel>\r\n                    {friend}\r\n                  </IonLabel>\r\n                  <IonButton onClick={() => {this.props.addFriendToGroup(friend, this.props.groupDetails.id)}} fill='clear'>\r\n                    <IonIcon slot='end' icon={this.props.groupDetails.members.includes(friend) ? checkmarkOutline : addOutline}/>\r\n                  </IonButton>\r\n                </IonItem>\r\n              )\r\n            })\r\n          }\r\n        </IonList>\r\n      </IonContent>\r\n      </IonModal>\r\n\r\n        <IonPopover\r\n          cssClass='groupViewPopover'\r\n          event={this.state.groupViewPopoverEvent}\r\n          isOpen={this.state.isGroupViewPopoverOpen}\r\n          onDidDismiss={() => {this.setState({isGroupViewPopoverOpen: false, groupViewPopoverEvent: undefined})}}\r\n        >\r\n          <IonContent>\r\n            <IonList>\r\n              <IonListHeader id='groupViewPopoverListHeader'><b>Group Options</b></IonListHeader>\r\n              <IonItem button={true} onClick={() => {this.setState({isGroupViewPopoverOpen: false, isMembersModalOpen: true})}}>\r\n                <IonLabel>Members</IonLabel>\r\n                <IonIcon className='groupViewPopoverIcon' slot='end' icon={peopleOutline}/>\r\n              </IonItem>\r\n              <IonItem button={true}  onClick={() => {this.setState({isGroupViewPopoverOpen: false, isFriendsListModalOpen: true})}}>\r\n                <IonLabel>Add Member</IonLabel>\r\n                <IonIcon className='groupViewPopoverIcon' slot='end' icon={addOutline}/>\r\n              </IonItem>\r\n              <IonItem button={true}  onClick={() => {this.setState({isGroupViewPopoverOpen: false, isSettingsModalOpen: true})}}>\r\n                <IonLabel>Settings</IonLabel>\r\n                <IonIcon className='groupViewPopoverIcon' slot='end' icon={settingsOutline}/>\r\n              </IonItem>\r\n              <IonItem onClick={() => {this.setState({isGroupViewPopoverOpen: false}); this.props.leaveGroup()}} button={true}>\r\n                <IonLabel id='leaveGroup'>Leave Group</IonLabel>\r\n                <IonIcon id='groupViewPopoverLeave' slot='end' icon={exitOutline}/>\r\n              </IonItem>\r\n\r\n            </IonList>\r\n          </IonContent>\r\n        </IonPopover>\r\n\r\n        <IonModal swipeToClose={true} isOpen={this.props.isGroupModalOpen}>\r\n          <IonHeader>\r\n            <IonToolbar>\r\n              <IonButtons slot = 'start'>\r\n                <IonButton fill='clear' onClick={() => {this.props.toggleGroupModal()}}>\r\n                  <IonIcon className='groupViewIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n              </IonButtons>\r\n              <IonButtons slot='end'>\r\n\r\n              <IonAvatar onClick={(event : any) => {event.persist(); this.setState({isGroupViewPopoverOpen: true, groupViewPopoverEvent: event})}} className='groupViewProfilePicture'>\r\n                <img src = {this.props.groupDetails.profilePicture}/>\r\n              </IonAvatar>\r\n\r\n\r\n              </IonButtons>\r\n\r\n              <IonTitle>{this.props.groupDetails ? this.props.groupDetails.nickname : undefined}</IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n        </IonModal>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default GroupView;\r\n","import React from 'react';\r\n\r\nimport './Messenger.css'\r\n\r\nimport {\r\n         IonContent,\r\n         IonPage,\r\n         IonInput,\r\n         IonHeader,\r\n         IonToolbar,\r\n         IonTitle,\r\n         IonItem,\r\n         IonLabel,\r\n         IonIcon,\r\n         IonButtons,\r\n         IonButton\r\n       } from '@ionic/react';\r\n\r\nimport firebase, {auth} from '../firebase'\r\nimport {send, closeCircleOutline} from 'ionicons/icons';\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n  messageRef: string;\r\n  toggleMessengerModal: any;\r\n  username: string;\r\n}\r\n\r\ntype MyState = {\r\n  messages: any;\r\n  newUpdate: string;\r\n  submitPressed: string;\r\n\r\n}\r\n\r\nclass Messenger extends React.Component<MyProps, MyState> {\r\n\r\n  state: MyState = {\r\n  messages: undefined,\r\n  newUpdate: \"\",\r\n  submitPressed: \"#ff99aa\",\r\n};\r\n\r\n  realtime_db = firebase.database();\r\n  messageReference = this.realtime_db.ref(this.props.messageRef);\r\n  messageContainer: React.RefObject<HTMLDivElement>;\r\n\r\n\r\n\r\n  constructor(props: MyProps) {\r\n    super(props);\r\n    this.messageContainer = React.createRef<HTMLDivElement>()\r\n    // ### Begin Function Bindings ###\r\n\r\n    this.postToFeed = this.postToFeed.bind(this);\r\n    // ### End Function Bindings\r\n\r\n    //subscribe to published comments\r\n    //webhooktest 2\r\n  }\r\n\r\n  async componentWillMount() {\r\n  this.messageReference.on('value', (value) => {\r\n    this.setState({messages: value.val()})\r\n    console.log(value)\r\n\r\n\r\n  })\r\n  if(!auth.currentUser) {\r\n    this.props.history.push(\"/home\")\r\n  }\r\n\r\n}\r\n\r\nloadMessages = () => {\r\n  const messages = this.state.messages\r\n  if(this.messageContainer.current) {\r\n    this.messageContainer.current!.scrollIntoView(true)\r\n  }\r\n\r\n  return (\r\n    <div className=\"messageFeed\">{\r\n      messages && Object.keys(messages).map(key => {\r\n        return (\r\n          <IonItem class='message' key={key}>\r\n            <IonLabel class=\"ion-text-wrap\" position=\"stacked\">{messages[key].sender}</IonLabel>\r\n            <IonLabel class=\"ion-text-wrap\">{messages[key].message}</IonLabel>\r\n          </IonItem>\r\n        )\r\n      })\r\n    }\r\n    <div style={{height: \"20px\"}}ref={this.messageContainer}></div>\r\n    </div>\r\n  )\r\n}\r\n\r\npostToFeed() {\r\n  if(this.state.newUpdate != \"\") {\r\n    this.messageReference.push({message: this.state.newUpdate, sender: this.props.username})\r\n    this.setState({newUpdate: \"\"})\r\n  }\r\n}\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n          <IonHeader>\r\n            <IonToolbar>\r\n              <IonButtons>\r\n                <IonButton onClick={() => {this.props.toggleMessengerModal()}} id='closeMessengerModal' fill='clear'>\r\n                  <IonIcon id='closeMessengerModalIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n              </IonButtons>\r\n              <IonTitle>\r\n                Messenger\r\n              </IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n          <IonContent className='messengerContent'>\r\n            {<div className='messageWrapper'>{this.loadMessages()}</div>}\r\n              <IonItem lines=\"none\" className=\"feedChatbox\">\r\n                <IonInput value={this.state.newUpdate} onIonChange={(event) => this.setState({newUpdate: ((event.target as HTMLInputElement).value)})}></IonInput>\r\n                <IonIcon onTouchEnd={()=>{this.setState({submitPressed: \"#ff99aa\"})}} onTouchStart={() => {this.setState({submitPressed: \"#7f7880\"})}} style={{color: this.state.submitPressed}} onClick={() => {this.postToFeed()}} icon={send}></IonIcon>\r\n              </IonItem>\r\n          </IonContent>\r\n        </div>\r\n      )\r\n    }\r\n\r\n}\r\n\r\nexport default Messenger\r\n","import React from 'react';\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonContent,\r\n  IonTitle,\r\n  IonButtons,\r\n  IonButton,\r\n  IonIcon,\r\n  IonModal,\r\n  IonInput,\r\n  IonItem,\r\n  IonLabel,\r\n  IonPopover,\r\n  IonList,\r\n  IonListHeader,\r\n  IonAvatar,\r\n  IonItemGroup\r\n} from '@ionic/react'\r\n\r\nimport GroupView from './GroupView'\r\nimport Placeholder from '../images/placeholder.png'\r\n\r\nimport firebase, {db, auth} from '../firebase'\r\nimport {\r\n  personAddOutline,\r\n  closeCircleOutline,\r\n  listOutline,\r\n  addOutline,\r\n  addCircleOutline,\r\n  sendOutline\r\n} from 'ionicons/icons'\r\n\r\nimport './Social.css'\r\nimport Messenger from './Messenger'\r\n\r\n\r\ntype MyState = {\r\n  isAddFriendModalOpen: boolean;\r\n  ourUsername: string;\r\n  targetUsername: string;\r\n  friendsList: string[];\r\n  blockedUsers: [];\r\n  isPendingRequestsModalOpen: boolean;\r\n  isMessengerModalOpen: boolean;\r\n  incomingRequests: string[];\r\n  outgoingRequests: string[];\r\n  messageRef: string;\r\n  isSocialPopoverOpen: boolean;\r\n  socialPopoverEvent: any;\r\n  isCreateGroupModalOpen: boolean;\r\n  groupNickname: string;\r\n  groupArray: Group[];\r\n  numGroups: number;\r\n  unsubscribeGroupArray: any[];\r\n  groupDetails: Group;\r\n  isGroupModalOpen: boolean;\r\n  unsubscribeFriendsList: any;\r\n  unsubscribeBlockedUsers: any;\r\n  unsubscribeIncomingRequests: any;\r\n  unsubscribeOutgoingRequests: any;\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\ntype Group = {\r\n  nickname: string;\r\n  members: string[];\r\n  id: string;\r\n  profilePicture: string;\r\n  owner: string;\r\n}\r\n\r\nclass Social extends React.Component<MyProps, MyState> {\r\n  realtime_db = firebase.database();\r\n  state: MyState = {\r\n    isAddFriendModalOpen: false,\r\n    ourUsername: '',\r\n    targetUsername: '',\r\n    friendsList: [],\r\n    blockedUsers: [],\r\n    isPendingRequestsModalOpen: false,\r\n    isMessengerModalOpen: false,\r\n    incomingRequests: [],\r\n    outgoingRequests: [],\r\n    messageRef: '',\r\n    isSocialPopoverOpen: false,\r\n    socialPopoverEvent: undefined,\r\n    isCreateGroupModalOpen: false,\r\n    groupNickname: '',\r\n    groupArray: [],\r\n    numGroups: 0,\r\n    unsubscribeGroupArray: [],\r\n    groupDetails: {\r\n      nickname: '',\r\n      members: [],\r\n      id: '',\r\n      profilePicture: '',\r\n      owner: ''\r\n    },\r\n    isGroupModalOpen: false,\r\n    unsubscribeFriendsList: () => {},\r\n    unsubscribeBlockedUsers: null,\r\n    unsubscribeIncomingRequests: () => {},\r\n    unsubscribeOutgoingRequests: () => {}\r\n  };\r\n\r\n\r\n  unsubscribeGroups: any;\r\n\r\n\r\n  constructor(props: MyProps) {\r\n    super(props)\r\n\r\n\r\n    //Begin Functin bindings\r\n\r\n    this.addFriend = this.addFriend.bind(this);\r\n    this.acceptFriend = this.acceptFriend.bind(this);\r\n    this.declineFriend = this.declineFriend.bind(this);\r\n    this.removeFriend = this.removeFriend.bind(this);\r\n    this.blockUser = this.blockUser.bind(this);\r\n    this.cancelOutgingRequest = this.cancelOutgingRequest.bind(this);\r\n    this.toggleMessengerModal = this.toggleMessengerModal.bind(this);\r\n    this.generateUniqueGroupId = this.generateUniqueGroupId.bind(this);\r\n    this.createGroup = this.createGroup.bind(this);\r\n    this.toggleGroupModal = this.toggleGroupModal.bind(this);\r\n    this.deleteGroup = this.deleteGroup.bind(this);\r\n    this.leaveGroup = this.leaveGroup.bind(this);\r\n    //End Function Bindings\r\n\r\n    //Begin firebase data subscriptins\r\n    auth.onAuthStateChanged(() => {\r\n      if(auth.currentUser) {\r\n        //gets the username of our user\r\n        db.collection(\"users\").doc(auth.currentUser.uid).get().then(doc => {\r\n          if(doc.data()) {\r\n            console.log('social debug username: ' + doc.data()!.username)\r\n            this.setState({ourUsername: doc.data()!.username})\r\n            //creates a subscription to our user's friends list\r\n            let unsubscribeFriendsList = db.collection('friends').doc(this.state.ourUsername).onSnapshot((snapshot) => {\r\n              if(snapshot.data()) {\r\n                this.setState({friendsList: snapshot.data()!.friendsList})\r\n              }\r\n            })\r\n\r\n            // create subscription to user's blocked users list\r\n            this.state.unsubscribeBlockedUsers = db.collection('blockedUsers').doc(this.state.ourUsername).onSnapshot((snapshot) => {\r\n              if(snapshot.exists && snapshot.data()!.blocked !== undefined) {\r\n                this.setState({blockedUsers: snapshot.data()!.blocked})\r\n              } else {\r\n                db.collection(\"blockedUsers\").doc(this.state.ourUsername).set({blocked: []})\r\n                this.setState({blockedUsers: []})\r\n              }\r\n            })\r\n\r\n            //creates a subscription to our user's incoming friend requests\r\n            let unsubscribeIncomingRequests = db.collection('incomingFriendRequests').doc(this.state.ourUsername).onSnapshot((snapshot) => {\r\n              if(snapshot.data()) {\r\n                this.setState({incomingRequests: snapshot.data()!.incomingFriendRequests})\r\n              }\r\n            })\r\n\r\n            //creates a subscription to our user's outgoing friend requests\r\n            let unsubscribeOutgoingRequests = db.collection('outgoingFriendRequests').doc(this.state.ourUsername).onSnapshot((snapshot) => {\r\n              if(snapshot.data()) {\r\n                this.setState({outgoingRequests: snapshot.data()!.outgoingFriendRequests})\r\n              }\r\n            })\r\n\r\n            //crate a subscription to the list of a users groups\r\n            this.unsubscribeGroups = db.collection('usernames').doc(this.state.ourUsername).onSnapshot((snapshot) => {\r\n              if(snapshot.data()) {\r\n                this.setState({\r\n                  numGroups: snapshot.data()!.groups.length,\r\n                  groupArray: []\r\n                })\r\n                let unsubscribeGroupArray = []\r\n                for(let i = 0; i < this.state.numGroups; i++) {\r\n                  let unsubscribeIndividualGroup = db.collection('groups').doc(snapshot.data()!.groups[i]).onSnapshot((snapshot) => {\r\n                    let groupArray = [...this.state.groupArray]\r\n                    if(snapshot.data()) {\r\n                      let group : Group = {\r\n                        nickname: snapshot.data()!.nickname,\r\n                        members: snapshot.data()!.members,\r\n                        id: snapshot.data()!.id,\r\n                        profilePicture: snapshot.data()!.profilePicture,\r\n                        owner: snapshot.data()!.owner\r\n                      }\r\n                      groupArray[i] = group\r\n                      this.setState({groupArray: groupArray})\r\n                      if(this.state.groupDetails.id === group.id) {\r\n                        this.setState({groupDetails: group})\r\n                      }\r\n                      console.log(group)\r\n                    }\r\n                  })\r\n                  unsubscribeGroupArray.push(unsubscribeIndividualGroup)\r\n                }\r\n                this.setState({\r\n                  unsubscribeGroupArray: unsubscribeGroupArray\r\n                })\r\n              }\r\n\r\n            })\r\n\r\n            this.setState({\r\n              unsubscribeFriendsList: unsubscribeFriendsList,\r\n              unsubscribeIncomingRequests: unsubscribeIncomingRequests,\r\n              unsubscribeOutgoingRequests: unsubscribeOutgoingRequests\r\n            })\r\n          }\r\n        })\r\n      }\r\n    })\r\n\r\n    //End firebase data subscriptins\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //since we have subscriptions, we cancel them here to prevent a memory leak\r\n    this.state.unsubscribeFriendsList()\r\n    this.state.unsubscribeIncomingRequests()\r\n    this.state.unsubscribeOutgoingRequests()\r\n    for(let i = 0; i < this.state.unsubscribeGroupArray.length; i++) {\r\n      this.state.unsubscribeGroupArray[i]()\r\n    }\r\n  }\r\n\r\n  subscribeGroups() {\r\n\r\n  }\r\n\r\n\r\n  addFriend(username: string) { //sends a friend request to a user\r\n    if(username !== \"\" && username !== this.state.ourUsername) {\r\n      db.collection('usernames').doc(username).get().then(document => {\r\n        if(document.exists) {\r\n          db.collection('incomingFriendRequests').doc(username).update({\r\n            incomingFriendRequests: firebase.firestore.FieldValue.arrayUnion(this.state.ourUsername)\r\n          })\r\n          db.collection('outgoingFriendRequests').doc(this.state.ourUsername).update({\r\n            outgoingFriendRequests: firebase.firestore.FieldValue.arrayUnion(username)\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  cancelOutgingRequest(username: string) {\r\n    if(username !== \"\" && username !== this.state.ourUsername) {\r\n      db.collection('usernames').doc(username).get().then(document => {\r\n        if(document.exists) {\r\n          db.collection('incomingFriendRequests').doc(username).update({\r\n            incomingFriendRequests: firebase.firestore.FieldValue.arrayRemove(this.state.ourUsername)\r\n          })\r\n          db.collection('outgoingFriendRequests').doc(this.state.ourUsername).update({\r\n            outgoingFriendRequests: firebase.firestore.FieldValue.arrayRemove(username)\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  acceptFriend(username: string) { //accepts a friend request from a user\r\n    if(username != \"\") {\r\n\r\n      db.collection('outgoingFriendRequests').doc(username).update({\r\n        outgoingFriendRequests: firebase.firestore.FieldValue.arrayRemove(this.state.ourUsername),\r\n      })\r\n      db.collection('incomingFriendRequests').doc(this.state.ourUsername).update({\r\n        incomingFriendRequests: firebase.firestore.FieldValue.arrayRemove(username),\r\n      })\r\n      let friendMessageRef : any = new Object\r\n      friendMessageRef[username] =  btoa(this.state.ourUsername + '|' + username)\r\n      db.collection('friends').doc(this.state.ourUsername).update(\r\n        friendMessageRef\r\n      )\r\n      let friendMessageRef2 : any = new Object\r\n      friendMessageRef2[this.state.ourUsername] =  btoa(this.state.ourUsername + '|' + username)\r\n      db.collection('friends').doc(username).update(\r\n        friendMessageRef2\r\n      )\r\n      db.collection('friends').doc(this.state.ourUsername).update({\r\n        friendsList: firebase.firestore.FieldValue.arrayUnion(username)\r\n      })\r\n      db.collection('friends').doc(username).update({\r\n        friendsList: firebase.firestore.FieldValue.arrayUnion(this.state.ourUsername),\r\n      })\r\n      this.realtime_db.ref('/'+btoa(this.state.ourUsername + '|' + username)).push({message: 'This is the beginning of your message history.', sender: 'World-Watchlist'})\r\n    }\r\n\r\n  }\r\n\r\n  declineFriend(username: string) { //declines a friend request from a user\r\n    if(username != \"\") {\r\n      db.collection('outgoingFriendRequests').doc(username).update({\r\n        outgoingFriendRequests: firebase.firestore.FieldValue.arrayRemove(this.state.ourUsername),\r\n      })\r\n      db.collection('incomingFriendRequests').doc(this.state.ourUsername).update({\r\n        incomingFriendRequests: firebase.firestore.FieldValue.arrayRemove(username),\r\n      })\r\n    }\r\n  }\r\n\r\n  removeFriend(username: string) {\r\n    console.log(\"Removing friend \"+username);\r\n    if (username !== \"\")\r\n      if (this.state.friendsList.includes(username)) {\r\n        let friends = db.collection('friends');\r\n        friends.doc(this.state.ourUsername).update({friendsList: firebase.firestore.FieldValue.arrayRemove(username)});\r\n        friends.doc(username).update({friendsList: firebase.firestore.FieldValue.arrayRemove(this.state.ourUsername)})\r\n        friends.doc(this.state.ourUsername).update({[username]: firebase.firestore.FieldValue.delete()})\r\n        friends.doc(username).update({[this.state.ourUsername]: firebase.firestore.FieldValue.delete()})\r\n        console.log(\"Successfully removed friend\");\r\n      }\r\n  }\r\n\r\n  blockUser(username: string) { // adds given friend to blocked list, users on blocked list are excluded from stuff\r\n    if(username !== \"\") {\r\n      let chosenUser = db.collection('usernames').doc(username);\r\n      if( chosenUser === undefined)\r\n        return;\r\n      console.log(\"User exists, attempting to block\");\r\n      db.collection('blockedUsers').doc(this.state.ourUsername).update({blocked: firebase.firestore.FieldValue.arrayUnion(username)});\r\n      console.log(\"User should be added to blocked list\");\r\n      /*if ( this.isFriend(username))\r\n       *  this.removeFriend(username); // remove user once added to blocked list, line included for future possibility\r\n       */\r\n    }\r\n  }\r\n  isFriend(username: string) {\r\n    return username !== \"\" && this.state.friendsList.includes(username);\r\n  }\r\n  exists(username: string) {\r\n    return username !== \"\" //&& db.collection('usernames').doc(username) !== undefined\r\n  }\r\n  loadMessages(username: string) {\r\n\r\n    db.collection('friends').doc(this.state.ourUsername).get().then((doc) => {\r\n      if(doc.data()) {\r\n        this.setState({messageRef: doc.get(username)})\r\n        this.setState({isMessengerModalOpen: true})\r\n      }\r\n    })\r\n  }\r\n\r\n  toggleMessengerModal() {\r\n    this.setState({isMessengerModalOpen: !this.state.isMessengerModalOpen})\r\n  }\r\n\r\n  async generateUniqueGroupId() : Promise<string> {\r\n  let generateUniqueGroupIdPromise = new Promise<string>((resolve, reject) => {\r\n      let code = (Math.random()).toString(36);\r\n      db.collection('groudIds').doc(code).get().then((doc) => {\r\n        if(!doc.exists) {\r\n          resolve(code)\r\n        } else {\r\n          this.generateUniqueGroupId()\r\n        }\r\n      })\r\n    })\r\n\r\n    return await generateUniqueGroupIdPromise\r\n  }\r\n\r\n\r\n  createGroup() {\r\n    this.generateUniqueGroupId().then((code) => {\r\n      db.collection('groups').doc(code).set({\r\n        owner: this.state.ourUsername,\r\n        members: [this.state.ourUsername],\r\n        nickname: this.state.groupNickname,\r\n        id: code,\r\n        profilePicture: ''\r\n      })\r\n      db.collection('usernames').doc(this.state.ourUsername).update({\r\n        groups: firebase.firestore.FieldValue. arrayUnion(code),\r\n      })\r\n    })\r\n  }\r\n\r\n  leaveGroup() {\r\n    //function is intended to be called from the groupView page\r\n    //1 remove our user from the group collection\r\n    //2 remove the group from the user collection\r\n\r\n    //1\r\n    if(this.state.ourUsername !== this.state.groupDetails.owner) {\r\n      //user is not the owner of the group, can simply leave.\r\n      db.collection('groups').doc(this.state.groupDetails.id).update({\r\n        members: firebase.firestore.FieldValue.arrayRemove(this.state.ourUsername)\r\n      })\r\n\r\n    } else {\r\n      //user is the host of the group\r\n      if(this.state.groupDetails.members.length === 1) {\r\n        //user is the only member in the group. delete the group.\r\n        this.deleteGroup()\r\n      } else {\r\n        //user is the host but there are other members in the group. user is not deleting the group.\r\n        if(this.state.groupDetails.members[0] !== this.state.ourUsername) {\r\n            db.collection('groups').doc(this.state.groupDetails.id).update({\r\n              owner: this.state.groupDetails.members[0],\r\n              members: firebase.firestore.FieldValue.arrayRemove(this.state.ourUsername)\r\n\r\n            })\r\n        } else {\r\n          db.collection('groups').doc(this.state.groupDetails.id).update({\r\n            owner: this.state.groupDetails.members[1],\r\n            members: firebase.firestore.FieldValue.arrayRemove(this.state.ourUsername)\r\n          })\r\n        }\r\n      }\r\n    }\r\n    //2\r\n    db.collection('usernames').doc(this.state.ourUsername).update({\r\n      groups: firebase.firestore.FieldValue.arrayRemove(this.state.groupDetails.id)\r\n    })\r\n    this.setState({isGroupModalOpen: false})\r\n  }\r\n\r\n  deleteGroup() {\r\n    //delete a group\r\n    //intended to be used from the groupView page\r\n    if(this.state.ourUsername === this.state.groupDetails.owner) {\r\n      this.state.groupDetails.members.forEach((member) => {\r\n        db.collection('usernames').doc(member).update({\r\n          groups: firebase.firestore.FieldValue.arrayRemove(this.state.groupDetails.id)\r\n        })\r\n        db.collection('groups').doc(this.state.groupDetails.id).delete()\r\n      })\r\n      this.setState({\r\n        isGroupModalOpen: false\r\n      })\r\n    } else {\r\n      console.log('User should not be able to use this function')\r\n    }\r\n\r\n  }\r\n\r\n  addFriendToGroup(friend: string, group: string) {\r\n    db.collection('usernames').doc(friend).update({\r\n      groups: firebase.firestore.FieldValue.arrayUnion(group)\r\n    })\r\n    db.collection('groups').doc(group).update({\r\n      members: firebase.firestore.FieldValue.arrayUnion(friend)\r\n    })\r\n  }\r\n\r\n  toggleGroupModal() {\r\n    this.setState({isGroupModalOpen: !this.state.isGroupModalOpen})\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n      return (\r\n      <IonPage>\r\n\r\n        <IonModal isOpen={this.state.isAddFriendModalOpen}>\r\n          <IonHeader>\r\n            <IonToolbar>\r\n              <IonButtons slot='start'>\r\n                <IonButton onClick={() => {this.setState({isAddFriendModalOpen: false})}} id='addFriendModalCloseButton' fill='clear'>\r\n                  <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n              </IonButtons>\r\n              <IonTitle>\r\n                Add Friend\r\n              </IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n          <IonContent>\r\n            <IonItem lines='none' id='searchFriendItem'>\r\n              <IonInput id='addFriendSearch' onIonChange={(e) => {this.setState({targetUsername: (e.target as HTMLInputElement).value})}} />\r\n\r\n              <IonButton onClick={() => {this.addFriend(this.state.targetUsername)}} slot='end' id='addFriendButton' fill='clear'>\r\n                <IonIcon id='addFriendButtonIcon' icon={addCircleOutline} />\r\n              </IonButton>\r\n            </IonItem>\r\n\r\n          </IonContent>\r\n        </IonModal>\r\n\r\n        <IonModal isOpen={this.state.isPendingRequestsModalOpen}>\r\n          <IonHeader>\r\n            <IonToolbar>\r\n              <IonButtons slot='start'>\r\n                <IonButton onClick={() => {this.setState({isPendingRequestsModalOpen: false})}} id='addFriendModalCloseButton' fill='clear'>\r\n                  <IonIcon id='addFriendModalCloseIcon' icon={closeCircleOutline}/>\r\n                </IonButton>\r\n              </IonButtons>\r\n              <IonTitle>\r\n                Pending Requests\r\n              </IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n          <IonContent>\r\n            <h2 id='incomingFriendRequestHeader'>Incoming Friend Requests</h2>\r\n            {this.state.incomingRequests.map(IncomingFriend =>\r\n              <IonItem key={IncomingFriend.toString()}>\r\n                <IonLabel>{IncomingFriend.toString()}</IonLabel>\r\n                <IonButton onClick={() => {this.acceptFriend(IncomingFriend.toString())}} className='acceptButton' slot='end' fill='clear'>\r\n                  <IonIcon className='addIcon' icon={addCircleOutline} />\r\n                </IonButton>\r\n                <IonButton onClick={() => {this.declineFriend(IncomingFriend.toString())}} className='denyButton' slot='end' fill='clear'>\r\n                  <IonIcon className='denyIcon' icon={closeCircleOutline} />\r\n                </IonButton>\r\n              </IonItem>)}\r\n            <h2 id='outgoingFriendRequestHeader'>Outgoing Friend Requests</h2>\r\n            {this.state.outgoingRequests.map(OutgoingFriend =>\r\n              <IonItem key={OutgoingFriend.toString()}>\r\n                <IonLabel>{OutgoingFriend.toString()}</IonLabel>\r\n                <IonButton onClick={() => {this.cancelOutgingRequest(OutgoingFriend.toString())}} className='denyButton' slot='end' fill='clear'>\r\n                  <IonIcon className='denyIcon' icon={closeCircleOutline} />\r\n                </IonButton>\r\n              </IonItem>)}\r\n          </IonContent>\r\n        </IonModal>\r\n\r\n        <IonModal isOpen={this.state.isMessengerModalOpen}>\r\n          <Messenger {...this.props} messageRef={this.state.messageRef} toggleMessengerModal={this.toggleMessengerModal} username={this.state.ourUsername}/>\r\n        </IonModal>\r\n\r\n        <IonPopover\r\n          cssClass='socialPopover'\r\n          event={this.state.socialPopoverEvent}\r\n          isOpen={this.state.isSocialPopoverOpen}\r\n          onDidDismiss={() => {this.setState({isSocialPopoverOpen: false, socialPopoverEvent: undefined})}}\r\n        >\r\n          <IonContent>\r\n            <IonList>\r\n              <IonListHeader id='socialPopoverListHeader'><b>Social Options</b></IonListHeader>\r\n              <IonItem button={true} onClick={() => {this.setState({isSocialPopoverOpen: false, isAddFriendModalOpen: true})}}><IonLabel>Add Friend</IonLabel><IonIcon className='socialPopoverIcon' slot='end' icon={personAddOutline}/></IonItem>\r\n              <IonItem button={true}  onClick={() => {this.setState({isSocialPopoverOpen: false, isCreateGroupModalOpen: true})}}><IonLabel>Create Group</IonLabel><IonIcon className='socialPopoverIcon' slot='end' icon={addCircleOutline}/></IonItem>\r\n              <IonItem button={true}><IonLabel>New Message</IonLabel><IonIcon className='socialPopoverIcon' slot='end' icon={sendOutline}/></IonItem>\r\n            </IonList>\r\n          </IonContent>\r\n        </IonPopover>\r\n\r\n        <IonModal isOpen={this.state.isCreateGroupModalOpen}>\r\n          <IonHeader>\r\n            <IonToolbar>\r\n            <IonButtons slot='start'>\r\n              <IonButton onClick={() => {this.setState({isCreateGroupModalOpen: false})}} fill='clear'>\r\n                <IonIcon id='closeCreateGroupModalIcon' icon={closeCircleOutline} />\r\n              </IonButton>\r\n            </IonButtons>\r\n              <IonTitle>Create Group</IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n          <IonContent>\r\n            <IonInput className='createGroupInput' placeholder='Group Nickname' onIonChange={(e) => {this.setState({groupNickname: (e.target as HTMLInputElement).value})}}/>\r\n            <IonButton onClick={() => {this.createGroup(); this.setState({isCreateGroupModalOpen: false})}} id='createGroupButton'>Create</IonButton>\r\n          </IonContent>\r\n        </IonModal>\r\n\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonTitle>\r\n              Social\r\n            </IonTitle>\r\n            <IonButtons slot=\"start\">\r\n              <IonButton onClick={() => {this.setState({isPendingRequestsModalOpen: true})}}  fill='clear'>\r\n                <IonIcon icon={listOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonButtons slot='end'>\r\n              <IonButton onClick={(event : any) => {event.persist(); this.setState({isSocialPopoverOpen: true, socialPopoverEvent: event})}} fill='clear'>\r\n                <IonIcon icon={addOutline} />\r\n              </IonButton>\r\n            </IonButtons>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        {\r\n          this.state.friendsList.map(Friend =>\r\n            <IonItemGroup>\r\n            <IonItem button slot=\"start\" onClick={() => {this.loadMessages(Friend.toString())}} key={Friend.toString()}>\r\n              <IonLabel>{Friend.toString()}</IonLabel>\r\n            </IonItem>\r\n              <IonItem button slot=\"end\" onClick={() => {this.removeFriend(Friend)}}>Remove Friend</IonItem>\r\n              <IonButton onClick={() => {this.blockUser(Friend)}}>Block Friend</IonButton>\r\n            </IonItemGroup>\r\n        )}\r\n        <GroupView\r\n          isGroupModalOpen={this.state.isGroupModalOpen}\r\n          groupDetails={this.state.groupDetails}\r\n          {...this.props}\r\n          toggleGroupModal={this.toggleGroupModal}\r\n          leaveGroup={this.leaveGroup}\r\n          deleteGroup={this.deleteGroup}\r\n          currentUser={this.state.ourUsername}\r\n          friendList={this.state.friendsList}\r\n          addFriendToGroup={this.addFriendToGroup}\r\n        />\r\n        {\r\n          this.state.groupArray.map((displayGroup : Group) => {\r\n            return (\r\n              <IonItem onClick={() => {this.setState({groupDetails: displayGroup, isGroupModalOpen: true})}} lines='none' button={true} className='socialGroupItem' key={displayGroup.id}>\r\n                <IonAvatar slot='start' className='socialGroupAvatar'>\r\n                  <img src = {displayGroup.profilePicture ? displayGroup.profilePicture : Placeholder}/>\r\n                </IonAvatar>\r\n                <IonLabel className='socialGroupLabel'>\r\n                  {displayGroup.nickname}\r\n                </IonLabel>\r\n\r\n              </IonItem>\r\n            )\r\n          })\r\n        }\r\n\r\n\r\n        </IonContent>\r\n      </IonPage>\r\n      )\r\n    }\r\n\r\n}\r\n\r\nexport default Social\r\n","// Clay Mallory\r\n// File input code borrowed from Input code taken from https://medium.com/front-end-weekly/file-input-with-react-js-and-typescript-64dcea4b0a86. I tried to implement this a few other ways that apparently work in Javascript, but not Typescript and this is the only solution I found\r\nimport React from 'react';\r\n\r\nimport {\r\n  IonPage,\r\n  IonHeader,\r\n  IonToolbar,\r\n  IonContent,\r\n  IonTitle,\r\n  IonButton,\r\n  IonButtons,\r\n  IonItem,\r\n  IonLabel,\r\n  IonToggle,\r\n  IonIcon,\r\n  IonModal,\r\n  IonInput,\r\n  IonAvatar,\r\n  IonChip\r\n\r\n} from '@ionic/react'\r\nimport firebase, {db, auth} from '../firebase'\r\nimport {addCircleOutline, closeCircleOutline, newspaperOutline, mailOutline, arrowBackOutline, arrowForwardOutline, personCircleOutline, cloudUploadOutline} from 'ionicons/icons'\r\nimport { Capacitor, Plugins, CameraResultType, FilesystemDirectory } from '@capacitor/core';\r\nimport './Settings.css'\r\n\r\n\r\ntype MyState = {\r\n  isBlockSourceModalOpen:boolean;\r\n  isChangePasswordModalOpen:boolean;\r\n  isChangeUsernameModalOpen:boolean;\r\n  blockedSources:string[];\r\n  currentUserName:string;\r\n  sourceToBlock:string;\r\n  sourceToUnBlock:string;\r\n  localList:string[];\r\n  newPassword:string;\r\n  newUsername:string;\r\n\r\n\r\n}\r\n\r\ntype MyProps = {\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nclass Settings extends React.Component<MyProps, MyState> {\r\n\r\n  state: MyState = {\r\n    isBlockSourceModalOpen: false,\r\n    isChangePasswordModalOpen: false,\r\n    isChangeUsernameModalOpen: false,\r\n    blockedSources: [],\r\n    currentUserName :'',\r\n    sourceToBlock:\"\",\r\n    sourceToUnBlock:\"\",\r\n    localList: [],\r\n    newPassword:'',\r\n    newUsername:'',\r\n\r\n\r\n  };\r\n\r\n\r\n  constructor(props: MyProps) {\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n     this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.blockSource = this.blockSource.bind(this);\r\n\r\n        if(auth.currentUser) { // gets the name of the current user\r\n          db.collection(\"users\").doc(auth.currentUser.uid).get().then(doc => {\r\n            if(doc.data()) {\r\n              this.setState({currentUserName: doc.data()!.username})\r\n              var temp= db.collection('usernames').doc(this.state.currentUserName).onSnapshot((snapshot) => { //blockedSources not in firebase?\r\n                if(snapshot.data()) {\r\n                 this.setState({blockedSources: snapshot.data()!.blockedSources})\r\n                }\r\n              })\r\n            }\r\n          })\r\n          \r\n        }\r\n      \r\n       this.pullImage();\r\n  }\r\n\r\n  async handleChange(selectorFiles: FileList)\r\n    {\r\n      if(selectorFiles!=null) {\r\n        console.log(selectorFiles);\r\n        var storage = firebase.storage();\r\n        var storageRef = firebase.storage().ref();\r\n        var file = selectorFiles[0];\r\n        var uid = firebase.auth().currentUser!.uid;\r\n        var newPicRef = storageRef.child('profileImages/' + uid+ '.jpg');\r\n        newPicRef.put(file);\r\n        await new Promise(r => setTimeout(r, 1000));\r\n        this.pullImage();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  blockSource(sourceName:string) {\r\n\r\n    if(sourceName!=\"\" && sourceName.length > 3) { //makes sure the source is a valid site and isn't blank\r\n      if(!this.state.localList.includes(sourceName))\r\n        this.state.localList.push(sourceName);\r\n      this.addToList(sourceName);\r\n      this.state.blockedSources.push(sourceName);\r\n      console.log(this.state.blockedSources);\r\n      db.collection('usernames').doc(this.state.currentUserName).get().then(document => {\r\n      if(document.exists && this.isValidSite(sourceName)) {\r\n        db.collection('usernames').doc(this.state.currentUserName).update({\r\n        blockedSources : firebase.firestore.FieldValue.arrayUnion(sourceName)\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nunBlockSource(sourceName:string) {\r\n  if(sourceName!=\"\" ) { //makes sure the source is a valid site and isn't blank\r\n    db.collection('usernames').doc(this.state.currentUserName).get().then(document => {\r\n    if(document.exists) {\r\n      db.collection('usernames').doc(this.state.currentUserName).update({\r\n        blockedSources: firebase.firestore.FieldValue.arrayRemove(sourceName)\r\n      })\r\n    }\r\n  })\r\n}\r\n}\r\n\r\npopulate() {\r\nvar temp = this.state.blockedSources;\r\nfor (var i = temp.length - 1; i >= 0; i--) {\r\n  this.addToList(temp[i]);\r\n}\r\n \r\n}\r\n\r\nisEmailAddress(anEmail: string) {\r\n  return anEmail !== \"\" && anEmail.includes(\"@\");\r\n}\r\n\r\nchangeEmail(newEmail: string) {\r\n  if(auth.currentUser && this.isEmailAddress(newEmail)) {\r\n    auth.currentUser.updateEmail(newEmail).then(function() {\r\n\r\n  }).catch(function(error){\r\n\r\n  })\r\n}\r\n}\r\n\r\nsignOutUser() {\r\n  if ( auth.currentUser) {\r\n    auth.signOut()\r\n  }\r\n}\r\n\r\nchangePassword(password:string) {\r\n  if(auth.currentUser) {\r\n    auth.currentUser.updatePassword(password).then(function() {\r\n\r\n\r\n  }).catch(function(error){\r\n\r\n\r\n  })\r\n}\r\n}\r\n\r\n/*changeEmail(email:string) {\r\n  if(this.state.currentUserName!=undefined&& email.length > 3) { //makes sure the source is a valid site and isn't blank\r\n    db.collection('usernames').doc(this.state.currentUserName).get().then(document => { //works for one specific user currently\r\n    if(document.exists) {\r\n      db.collection('usernames').doc(this.state.currentUserName).update({\r\n        \"email.firebase\" : email\r\n      })\r\n\r\n    }\r\n  })\r\n}\r\n  }*/\r\n\r\n  changeUsername(newName:string) {\r\n    if(this.state.currentUserName!=undefined&& newName.length > 3) { //makes sure the source is a valid site and isn't blank\r\n      db.collection('usernames').doc(this.state.currentUserName).get().then(document => { //works for one specific user currently\r\n      if(document.exists) {\r\n        db.collection('usernames').doc(this.state.currentUserName).update({\r\n          \"username.firebase\" : newName\r\n        })\r\n\r\n      }\r\n    })\r\n  }\r\n    }\r\n\r\n    handleSubmit(){\r\n      \r\n      \r\n    }\r\n\r\n \r\n\r\n    pullImage(){\r\n      if(auth.currentUser) {\r\n      var storage = firebase.storage();\r\n      var storageRef = firebase.storage().ref();\r\n      var pathReference;\r\n      var pathName = 'profileImages/' +firebase.auth().currentUser!.uid+'.jpg';\r\n      pathReference = storageRef.child(pathName);\r\n\r\n        pathReference.getDownloadURL().then((url)=> {\r\n         var img = document.getElementById('myimg');\r\n         if(img!=null)\r\n          img.setAttribute('src', url);\r\n\r\n      })\r\n      .catch((error) => {\r\n  // A full list of error codes is available at\r\n  // https://firebase.google.com/docs/storage/web/handle-errors\r\n  switch (error.code) {\r\n    case 'storage/object-not-found':\r\n    firebase.storage().ref().child('placeholder.png').getDownloadURL().then((url)=> {\r\n         var img = document.getElementById('myimg');\r\n         if(img!=null)\r\n          img.setAttribute('src', url);\r\n      })\r\n\r\n      break;\r\n    case 'storage/unauthorized':\r\n      // User doesn't have permission to access the object\r\n      break;\r\n    case 'storage/canceled':\r\n      // User canceled the upload\r\n      break;\r\n    case 'storage/unknown':\r\n      // Unknown error occurred, inspect the server response\r\n      break;\r\n  }\r\n});\r\n    \r\n  }\r\n}\r\n\r\n    \r\n  \r\n\r\n\r\n\r\n\r\n   uploadImage() {\r\n   // const i = document.getElementById('image')!.files[0];\r\n    var y = React.createRef();\r\n      var storage = firebase.storage();\r\n      var storageRef = firebase.storage().ref();\r\n      var newPicRef = storageRef.child('images/new.jpg');\r\n      var file = document.getElementById('image');\r\n     // var v = file.files;\r\n      if(file!=null) {\r\n      file.addEventListener('change', function(evt) {\r\n        if(evt.target!=null) {\r\n     // let firstFile = evt.target.files[0] // upload the first file only\r\n      //let uploadTask = storageRef.put(firstFile)\r\n      }\r\n  })\r\n  }\r\n        \r\n      \r\n    }\r\n\r\n   \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\naddToList(name:string) {\r\n  if(!this.state.localList.includes(name)) {\r\n  var list = document.getElementById(\"blockedList\");\r\n  var entry = document.createElement(\"li\");\r\n  entry.setAttribute(\"id\", name);\r\n  entry.appendChild(document.createTextNode(name));\r\n  if(list!=null)\r\n  list.appendChild(entry);\r\n  console.log(list);\r\n}\r\n\r\n}\r\n\r\nisValidSite(siteName:string) {\r\n  if(siteName!='' && siteName.length>4) {\r\n    if(siteName.substring(siteName.length-4, siteName.length-3)=='.') {\r\n      var domainType = siteName.substring(siteName.length-3);\r\n      if(domainType == 'com'|| domainType=='org'||domainType == 'net')\r\n      return true;\r\n    }\r\n    }\r\n    return false;\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n      return (\r\n      <IonPage>\r\n      <IonModal isOpen={this.state.isBlockSourceModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonButtons>\r\n              <IonButton onClick={() => {this.populate();this.setState({isBlockSourceModalOpen: false})}} id='toBlock' fill='clear'>\r\n              <IonIcon id='closeBlockIcon' icon={arrowBackOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n            <IonTitle>\r\n              Block a Source\r\n\r\n            </IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonContent>\r\n        <IonItem lines='none' id='block'>\r\n          <IonInput class='addSource' onIonChange={(e) => {this.setState({sourceToBlock: (e.target as HTMLInputElement).value})}} />\r\n          <IonButton onClick={() => {this.blockSource(this.state.sourceToBlock)}}  fill='clear'>\r\n            <IonIcon id='addBlockIcon' icon={addCircleOutline} />\r\n          </IonButton>\r\n        </IonItem>\r\n        <br/>\r\n        <IonTitle id ='unblockText'>\r\n        Unblock a Source\r\n        </IonTitle>\r\n        <br/>\r\n        <br/>\r\n        <IonItem lines='none' id='block'>\r\n          <IonInput class='addSource' onIonChange={(e) => {this.setState({sourceToUnBlock: (e.target as HTMLInputElement).value})}} />\r\n          <IonButton onClick={() => {this.unBlockSource(this.state.sourceToUnBlock)}}  fill='clear'>\r\n            <IonIcon id='addBlockIcon' icon={addCircleOutline} />\r\n          </IonButton>\r\n        </IonItem>\r\n        <br/>\r\n        <IonHeader id = 'blockedSourcesHeader'>You Won't See Content From:</IonHeader>\r\n        <br/>\r\n\r\n        <ul id = \"blockedList\"></ul>\r\n          {\r\n            this.state.blockedSources.map(Blocked =>\r\n              <IonItem key = {Blocked.toString()}>\r\n              <IonItem class = 'blockedListEntry'>{Blocked.toString()}</IonItem>\r\n              </IonItem>\r\n            )}\r\n        </IonContent>\r\n      </IonModal>\r\n\r\n\r\n\r\n      <IonModal isOpen={this.state.isChangePasswordModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonButtons>\r\n              <IonButton onClick={() => {this.setState({isChangePasswordModalOpen: false})}} id='toBlock' fill='clear'>\r\n              <IonIcon id='closeBlockIcon' icon={arrowBackOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n\r\n            <IonTitle>\r\n              Change Password\r\n\r\n            </IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n        <IonContent>\r\n        <IonItem lines='none' id='block'>\r\n          <IonInput class = 'addSource' onIonChange={(e) => {this.setState({newPassword: (e.target as HTMLInputElement).value})}} />\r\n          <IonButton onClick={() => {this.changePassword(this.state.newPassword)}}  fill='clear'>\r\n            <IonIcon id='addBlockIcon' icon={arrowForwardOutline} />\r\n          </IonButton>\r\n        </IonItem>\r\n        </IonContent>\r\n      </IonModal>\r\n\r\n      <IonModal isOpen={this.state.isChangeUsernameModalOpen}>\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonButtons>\r\n              <IonButton onClick={() => {this.setState({isChangeUsernameModalOpen: false})}} id='toBlock' fill='clear'>\r\n              <IonIcon id='closeBlockIcon' icon={arrowBackOutline}/>\r\n              </IonButton>\r\n            </IonButtons>\r\n\r\n            <IonTitle>\r\n              Change Username\r\n\r\n            </IonTitle>\r\n            </IonToolbar>\r\n          </IonHeader>\r\n        <IonContent>\r\n        <IonItem lines='none' id='block'>\r\n          <IonInput class = 'addSource' onIonChange={(e) => {this.setState({newUsername: (e.target as HTMLInputElement).value})}} />\r\n          <IonButton onClick={() => {this.changeUsername(this.state.newUsername)}}  fill='clear'>\r\n            <IonIcon id='addBlockIcon' icon={arrowForwardOutline} />\r\n          </IonButton>\r\n        </IonItem>\r\n        </IonContent>\r\n\r\n      </IonModal>\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonTitle>\r\n              Settings\r\n            </IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n        <IonAvatar>\r\n          <img id = 'myimg' />\r\n        </IonAvatar>\r\n        <IonItem>\r\n            <IonLabel>Notifications</IonLabel>\r\n            <IonToggle value=\"Notifications\" />\r\n          </IonItem>\r\n\r\n        <IonContent>\r\n        <IonItem>\r\n        Content Filter\r\n        <IonButtons slot='end'>\r\n          <IonButton onClick={() => {this.setState({isBlockSourceModalOpen: true})}} fill='clear'>\r\n            <IonIcon id = 'contentFilterButton' icon={newspaperOutline} />\r\n          </IonButton>\r\n        </IonButtons>\r\n        </IonItem>\r\n\r\n        <IonItem id ='updateEmail'>\r\n          Update Email\r\n        <IonButtons slot='end'>\r\n          <IonButton onClick={() => {this.setState({isChangePasswordModalOpen: true})}} fill='clear'>\r\n\r\n            <IonIcon id = 'emailChangeButton' icon={mailOutline}/>\r\n          </IonButton>\r\n          </IonButtons>\r\n          </IonItem>\r\n\r\n          <IonItem id ='changeUsername'>\r\n            Change Username\r\n          <IonButtons slot='end'>\r\n            <IonButton onClick={() => {this.setState({isChangeUsernameModalOpen: true})}} fill='clear'>\r\n\r\n              <IonIcon id = 'userNameChangeButton' icon={personCircleOutline}/>\r\n              </IonButton>\r\n              </IonButtons>\r\n              </IonItem>\r\n           \r\n\r\n               <IonItem id ='updateEmail'>\r\n               Change Profile Picture\r\n               <IonButtons slot = 'end'>\r\n\r\n                  <IonButton id = 'submit'>\r\n              \r\n<input type=\"file\" id = 'fileSelect' onChange={ (e) => (this.handleChange(e.target.files!)) } /> \r\n\r\n <IonIcon id = 'cloudUploadOutline' icon={cloudUploadOutline}/>\r\n</IonButton>\r\n          \r\n      \r\n         \r\n        </IonButtons>\r\n          </IonItem>\r\n            <IonItem>\r\n            \r\n            \r\n           \r\n\r\n          \r\n          </IonItem>\r\n        </IonContent>\r\n      </IonPage>\r\n      )\r\n    }\r\n\r\n}\r\n\r\nexport default Settings\r\n","import React from 'react';\r\nimport {\r\n  IonTabBar,\r\n  IonTabButton,\r\n  IonTabs,\r\n  IonLabel,\r\n  IonIcon,\r\n  IonRouterOutlet\r\n} from '@ionic/react'\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { newspaperOutline, peopleOutline, settingsOutline} from 'ionicons/icons';\r\nimport Feed from './Feed'\r\nimport Social from './Social'\r\nimport Settings from './Settings'\r\n\r\nconst Tabs: React.FC = () => {\r\n  return (\r\n    <IonTabs>\r\n      <IonRouterOutlet>\r\n        <Route path=\"/main\" exact render={() => <Redirect to=\"/main/feed\"/>} />\r\n        <Route path=\"/main/feed\" component={Feed} exact={true} />\r\n        <Route path=\"/main/social\" component={Social} exact={true} />\r\n        <Route path=\"/main/settings\" component={Settings} exact={true}/>\r\n      </IonRouterOutlet>\r\n      <IonTabBar slot=\"bottom\">\r\n          <IonTabButton tab=\"feed\" href=\"/main/feed\">\r\n            <IonIcon icon={newspaperOutline} />\r\n            <IonLabel>Feed</IonLabel>\r\n          </IonTabButton>\r\n          <IonTabButton tab=\"social\" href=\"/main/social\">\r\n            <IonIcon icon={peopleOutline} />\r\n            <IonLabel>Social</IonLabel>\r\n          </IonTabButton>\r\n          <IonTabButton tab=\"settings\" href=\"/main/settings\">\r\n            <IonIcon icon={settingsOutline} />\r\n            <IonLabel>Settings</IonLabel>\r\n          </IonTabButton>\r\n        </IonTabBar>\r\n      </IonTabs>\r\n  )\r\n}\r\n\r\nexport default Tabs\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport {\r\n  IonApp,\r\n  IonRouterOutlet,\r\n} from '@ionic/react';\r\nimport { IonReactRouter } from '@ionic/react-router';\r\nimport { Plugins, PushNotification, PushNotificationToken, PushNotificationActionPerformed } from '@capacitor/core';\r\n\r\nimport Landing from './pages/Landing'\r\nimport Weather from './pages/Weather'\r\nimport Feed from './pages/Feed'\r\nimport Tabs from './pages/Tabs'\r\n/* Core CSS required for Ionic components to work properly */\r\nimport '@ionic/react/css/core.css';\r\n\r\n/* Basic CSS for apps built with Ionic */\r\nimport '@ionic/react/css/normalize.css';\r\nimport '@ionic/react/css/structure.css';\r\nimport '@ionic/react/css/typography.css';\r\n\r\n/* Optional CSS utils that can be commented out */\r\nimport '@ionic/react/css/padding.css';\r\nimport '@ionic/react/css/float-elements.css';\r\nimport '@ionic/react/css/text-alignment.css';\r\nimport '@ionic/react/css/text-transformation.css';\r\nimport '@ionic/react/css/flex-utils.css';\r\nimport '@ionic/react/css/display.css';\r\n\r\n/* Theme variables */\r\nimport './theme/variables.css';\r\n\r\nconst App: React.FC = () => (\r\n    <IonApp>\r\n      <IonReactRouter>\r\n        <IonRouterOutlet>\r\n        <Route path=\"/main\" component={Tabs}/>\r\n          <Route path=\"/Weather\" component={Weather}/>\r\n          <Route path=\"/feed\" component={Feed}/>\r\n          <Route path=\"/main\" component={Tabs}/>\r\n          <Route path=\"/landing\" component={Landing} exact={true} />\r\n          <Route exact path=\"/\" render={() => <Redirect to=\"/landing\" />} />\r\n        </IonRouterOutlet>\r\n      </IonReactRouter>\r\n    </IonApp>\r\n)\r\n\r\nconst INITIAL_STATE = {\r\n  notifications: [{ id: 'id', title: \"Test Push\", body: \"This is my first push notification\" }],\r\n};\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAQAAAAAAAAAAAAAAAAAAAAAA8J8HasaIBWRZAAAAAElFTkSuQmCC\"","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t133,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t134,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t135,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t136,\n\t\t18\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t137,\n\t\t19\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t138,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t139,\n\t\t20\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t140,\n\t\t21\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t141,\n\t\t22\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t142,\n\t\t23\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t143,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t144,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t145,\n\t\t24\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t146,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t147,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t148,\n\t\t25\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t149,\n\t\t26\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t150,\n\t\t27\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t151,\n\t\t28\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t152,\n\t\t29\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t153,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t154,\n\t\t15\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t155,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t156,\n\t\t30\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t157,\n\t\t31\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t158,\n\t\t32\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t159,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t160,\n\t\t17\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t161,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t162,\n\t\t33\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t163,\n\t\t34\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t164,\n\t\t35\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t165,\n\t\t36\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t166,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t167,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t168,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t169,\n\t\t37\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t170,\n\t\t16\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t171,\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t172,\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t173,\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t174,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t175,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 85;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t179,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 87;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}